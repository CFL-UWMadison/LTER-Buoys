<?xml version="1.0" standalone="no"?>
<!DOCTYPE entity PUBLIC "-//UC Berkeley//DTD MoML 1//EN"
    "http://ptolemy.eecs.berkeley.edu/xml/dtd/MoML_1.dtd">
<entity name="data_turbine_unix_new_cl_v6" class="ptolemy.actor.TypedCompositeActor">
    <property name="_createdBy" class="ptolemy.kernel.attributes.VersionAttribute" value="9.1.devel">
    </property>
    <property name="derivedFrom" class="org.kepler.moml.NamedObjIdReferralList" value="urn:lsid:kepler-project.org/ns/:49505:227:49:urn:lsid:kepler-project.org/ns/:49505:228:119:urn:lsid:kepler-project.org/ns/:49505:233:48:urn:lsid:kepler-project.org/ns/:49505:235:100:urn:lsid:kepler-project.org/ns/:49505:237:125">
    </property>
    <property name="entityId" class="org.kepler.moml.NamedObjId" value="urn:lsid:kepler-project.org/ns/:49505:238:73">
    </property>
    <property name="ParameterSet" class="ptolemy.actor.parameters.ParameterSet">
        <property name="fileOrURL" class="ptolemy.data.expr.FileParameter" value="/opt/kepler/conf/param_cl.cfg">
        </property>
        <property name="checkForFileUpdates" class="ptolemy.data.expr.Parameter" value="true">
        </property>
<property name="KeplerDocumentation" class="ptolemy.vergil.basic.KeplerDocumentationAttribute">
<property name="description" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>null</configure></property>
<property name="author" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>Christopher Brooks, contributor: Edward A. Lee</configure></property>
<property name="version" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>null</configure></property>
<property name="userLevelDocumentation" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>&#10; An attribute that reads multiple values from a file and sets&#10; corresponding parameters in the container.&#10; The values are in the form:&#10; &lt;pre&gt;&#10; &lt;i&gt;attributeName&lt;/i&gt; = &lt;i&gt;value&lt;/i&gt;&#10; &lt;/pre&gt;&#10; where &lt;code&gt;&lt;i&gt;variableName&lt;/i&gt;&lt;/code&gt; is the name of the attribute&#10; in a format suitable for {@link ptolemy.kernel.util.NamedObj#setName(String)}&#10; (i.e., does not contain periods) and  &lt;code&gt;&lt;i&gt;value&lt;/i&gt;&lt;/code&gt; is&#10; the expression in the Ptolemy expression language.&#10; Comments are lines that begin with the &lt;code&gt;#&lt;/code&gt; character.&#10; Each line in the file is interpreted as a separate assignment.&#10;&#10; &lt;p&gt;The attributes that are created will have the same&#10; visibility as parameters of the container of the attribute.&#10; They are shadowed, however, by parameters of the container.&#10; That is, if the container has a parameter with the same name&#10; as one in the parameter set, the one in the container provides&#10; the value to any observer.&lt;/p&gt;&#10;&#10; &lt;p&gt;If the file is modified during execution of a model, by default&#10; this will not be noticed until the next run. If you set the&#10; &lt;i&gt;checkForFileUpdates&lt;/i&gt; parameter to &lt;i&gt;true&lt;/i&gt;, then&#10; on each prefiring of the enclosing opaque composite actor,&#10; this parameter will check for updates of the file. Otherwise,&#10; it will only check between runs of the model or when the file&#10; name or URL gets changed.&lt;/p&gt;&#10;&#10; &lt;p&gt;Note that the order the parameters are created is arbitrary,&#10; this is because we read the file in using java.util.Properties.load(),&#10; which uses a HashMap to store the properties.  We use a Properties.load()&#10; because it provides a nice parser for the files and can read and write&#10; values in both text and XML.&lt;/p&gt;&#10;    </configure></property>
</property>        <property name="entityId" class="org.kepler.moml.NamedObjId" value="urn:lsid:kepler-project.org/ns/:49505:131:10">
        </property>
        <property name="class" class="ptolemy.kernel.util.StringAttribute" value="ptolemy.actor.parameters.ParameterSet">
            <property name="id" class="ptolemy.kernel.util.StringAttribute" value="urn:lsid:kepler-project.org:class:1184:1">
            </property>
        </property>
        <property name="semanticType11" class="org.kepler.sms.SemanticType" value="urn:lsid:localhost:onto:2:1#Parameter">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="{105.0, 149.0}">
        </property>
        <property name="derivedFrom" class="org.kepler.moml.NamedObjIdReferralList" value="urn:lsid:kepler-project.org:actor:529:1">
        </property>
    </property>
    <property name="SDF Director" class="ptolemy.domains.sdf.kernel.SDFDirector">
        <property name="localClock" class="ptolemy.actor.LocalClock">
            <property name="globalTimeResolution" class="ptolemy.actor.parameters.SharedParameter" value="1.0E-10">
            </property>
            <property name="clockRate" class="ptolemy.data.expr.Parameter" value="1.0">
            </property>
        </property>
        <property name="iterations" class="ptolemy.data.expr.Parameter" value="0">
        </property>
        <property name="vectorizationFactor" class="ptolemy.data.expr.Parameter" value="1">
        </property>
        <property name="allowDisconnectedGraphs" class="ptolemy.data.expr.Parameter" value="true">
        </property>
        <property name="allowRateChanges" class="ptolemy.data.expr.Parameter" value="true">
        </property>
        <property name="constrainBufferSizes" class="ptolemy.data.expr.Parameter" value="false">
        </property>
        <property name="period" class="ptolemy.data.expr.Parameter" value="period">
        </property>
        <property name="synchronizeToRealTime" class="ptolemy.data.expr.Parameter" value="true">
        </property>
        <property name="Scheduler" class="ptolemy.domains.sdf.kernel.SDFScheduler">
            <property name="constrainBufferSizes" class="ptolemy.data.expr.Parameter" value="constrainBufferSizes">
            </property>
        </property>
<property name="KeplerDocumentation" class="ptolemy.vergil.basic.KeplerDocumentationAttribute">
<property name="description" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>null</configure></property>
<property name="author" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>Steve Neuendorffer</configure></property>
<property name="version" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>null</configure></property>
<property name="userLevelDocumentation" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>&#10;&lt;p&gt;The SDF Director is often used to oversee fairly simple, sequential workflows in which the director can determine the order of actor invocation from the workflow. Types of workflows that would run well under an SDF Director include processing and reformatting tabular data, converting one data type to another, and reading and plotting a series of data points. A workflow in which an image is read, processed (rotated, scaled, clipped, filtered, etc.), and then displayed, is also an example of a sequential workflow that requires a director simply to ensure that each actor fires in the proper order (i.e., that each actor executes only after it receives its required inputs).&lt;/p&gt;&#10;&#10;&lt;p&gt;The SDF Director is very efficient and will not tax system resources with overhead. However, this efficiency requires that certain conditions be met, namely that the data consumption and production rate of each actor in an SDF workflow be constant and declared. If an actor reads one piece of data and calculates and outputs a single result, it must always read and output a single token of data. This data rate cannot change during workflow execution and, in general, workflows that require dynamic scheduling and/or flow control cannot use this director. Additionally, the SDF Director has no understanding of passing time (at least by default), and actors that depend on a notion of time may not work as expected. For example, a TimedPlotter actor will plot all values at time zero when used in SDF. &lt;/p&gt;&#10;&#10;&lt;p&gt;By default, the SDF Director requires that all actors in its workflow be connected. Otherwise, the director cannot account for concurrency between disconnected workflow parts. Usually, a PN Director should be used for workflows that contain disconnected actors; however, the SDF Director's allowDisconnectedGraphs parameter may also be set to true. The SDF Director will then schedule each disconnected &quot;island&quot; independently. The director cannot infer the sequential relationship between disconnected actors (i.e., nothing forces the director to finish executing all actors on one island before firing actors on another). However, the order of execution within each island should be correct. Usually, disconnected graphs in an SDF model indicate an error.&lt;/p&gt;&#10; &#10;&lt;p&gt;Because SDF Directors schedule actors to fire only after they receive their inputs, workflows that require loops (feeding an actor's output back into its input port for further processing) can cause &quot;deadlock&quot; errors. The deadlock errors occur because the actor depends on its own output value as an initial input. To fix this problem, use a SampleDelay actor to generate and inject an initial input value into the workflow.&lt;/p&gt;&#10;&#10;&lt;p&gt;The SDF Director determines the order in which actors execute and how many times each actor needs to be fired to complete a single iteration of the workflow. This schedule is calculated BEFORE the director begins to iterate the workflow. Because the SDF Director calculates a schedule in advance, it is quite efficient. However, SDF workflows must be static. In other words, the same number of tokens must be consumed/produced at every iteration of the workflow. Workflows that require dynamic control structures, such as a BooleanSwitch actor that sends output on one of two ports depending on the value of a 'control', cannot be used with an SDF Director because the number of tokens on each output can change for each execution.&lt;/p&gt;&#10;&#10;&lt;p&gt;Unless otherwise specified, the SDF Director assumes that each actor consumes and produces exactly one token per channel on each firing. Actors that do not follow the one-token-per-channel firing convention (e.g., Repeat or Ramp) must declare the number of tokens they produce or consume via the appropriate parameters. &lt;/p&gt;&#10;&#10;&lt;p&gt;The number of times a workflow is iterated is controlled by the director's iterations parameter. Since Kepler 2.4, this parameter is set to &quot;AUTO&quot; by default. The director will run the workflow once when it is placed in the top level workflow. When it is placed in a composite actor, the director will keep running the sub-workflow inside of the composite actor until the top level director tells it to stop. In other words, &quot;AUTO&quot; means its value will be &quot;1&quot; when it is placed in the top level workflow, and will be &quot;UNBOUNDED&quot; when it is placed in a composite actor. This default value works for most cases. You can also select &quot;UNBOUNDED&quot; or specify &quot;0&quot; for this parameter, which means the workflow will iterate forever. Concrete numbers can be specified here too for the actual number of times the director should execute the workflow. &lt;/p&gt;&#10;&#10;&lt;p&gt;The amount of data processed by an SDF workflow is a function of both the number of times the workflow iterates and the value of the director's vectorizationFactor parameter. The vectorizationFactor is used to increase the efficiency of a workflow by increasing the number of times actors fire each time the workflow iterates. If the parameter is set to a positive integer (other than 1), the director will fire each actor the specified number of times more than normal. The default is 1, indicating that no vectorization should be performed. Keep in mind that changing the vectorizationFactor parameter changes the meaning of a nested SDF workflow and may cause deadlock in a workflow that uses it. &lt;/p&gt;&#10;&#10;&lt;p&gt;The SDF Director has several advanced parameters that are generally only relevant when an SDF workflow contains composite components. In most cases the period, timeResolution, synchronizeToRealTime, allowRateChanges, timeResolution, and constrainBufferSizes parameters can be left at their default values.&lt;/p&gt;&#10;&#10;&lt;p&gt;For more information about the SDF Director, see the Ptolemy documentation (http://ptolemy.eecs.berkeley.edu/papers/05/ptIIdesign3-domains/ptIIdesign3-domains.pdf).&lt;/p&gt;&#10;&#10;</configure></property>
<property name="prop:allowDisconnectedGraphs" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>Specify whether to allow disconnected actors in the workflow (by default, all actors are required to be connected). If disconnected actors are permitted, the SDF Director will schedule each disconnected 'island' independently. Nothing &quot;forces&quot; the director to finish executing all actors on one island before firing actors on another. However, the order of execution within each island should be correct. Usually, disconnected graphs in an SDF workflow indicate an error.</configure></property>
<property name="prop:allowRateChanges" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>Specify whether dynamic rate changes are permitted or not. By default, rate changes are not permitted, and the director will perform a check to disallow such workflows. If the parameter is selected, then workflows that require rate parameters to be modified during execution are valid, and the SDF Director will dynamically compute a new schedule at runtime. This is an advanced parameter that can usually be left at its default value.</configure></property>
<property name="prop:constrainBufferSizes" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>Specify whether buffer sizes are fixed. By default, buffers are fixed, and attempts to write to the buffer that cause the buffer to exceed its scheduled size result in an error. This is an advanced parameter that can usually be left at its default value.</configure></property>
<property name="prop:timeResolution" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>The time precision used by this director. All time values are rounded to the nearest multiple of this number. The value is a double that defaults to &quot;1E-10&quot; (which is 10-10). This is an advanced parameter that can usually be left at its default value.</configure></property>
<property name="prop:iterations" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>Specify the number of times a workflow is iterated. Since Kepler 2.4, this parameter is set to &quot;AUTO&quot; by default. The director will run the workflow once when it is placed in the top level workflow. When it is placed in a composite actor, the director will keep running the sub-workflow inside of the composite actor until the top level director tells it to stop. In other words, &quot;AUTO&quot; means its value will be &quot;1&quot; when it is placed in the top level workflow, and will be &quot;UNBOUNDED&quot; when it is placed in a composite actor. This default value works for most cases. You can also select &quot;UNBOUNDED&quot; or specify &quot;0&quot; for this parameter, which means the workflow will iterate forever. Concrete numbers can be specified here too for the actual number of times the director should execute the workflow. </configure></property>
<property name="prop:vectorizationFactor" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>The vectorizationFactor is used to increase the efficiency of a workflow by increasing the number of times actors fire each time the workflow iterates. If the parameter is set to a positive integer (other than 1), the director will fire each actor the specified number of times more than normal. The default is 1, indicating that no vectorization should be performed. Keep in mind that changing the vectorizationFactor parameter changes the meaning of a nested SDF workflow and may cause deadlock in a workflow that uses it. </configure></property>
<property name="prop:synchronizeToRealTime" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>Specify whether the execution should synchronize to real time or not. By default, the director does not synchronize to real time. If synchronize is selected, the director will only process the workflow when elapsed real time matches the product of the period parameter and the iteration count. Note: if the period parameter has a value of 0.0 (the default), then selecting this parameter has no effect. This is an advanced parameter that can usually be left at its default value.</configure></property>
<property name="prop:period" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>The time period of each iteration. The value is a double that defaults to 0.0, which means that the director does not increment workflow time. If the value greater than 0.0, the actor will increment workflow time each time it fires. This is an advanced parameter that can usually be left at its default value. </configure></property>
</property>        <property name="entityId" class="org.kepler.moml.NamedObjId" value="urn:lsid:kepler-project.org/ns/:49505:86:98">
        </property>
        <property name="class" class="ptolemy.kernel.util.StringAttribute" value="ptolemy.domains.sdf.kernel.SDFDirector">
            <property name="id" class="ptolemy.kernel.util.StringAttribute" value="urn:lsid:kepler-project.org:directorclass:1:2">
            </property>
        </property>
        <property name="semanticType00" class="org.kepler.sms.SemanticType" value="urn:lsid:localhost:onto:1:1#Director">
        </property>
        <property name="semanticType11" class="org.kepler.sms.SemanticType" value="urn:lsid:localhost:onto:2:1#Director">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[330.0, 195.0]">
        </property>
        <property name="derivedFrom" class="org.kepler.moml.NamedObjIdReferralList" value="urn:lsid:kepler-project.org:director:1:2:urn:lsid:kepler-project.org/ns/:49461:6:2:urn:lsid:kepler-project.org/ns/:49463:12:4">
        </property>
    </property>
    <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={1024, 22, 1920, 1018}, maximized=false}">
    </property>
    <property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[1612, 893]">
    </property>
    <property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="0.6400000000000006">
    </property>
    <property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{1038.3749999999989, 1272.6562499999995}">
    </property>
    <entity name="Data File Name" class="ptolemy.actor.lib.Expression">
        <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="duration">
            <property name="_hide" class="ptolemy.data.expr.Parameter" value="true">
            </property>
        </property>
        <property name="entityId" class="org.kepler.moml.NamedObjId" value="urn:lsid:kepler-project.org/ns/:49505:37:17">
        </property>
        <property name="class" class="ptolemy.kernel.util.StringAttribute" value="ptolemy.actor.lib.Expression">
            <property name="id" class="ptolemy.kernel.util.StringAttribute" value="urn:lsid:kepler-project.org:class:950:1">
            </property>
        </property>
        <property name="semanticType00" class="org.kepler.sms.SemanticType" value="urn:lsid:localhost:onto:1:1#MathOperationActor">
        </property>
        <property name="semanticType11" class="org.kepler.sms.SemanticType" value="urn:lsid:localhost:onto:2:1#GeneralPurpose">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
            <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
            </property>
            <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
            </property>
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[-445.0, 730.0]">
        </property>
<property name="KeplerDocumentation" class="ptolemy.vergil.basic.KeplerDocumentationAttribute">
<property name="description" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>null</configure></property>
<property name="author" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>Xiaojun Liu, Edward A. Lee, Steve Neuendorffer</configure></property>
<property name="version" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>null</configure></property>
<property name="userLevelDocumentation" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>&#10;&lt;p&gt;The Expression actor evaluates a specified expression (e.g., an addition or multiplication operation), which may reference the values of user-specified input ports, the current time, or the actor's iteration count. The actor outputs the value of the evaluated expression. &lt;/p&gt;&#10;&#10;&lt;p&gt;Expressions are specified in the Ptolemy expression language via the expression parameter. For more information about the expression language, see http://ptolemy.eecs.berkeley.edu/papers/05/ptIIdesign1-intro/ptIIdesign1-intro.pdf. &lt;/p&gt;&#10;&#10;&lt;p&gt;By default, the expression parameter is empty, and attempting to execute the actor without first specifying an expression generates an error. Expressions can refer to the values of inputs by the port name; to the current time by the identifier &quot;time&quot;; and to the current iteration count by the identifier &quot;iteration.&quot; &lt;/p&gt;&#10;&#10;&lt;p&gt;Input ports are created by the user and correspond to variables used in the specified expression. Currently, the Expression actor does not support input multiports. The actor requires all of its inputs to be present. If inputs are not all present, then the actor will generate an error. &lt;/p&gt;&#10;&#10;&lt;p&gt;Note: the Expression actor can be used instead of many of the arithmetic actors, such as AddSubtract, MultiplyDivide, and TrigFunction. However, those actors will be usually be more efficient, and sometimes more convenient to use.&lt;/p&gt;&#10;</configure></property>
<property name="port:output" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>An output port that broadcasts the value of the evaluated expression. The actor automatically determines the type based on the type of the input.</configure></property>
<property name="prop:expression" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>An expression to evaluate. Expressions are specified in the Ptolemy expression language. For more information about the expression language, see http://ptolemy.eecs.berkeley.edu/papers/05/ptIIdesign1-intro/ptIIdesign1-intro.pdf. By default, the parameter is empty, and attempting to execute the actor without first specifying an expression generates an error. Expressions can refer to the values of inputs by the port name; to the current time by the identifier &quot;time&quot;; and to the current iteration count by the identifier &quot;iteration.&quot;</configure></property>
</property>        <property name="derivedFrom" class="org.kepler.moml.NamedObjIdReferralList" value="urn:lsid:kepler-project.org:actor:75:1:urn:lsid:kepler-project.org/ns/:1361:31:1:urn:lsid:kepler-project.org/ns/:2538:2:1:urn:lsid:kepler-project.org/ns/:49463:19:2">
        </property>
    </entity>
    <entity name="Data File Name2" class="ptolemy.actor.lib.Expression">
        <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="dtaddress">
            <property name="_hide" class="ptolemy.data.expr.Parameter" value="true">
            </property>
        </property>
        <property name="entityId" class="org.kepler.moml.NamedObjId" value="urn:lsid:kepler-project.org/ns/:49505:37:21">
        </property>
        <property name="class" class="ptolemy.kernel.util.StringAttribute" value="ptolemy.actor.lib.Expression">
            <property name="id" class="ptolemy.kernel.util.StringAttribute" value="urn:lsid:kepler-project.org:class:950:1">
            </property>
        </property>
        <property name="semanticType00" class="org.kepler.sms.SemanticType" value="urn:lsid:localhost:onto:1:1#MathOperationActor">
        </property>
        <property name="semanticType11" class="org.kepler.sms.SemanticType" value="urn:lsid:localhost:onto:2:1#GeneralPurpose">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
            <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
            </property>
            <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
            </property>
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[-445.0, 600.0]">
        </property>
<property name="KeplerDocumentation" class="ptolemy.vergil.basic.KeplerDocumentationAttribute">
<property name="description" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>null</configure></property>
<property name="author" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>Xiaojun Liu, Edward A. Lee, Steve Neuendorffer</configure></property>
<property name="version" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>null</configure></property>
<property name="userLevelDocumentation" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>&#10;&lt;p&gt;The Expression actor evaluates a specified expression (e.g., an addition or multiplication operation), which may reference the values of user-specified input ports, the current time, or the actor's iteration count. The actor outputs the value of the evaluated expression. &lt;/p&gt;&#10;&#10;&lt;p&gt;Expressions are specified in the Ptolemy expression language via the expression parameter. For more information about the expression language, see http://ptolemy.eecs.berkeley.edu/papers/05/ptIIdesign1-intro/ptIIdesign1-intro.pdf. &lt;/p&gt;&#10;&#10;&lt;p&gt;By default, the expression parameter is empty, and attempting to execute the actor without first specifying an expression generates an error. Expressions can refer to the values of inputs by the port name; to the current time by the identifier &quot;time&quot;; and to the current iteration count by the identifier &quot;iteration.&quot; &lt;/p&gt;&#10;&#10;&lt;p&gt;Input ports are created by the user and correspond to variables used in the specified expression. Currently, the Expression actor does not support input multiports. The actor requires all of its inputs to be present. If inputs are not all present, then the actor will generate an error. &lt;/p&gt;&#10;&#10;&lt;p&gt;Note: the Expression actor can be used instead of many of the arithmetic actors, such as AddSubtract, MultiplyDivide, and TrigFunction. However, those actors will be usually be more efficient, and sometimes more convenient to use.&lt;/p&gt;&#10;</configure></property>
<property name="port:output" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>An output port that broadcasts the value of the evaluated expression. The actor automatically determines the type based on the type of the input.</configure></property>
<property name="prop:expression" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>An expression to evaluate. Expressions are specified in the Ptolemy expression language. For more information about the expression language, see http://ptolemy.eecs.berkeley.edu/papers/05/ptIIdesign1-intro/ptIIdesign1-intro.pdf. By default, the parameter is empty, and attempting to execute the actor without first specifying an expression generates an error. Expressions can refer to the values of inputs by the port name; to the current time by the identifier &quot;time&quot;; and to the current iteration count by the identifier &quot;iteration.&quot;</configure></property>
</property>        <property name="derivedFrom" class="org.kepler.moml.NamedObjIdReferralList" value="urn:lsid:kepler-project.org:actor:75:1:urn:lsid:kepler-project.org/ns/:1361:31:1:urn:lsid:kepler-project.org/ns/:2538:2:1:urn:lsid:kepler-project.org/ns/:49463:19:2">
        </property>
    </entity>
    <entity name="Data File Name3" class="ptolemy.actor.lib.Expression">
        <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="source">
            <property name="_hide" class="ptolemy.data.expr.Parameter" value="true">
            </property>
        </property>
        <property name="entityId" class="org.kepler.moml.NamedObjId" value="urn:lsid:kepler-project.org/ns/:49505:37:18">
        </property>
        <property name="class" class="ptolemy.kernel.util.StringAttribute" value="ptolemy.actor.lib.Expression">
            <property name="id" class="ptolemy.kernel.util.StringAttribute" value="urn:lsid:kepler-project.org:class:950:1">
            </property>
        </property>
        <property name="semanticType00" class="org.kepler.sms.SemanticType" value="urn:lsid:localhost:onto:1:1#MathOperationActor">
        </property>
        <property name="semanticType11" class="org.kepler.sms.SemanticType" value="urn:lsid:localhost:onto:2:1#GeneralPurpose">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
            <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
            </property>
            <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
            </property>
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[-465.0, 640.0]">
        </property>
<property name="KeplerDocumentation" class="ptolemy.vergil.basic.KeplerDocumentationAttribute">
<property name="description" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>null</configure></property>
<property name="author" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>Xiaojun Liu, Edward A. Lee, Steve Neuendorffer</configure></property>
<property name="version" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>null</configure></property>
<property name="userLevelDocumentation" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>&#10;&lt;p&gt;The Expression actor evaluates a specified expression (e.g., an addition or multiplication operation), which may reference the values of user-specified input ports, the current time, or the actor's iteration count. The actor outputs the value of the evaluated expression. &lt;/p&gt;&#10;&#10;&lt;p&gt;Expressions are specified in the Ptolemy expression language via the expression parameter. For more information about the expression language, see http://ptolemy.eecs.berkeley.edu/papers/05/ptIIdesign1-intro/ptIIdesign1-intro.pdf. &lt;/p&gt;&#10;&#10;&lt;p&gt;By default, the expression parameter is empty, and attempting to execute the actor without first specifying an expression generates an error. Expressions can refer to the values of inputs by the port name; to the current time by the identifier &quot;time&quot;; and to the current iteration count by the identifier &quot;iteration.&quot; &lt;/p&gt;&#10;&#10;&lt;p&gt;Input ports are created by the user and correspond to variables used in the specified expression. Currently, the Expression actor does not support input multiports. The actor requires all of its inputs to be present. If inputs are not all present, then the actor will generate an error. &lt;/p&gt;&#10;&#10;&lt;p&gt;Note: the Expression actor can be used instead of many of the arithmetic actors, such as AddSubtract, MultiplyDivide, and TrigFunction. However, those actors will be usually be more efficient, and sometimes more convenient to use.&lt;/p&gt;&#10;</configure></property>
<property name="port:output" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>An output port that broadcasts the value of the evaluated expression. The actor automatically determines the type based on the type of the input.</configure></property>
<property name="prop:expression" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>An expression to evaluate. Expressions are specified in the Ptolemy expression language. For more information about the expression language, see http://ptolemy.eecs.berkeley.edu/papers/05/ptIIdesign1-intro/ptIIdesign1-intro.pdf. By default, the parameter is empty, and attempting to execute the actor without first specifying an expression generates an error. Expressions can refer to the values of inputs by the port name; to the current time by the identifier &quot;time&quot;; and to the current iteration count by the identifier &quot;iteration.&quot;</configure></property>
</property>        <property name="derivedFrom" class="org.kepler.moml.NamedObjIdReferralList" value="urn:lsid:kepler-project.org:actor:75:1:urn:lsid:kepler-project.org/ns/:1361:31:1:urn:lsid:kepler-project.org/ns/:2538:2:1:urn:lsid:kepler-project.org/ns/:49463:19:2">
        </property>
    </entity>
    <entity name="File Reader" class="ptolemy.actor.lib.io.FileReader">
        <property name="NONE" class="ptolemy.data.expr.Parameter" value="0">
        </property>
        <property name="fileOrURL" class="ptolemy.data.expr.FileParameter" value="/opt/kepler/db_files/last_written_cl.txt">
        </property>
        <property name="newline" class="ptolemy.data.expr.Parameter" value="property(&quot;line.separator&quot;)">
        </property>
        <property name="firingCountLimit" class="ptolemy.data.expr.Parameter" value="NONE">
        </property>
<property name="KeplerDocumentation" class="ptolemy.vergil.basic.KeplerDocumentationAttribute">
<property name="description" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>none</configure></property>
<property name="author" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>yang zhao, edward lee</configure></property>
<property name="version" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>none</configure></property>
<property name="userLevelDocumentation" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>&lt;p&gt;The FileReader actor reads a local file or URL and outputs the contents of the file as a single string.&lt;/p&gt;&#10;&#10;&lt;p&gt;The actor is similar to the SimpleFileReader, except that the FileReader has an additional trigger port and can read a URL via either an input port or parameter.&lt;/p&gt;&#10;&#10;&lt;p&gt;Kepler contains several actors used to read and output files in different ways. To output each line of the file as a separate string, use the LineReader actor. To output a specified section of the file, use the SegmentFileReader.&lt;/p&gt;</configure></property>
<property name="port:output" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>An output port that broadcasts the contents of the file as a single string.</configure></property>
<property name="port:endOfFile" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>An output port that indicates whether or not the end of the file has been reached. If the end of the file has been reached, the port will produce a true value. Otherwise, the value is false.</configure></property>
<property name="port:trigger" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>A multiport that has no declared type (in other words, the port can accept any data type: double, int, array, etc.) If the port is connected, the actor will not fire until the trigger port receives an input token. Connecting the port is optional, but useful when scheduling the actor to perform at a certain time.</configure></property>
<property name="port:fileOrURL" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>An optional input port that accepts the name or URL of a file to be read. When the port is connected, the actor reads the file sent by the previous workflow step. The file name or URL can also be specified using the fileOrURL parameter.</configure></property>
<property name="prop:newline" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>The end of line character(s). In general, this setting can be left at its default setting. </configure></property>
<property name="prop:fileOrURL" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>The file name or URL of the file to be read. See FileParameter for more information about specifying file names.</configure></property>
</property>        <property name="class" class="ptolemy.kernel.util.StringAttribute" value="ptolemy.actor.lib.io.FileReader">
            <property name="id" class="ptolemy.kernel.util.StringAttribute" value="urn:lsid:kepler-project.org:class:1045:1">
            </property>
        </property>
        <property name="semanticType00" class="org.kepler.sms.SemanticType" value="urn:lsid:localhost:onto:1:1#ReaderExternalInputActor">
        </property>
        <property name="semanticType11" class="org.kepler.sms.SemanticType" value="urn:lsid:localhost:onto:2:1#LocalInput">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[-670.0, 650.0]">
        </property>
        <port name="trigger" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="multiport"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </port>
        <port name="fileOrURL" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </port>
    </entity>
    <entity name="Expression" class="ptolemy.actor.lib.Expression">
        <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="lastdate">
            <property name="_hide" class="ptolemy.data.expr.Parameter" value="true">
            </property>
        </property>
<property name="KeplerDocumentation" class="ptolemy.vergil.basic.KeplerDocumentationAttribute">
<property name="description" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>null</configure></property>
<property name="author" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>Xiaojun Liu, Edward A. Lee, Steve Neuendorffer</configure></property>
<property name="version" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>null</configure></property>
<property name="userLevelDocumentation" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>&lt;p&gt;The Expression actor evaluates a specified expression (e.g., an addition or multiplication operation), which may reference the values of user-specified input ports, the current time, or the actor's iteration count. The actor outputs the value of the evaluated expression. &lt;/p&gt;&#10;&#10;&lt;p&gt;Expressions are specified in the Ptolemy expression language via the expression parameter. For more information about the expression language, see http://ptolemy.eecs.berkeley.edu/papers/05/ptIIdesign1-intro/ptIIdesign1-intro.pdf. &lt;/p&gt;&#10;&#10;&lt;p&gt;By default, the expression parameter is empty, and attempting to execute the actor without first specifying an expression generates an error. Expressions can refer to the values of inputs by the port name; to the current time by the identifier &quot;time&quot;; and to the current iteration count by the identifier &quot;iteration.&quot; &lt;/p&gt;&#10;&#10;&lt;p&gt;Input ports are created by the user and correspond to variables used in the specified expression. Currently, the Expression actor does not support input multiports. The actor requires all of its inputs to be present. If inputs are not all present, then the actor will generate an error. &lt;/p&gt;&#10;&#10;&lt;p&gt;Note: the Expression actor can be used instead of many of the arithmetic actors, such as AddSubtract, MultiplyDivide, and TrigFunction. However, those actors will be usually be more efficient, and sometimes more convenient to use.&lt;/p&gt;</configure></property>
<property name="port:output" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>An output port that broadcasts the value of the evaluated expression. The actor automatically determines the type based on the type of the input.</configure></property>
<property name="prop:expression" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>An expression to evaluate. Expressions are specified in the Ptolemy expression language. For more information about the expression language, see http://ptolemy.eecs.berkeley.edu/papers/05/ptIIdesign1-intro/ptIIdesign1-intro.pdf. By default, the parameter is empty, and attempting to execute the actor without first specifying an expression generates an error. Expressions can refer to the values of inputs by the port name; to the current time by the identifier &quot;time&quot;; and to the current iteration count by the identifier &quot;iteration.&quot;</configure></property>
</property>        <property name="entityId" class="org.kepler.moml.NamedObjId" value="urn:lsid:kepler-project.org/ns/:49505:225:1">
        </property>
        <property name="" class="ptolemy.vergil.basic.DocAttribute">
            <property name="description" class="ptolemy.kernel.util.StringAttribute" value="&lt;p&gt;The Expression actor evaluates a specified expression (e.g., an addition or multiplication operation), which may reference the values of user-specified input ports, the current time, or the actor's iteration count. The actor outputs the value of the evaluated expression. &lt;/p&gt;&#10;&#10;&lt;p&gt;Expressions are specified in the Ptolemy expression language via the expression parameter. For more information about the expression language, see http://ptolemy.eecs.berkeley.edu/papers/05/ptIIdesign1-intro/ptIIdesign1-intro.pdf. &lt;/p&gt;&#10;&#10;&lt;p&gt;By default, the expression parameter is empty, and attempting to execute the actor without first specifying an expression generates an error. Expressions can refer to the values of inputs by the port name; to the current time by the identifier &quot;time&quot;; and to the current iteration count by the identifier &quot;iteration.&quot; &lt;/p&gt;&#10;&#10;&lt;p&gt;Input ports are created by the user and correspond to variables used in the specified expression. Currently, the Expression actor does not support input multiports. The actor requires all of its inputs to be present. If inputs are not all present, then the actor will generate an error. &lt;/p&gt;&#10;&#10;&lt;p&gt;Note: the Expression actor can be used instead of many of the arithmetic actors, such as AddSubtract, MultiplyDivide, and TrigFunction. However, those actors will be usually be more efficient, and sometimes more convenient to use.&lt;/p&gt;">
            </property>
            <property name="author" class="ptolemy.kernel.util.StringAttribute" value="Xiaojun Liu, Edward A. Lee, Steve Neuendorffer">
            </property>
            <property name="version" class="ptolemy.kernel.util.StringAttribute" value="null">
            </property>
            <property name="expression (parameter)" class="ptolemy.data.expr.StringParameter" value="An expression to evaluate. Expressions are specified in the Ptolemy expression language. For more information about the expression language, see http://ptolemy.eecs.berkeley.edu/papers/05/ptIIdesign1-intro/ptIIdesign1-intro.pdf. By default, the parameter is empty, and attempting to execute the actor without first specifying an expression generates an error. Expressions can refer to the values of inputs by the port name; to the current time by the identifier &quot;time&quot;; and to the current iteration count by the identifier &quot;iteration.&quot;">
            </property>
            <property name="output (port)" class="ptolemy.kernel.util.StringAttribute" value="An output port that broadcasts the value of the evaluated expression. The actor automatically determines the type based on the type of the input.">
            </property>
        </property>
        <property name="class" class="ptolemy.kernel.util.StringAttribute" value="ptolemy.actor.lib.Expression">
            <property name="id" class="ptolemy.kernel.util.StringAttribute" value="urn:lsid:kepler-project.org:class:950:1">
            </property>
        </property>
        <property name="semanticType00" class="org.kepler.sms.SemanticType" value="urn:lsid:localhost:onto:1:1#MathOperationActor">
        </property>
        <property name="semanticType11" class="org.kepler.sms.SemanticType" value="urn:lsid:localhost:onto:2:1#GeneralPurpose">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
            <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
            </property>
            <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
            </property>
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[-850.0, 510.0]">
        </property>
        <property name="derivedFrom" class="org.kepler.moml.NamedObjIdReferralList" value="urn:lsid:kepler-project.org:actor:75:1">
        </property>
    </entity>
    <entity name="DataTurbine" class="org.kepler.data.datasource.dataturbine.DataTurbine">
        <property name="firingCountLimit" class="ptolemy.data.expr.Parameter" value="NONE">
        </property>
        <property name="NONE" class="ptolemy.data.expr.Parameter" value="0">
        </property>
        <property name="DataTurbine Address" class="ptolemy.actor.parameters.PortParameter" value="144.92.62.186">
        </property>
        <property name="specificChannel Name" class="ptolemy.actor.parameters.PortParameter" value="">
        </property>
        <property name="Specific Source Name" class="ptolemy.actor.parameters.PortParameter" value="CrystalLakeSonde">
        </property>
        <property name="Sink Mode" class="ptolemy.data.expr.Parameter" value="Request">
        </property>
        <property name="Start Time (for Request or Subscribe modes)" class="ptolemy.actor.parameters.PortParameter" value="1368162000&#10;">
        </property>
        <property name="Duration (for Request or Subscribe modes)" class="ptolemy.actor.parameters.PortParameter" value="3600">
        </property>
        <property name="Reference (for Request or Subscribe modes)" class="ptolemy.data.expr.Parameter" value="absolute">
        </property>
        <property name="Block Timeout (ms) (for Fetch)" class="ptolemy.data.expr.Parameter" value="15000">
        </property>
        <property name="Output Data Type" class="ptolemy.data.expr.Parameter" value="Record of 4 arrays">
        </property>
        <property name="Pad data gaps with nils" class="ptolemy.data.expr.Parameter" value="false">
        </property>
<property name="KeplerDocumentation" class="ptolemy.vergil.basic.KeplerDocumentationAttribute">
<property name="description" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>null</configure></property>
<property name="author" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>Derik Barseghian</configure></property>
<property name="version" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>null</configure></property>
<property name="userLevelDocumentation" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>&#10;The DataTurbine actor retrieves and outputs data from&#10;				an RBNB DataTurbine server. &#10; Sink mode Request has been tested&#10;				beneath SDF,&#10; modes Monitor and Subscribe briefly in PN.&#10;			</configure></property>
<property name="prop:Start Time (for Request or Subscribe modes)" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>Start time for Request or Subscribe modes. seconds or Date: yyyy-MM-dd HH:mm:ss&#10;			</configure></property>
<property name="prop:Pad data gaps with nils" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>Will attempt to identify and pad gappy data with pairs of&#10;				timestamps and nils Need at least 2 samples to be able to pad.&#10;			</configure></property>
<property name="prop:Reference (for Request or Subscribe modes)" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>For&#10;				Subscribe mode: Any of &quot;newest&quot;, &quot;oldest&quot;,&#10;				&quot;absolute&quot;, &quot;next&quot;, or &quot;previous&quot;.&#10;				&lt;br&gt;&lt;/br&gt;&#10;				For Request mode:&#10;				&lt;ul&gt;&#10;					&lt;li&gt;&quot;absolute&quot; -- The start parameter is absolute time&#10;						from midnight, Jan 1st, 1970 UTC.&lt;/li&gt;&#10;					&lt;li&gt;&quot;newest&quot; -- The start parameter is measured from the&#10;						most recent data available in the server at the time this request&#10;						is received. Note that for this case, the start parameter actually&#10;						represents the end of the duration, and positive times proceed&#10;						toward oldest data.&lt;/li&gt;&#10;					&lt;li&gt;&quot;oldest&quot; -- As &quot;newest&quot;, but relative to&#10;						the oldest data.&lt;/li&gt;&#10;					&lt;li&gt;&quot;aligned&quot; -- As &quot;newest&quot;, but rather than&#10;						per channel, this is relative to the newest for all of the&#10;						channels.&lt;/li&gt;&#10;					&lt;li&gt;&quot;after&quot; -- A combination between &quot;absolute&quot;&#10;						and &quot;newest&quot;, this flag causes the server to return the&#10;						newest data available after the specified start time. Unlike&#10;						&quot;newest&quot;, you do not have to request the data to find&#10;						out that you already have it. Unlike &quot;absolute&quot;, a gap&#10;						may be inserted in the data to provide you with the freshest data.&#10;					&lt;/li&gt;&#10;					&lt;li&gt;&quot;modified&quot; -- Similar to &quot;after&quot;, but&#10;						attempts to return a duration's worth of data in a contiguous&#10;						block. If the data is not available after the start time, it will&#10;						be taken from before the start time.&lt;/li&gt;&#10;					&lt;li&gt;&quot;next&quot; - gets the data that immediately follows the&#10;						time range specified. This will skip over gaps.&lt;/li&gt;&#10;					&lt;li&gt;&quot;previous&quot; - get the data that immediately preceeds&#10;						the time range specified. This will skip over gaps.&lt;/li&gt;&#10;				&lt;/ul&gt;&#10;			</configure></property>
<property name="prop:Duration (s) (for Request or Subscribe modes)" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>The duration of the request. Unit is seconds.</configure></property>
<property name="prop:Output Data Type" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>Format of output datapoint and timestamp pairs: Record of&#10;				2 Arrays, or an Array of X Records.</configure></property>
<property name="prop:Sink Mode" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>&#10;				Sink mode.&#10;				&lt;br&gt;&lt;/br&gt;&#10;				&lt;ul&gt;&#10;					&lt;li&gt;&quot;Request&quot;: Initiates a request for a specific time slice of&#10;						data.&lt;/li&gt;&#10;					&lt;li&gt;&quot;Subscribe&quot;: Starts a continuous feed of data on the specified&#10;						channels to this sink, for retrieval. Each block retrieved will be&#10;						duration time units in length.&lt;/li&gt;&#10;					&lt;li&gt;&quot;Monitor&quot;: Similar to Subscribe, but allows for continuous&#10;						frames of data without gaps.&lt;/li&gt;&#10;				&lt;/ul&gt;&#10;			</configure></property>
<property name="prop:DataTurbine Address" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>The URL to the DataTurbine Server</configure></property>
<property name="prop:specificChannel Name" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>The name of the channel to output through the&#10;				specifiedChannel output port</configure></property>
<property name="prop:Block Timeout (ms) (for Fetch)" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>The amount of time (ms) to wait for data to become&#10;				available. Use 0 for no delay or any negative number for an infinite&#10;				delay.</configure></property>
</property>        <property name="class" class="ptolemy.kernel.util.StringAttribute" value="org.kepler.data.datasource.dataturbine.DataTurbine">
            <property name="id" class="ptolemy.kernel.util.StringAttribute" value="urn:lsid:kepler-project.org:class:550:10">
            </property>
        </property>
        <property name="semanticType00" class="org.kepler.sms.SemanticType" value="urn:lsid:localhost:onto:2:1#RemoteInputActor">
        </property>
        <property name="semanticType11" class="org.kepler.sms.SemanticType" value="urn:lsid:localhost:onto:2:1#RemoteInput">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="{470, 650}">
        </property>
        <port name="trigger" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="multiport"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </port>
        <port name="CrystalLakeSonde/Chla" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
        </port>
        <port name="CrystalLakeSonde/DO2" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
        </port>
        <port name="CrystalLakeSonde/DOSat" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
        </port>
        <port name="CrystalLakeSonde/Depth" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
        </port>
        <port name="CrystalLakeSonde/RECORD" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
        </port>
        <port name="CrystalLakeSonde/WTemp" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
        </port>
        <port name="CrystalLakeSonde/pH" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
        </port>
        <port name="CrystalLakeSonde/sCond" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
        </port>
    </entity>
    <entity name="RExpression" class="org.ecoinformatics.seek.R.RExpression">
        <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="df &lt;- read.table(odm_mappings_in, sep=&quot;,&quot;, header=TRUE, row.names=1,nrows=-1, fill=TRUE)&#10;odm_mappings &lt;- df&#10;df2 &lt;- read.table(range_checks_in, sep=&quot;,&quot;, header=TRUE, row.names=1,nrows=-1, fill=TRUE)&#10;range_checks &lt;- df2&#10;&#10;&#10;#turn on or off QA/QC checks&#10;##################################################&#10;#absolute range checking on, enter 0 to turn off #&#10;check_range = 0                                  #&#10;#step function check on, 0 to turn off           #&#10;check_step = 0                                   #&#10;#standard deviation check on, 0 to turn off      #&#10;check_std_dev = 0                                #&#10;#custom range check spreadsheet on, 0 to turn off#&#10;check_custom_range = 1                           #&#10;##################################################&#10;&#10;#absolute range checks&#10;##################################&#10;#lower bound QA/QC for all data  #&#10;minVal = -8                      #&#10;#upper bound QA/QC for all data  #&#10;maxVal = 35                      #&#10;##################################&#10;&#10;#standard deviation flagging&#10;#################################################&#10;#enter values to flag based on std              #&#10;#i.e. to flag values 3*std +/-mean, enter 3     #&#10;std_dev_val = 3                                 #&#10;#################################################&#10;&#10;&#10;&#10;&#10;&#10;query_pt1&lt;-&quot;INSERT IGNORE INTO `datavalues` VALUES &quot;&#10;query_pt2b&lt;-&quot;&quot;&#10;query&lt;-&quot;&quot;&#10;log_file_text&lt;-&quot;&quot;&#10;&#10;odmMap&lt;- function(source,channel,depth){&#10;	depth = round(depth*2)/2&#10;	if (depth%%1==0){&#10;		depth=depth-.5&#10;	}&#10;	depth = as.character(abs(depth)*10)&#10;	cat(depth)&#10;	odm_row_num = which(paste(source,channel,depth,sep=&quot;&quot;)== row.names(odm_mappings))&#10;	#cat(paste(source,channel,depth,sep=&quot;&quot;))&#10;	#cat(odm_row_num)&#10;&#10;	return(odm_row_num)&#10;}&#10;&#10;writeQuery &lt;- function(dataValues,timestamps,source,channel,depth,query_pt2b,check_range,check_step,check_std_dev,check_custom_range,std_dev_val){&#10;&#10;log_file_text &lt;- paste(Sys.time(),&quot;:&quot;,&quot;Source:&quot;,source,&quot;Channel:&quot;,channel)&#10;if (!is.na(dataValues)){&#10;		query_pt1&lt;-&quot;INSERT IGNORE INTO `datavalues` VALUES &quot;&#10;		query_pt2b&lt;-paste(query_pt2b,query_pt1)&#10;		i = 1&#10;		#loop through all datavalues&#10;		log_file_text &lt;- paste(Sys.time(),&quot;:&quot;,&quot;Source:&quot;,source,&quot;Channel:&quot;,channel)&#10;		while (i &lt;= length(timestamps)){&#10;			if (!depth[i]==-99999){&#10;			my.lt =as.POSIXct(as.POSIXlt(timestamps[i], origin=&quot;1970-01-01&quot;))&#10;            date_local = substr(my.lt,1,20)&#10;			#if time in CDT, add 5&#10;			date_utc = as.POSIXct(timestamps[i], origin=&quot;1970-01-01&quot;)&#10;			&#10;			query_pt1&lt;-&quot;INSERT IGNORE INTO `datavalues` VALUES &quot;&#10;			odm_row_num = odmMap(source,channel,depth[i])&#10;			cat(odm_row_num)&#10;			 &#10;&#10;				site_id = odm_mappings[odm_row_num,1]&#10;				cat((as.character(site_id)))&#10;				var_id = odm_mappings[odm_row_num,2]&#10;				method_id = odm_mappings[odm_row_num,3]&#10;				offset_val = odm_mappings[odm_row_num,4]&#10;&#10;				#for each depth...&#10;				#odm_row_num = odmMap(source,channel,depth)&#10;				#get parameter name in range check spreadsheet&#10;				if (check_custom_range){&#10;					paramNameMin = paste(&quot;AirPortMet&quot;,channel,&quot;MinHRes&quot;,sep = &quot;&quot;)&#10;					paramNameMax = paste(&quot;AirPortMet&quot;,channel,&quot;MaxHRes&quot;,sep = &quot;&quot;)&#10;					rowNumMin = which(paramNameMin==row.names(range_checks))&#10;					rowNumMax = which(paramNameMax==row.names(range_checks))&#10;				}&#10;&#10;					runningWindow &lt;- rep(NA,61)&#10;&#10;					if (length(dataValues)&lt; 62){&#10;						runningWindow = dataValues[1:length(dataValues)]&#10;					} else if (i &lt; length(dataValues)-60){&#10;						runningWindow = dataValues[i:(i+60)]&#10;					} else {&#10;						runningWindow = dataValues[(length(dataValues)-60):length(dataValues)]&#10;					}&#10;					step = diff(runningWindow[(runningWindow!=-99999)],is.na=rm) # find differences between all subsequent data pts&#10;					mean_step = mean(abs(step)) # average diff&#10;					std_step = sd(abs(step))&#10;					stepcuthresh = mean_step + std_dev_val*std_step&#10;					qualifierID = &quot;1&quot;&#10;					prevFlagged = 0&#10;					chain = 0&#10;					totalFlagged = 0&#10;&#10;					#if length of rowNumMin is zero that means it doesnt exist in spreadsheet.&#10;					if (check_custom_range){&#10;						if (length(rowNumMin)){&#10;							cat(rowNumMin)&#10;							#get the month of the current timestamp, starting at character 6 in &quot;yyyy-mm-dd&quot;&#10;							if (check_custom_range){&#10;								month = as.numeric(substr(timestamps[i],6,7))&#10;								if (month &gt; 9){&#10;									colNum=(which(names(range_checks)==paste(&quot;month_&quot;,month,sep = &quot;&quot;)))&#10;								}else{&#10;									month = substr(timestamps[i],7,7)&#10;									colNum=(which(names(range_checks)==paste(&quot;month_&quot;,month,sep = &quot;&quot;)))&#10;								}&#10;&#10;								min = range_checks[rowNumMin,colNum]&#10;								max = range_checks[rowNumMax,colNum]&#10;							}&#10;						}&#10;					}&#10;&#10;&#10;					if (check_custom_range){&#10;					if (length(rowNumMin)){&#10;						if (dataValues[i]&lt;min | dataValues[i]&gt;max ){&#10;							qualifierID = &quot;2&quot;&#10;							totalFlagged = totalFlagged + 1&#10;						}&#10;						}&#10;					}&#10;					#absolute range check&#10;					if (check_range){ &#10;						&#10;							if (dataValues[i]&lt;minVal | dataValues[i]&gt;maxVal ){&#10;							##set value to null&#10;								qualifierID = &quot;2&quot;&#10;								totalFlagged = totalFlagged + 1&#10;							}&#10;						&#10;					}&#10;					#step function check&#10;					if (check_step){&#10;						if (!is.na(dataValues[i])){&#10;							if (i &gt; 1 &amp;i &lt;length(dataValues)-1){&#10;								if ((abs(dataValues[i-1]-dataValues[i])) &gt; stepcuthresh){&#10;									qualifierID = &quot;2&quot;&#10;									totalFlagged = totalFlagged + 1&#10;								} else{&#10;									qualifierID = &quot;1&quot;&#10;								}&#10;							}&#10;						}	&#10;					}&#10;					&#10;			if (i == length(dataValues)){&#10;				query_pt2a &lt;- paste(&quot;( NULL,&quot;,&#10;				as.character(dataValues[i]),&quot;,&quot;, #dataValues&#10;				&quot;2&quot;,&quot;,&quot;, #valueAccuracy&#10;				&quot;'&quot;,as.character(date_local),&quot;'&quot;,&quot;,&quot;, #local date time&#10;				&quot;5&quot;,&quot;,&quot;, #UTC offset&#10;				&quot;'&quot;,date_utc,&quot;'&quot;,&quot;,&quot;, #UTC time&#10;				as.character(site_id),&quot;,&quot;, #siteID&#10;				as.character(var_id),&quot;,&quot;, #variableID&#10;				as.character(offset_val),&quot;,&quot;, #offsetID&#10;				&quot;1&quot;,&quot;,&quot;, #offsetTypeID&#10;				&quot;'&quot;,&quot;nc&quot;,&quot;'&quot;,&quot;,&quot;, #censor code&#10;				qualifierID,&quot;,&quot;, #qualifierID&#10;				as.character(method_id),&quot;,&quot;, #methodID&#10;				&quot;1&quot;,&quot;,&quot;, #sourceID&#10;				&quot;1&quot;,&quot;,&quot;, #sampleID&#10;				&quot;0&quot;,&quot;,&quot;, #derivedFromID&#10;				&quot;1)&quot;,&#10;				&quot;;&quot;,sep=&quot;&quot;)&#10;			}else{&#10;			&#10;				query_pt2a &lt;- paste(&quot;( NULL,&quot;,&#10;				as.character(dataValues[i]),&quot;,&quot;, #dataValues&#10;				&quot;2&quot;,&quot;,&quot;, #valueAccuracy&#10;				&quot;'&quot;,as.character(date_local),&quot;'&quot;,&quot;,&quot;, #local date time&#10;				&quot;5&quot;,&quot;,&quot;, #UTC offset&#10;				&quot;'&quot;,date_utc,&quot;'&quot;,&quot;,&quot;, #UTC time&#10;				as.character(site_id),&quot;,&quot;, #siteID&#10;				as.character(var_id),&quot;,&quot;, #variableID&#10;				as.character(offset_val),&quot;,&quot;, #offsetID&#10;				&quot;1&quot;,&quot;,&quot;, #offsetTypeID&#10;				&quot;'&quot;,&quot;nc&quot;,&quot;'&quot;,&quot;,&quot;, #censor code&#10;				qualifierID,&quot;,&quot;, #qualifierID&#10;				as.character(method_id),&quot;,&quot;, #methodID&#10;				&quot;1&quot;,&quot;,&quot;, #sourceID&#10;				&quot;1&quot;,&quot;,&quot;, #sampleID&#10;				&quot;0&quot;,&quot;,&quot;, #derivedFromID&#10;				&quot;1)&quot;,&#10;				&quot;,&quot;,sep=&quot;&quot;)&#10;			}&#10;&#10;				query_pt2b&lt;-paste(query_pt2b,query_pt2a) #qualityControlLevelID&#10;					&#10;				qualifierID = &quot;1&quot;&#10;&#10;		&#10;			} #end if -99999 stmt&#10;			i = i+1&#10;		} #end while&#10;		&#10;	if (query_pt2b==&quot;&quot;){&#10;		query &lt;- &quot;INSERT IGNORE INTO `datavalues` VALUES (NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL); &quot;&#10;	}else {&#10;		query &lt;-paste(query_pt2b,sep=&quot;&quot;)&#10;	}&#10;&#10;cat(&quot;i:&quot;)&#10;cat(i)&#10;cat(&quot;\n&quot;)&#10;}else{&#10;	log_file_text &lt;- paste(log_file_text, &quot;No Data Found&quot;)&#10;	query &lt;- &quot;INSERT IGNORE INTO `datavalues` VALUES (NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL); &quot;&#10;} #end if.na statement&#10;cat(query)&#10;return(query)&#10;&#10;&#10;} #end function&#10;&#10;input_channel &lt;- input[[1]]&#10;input_dataValues &lt;- input[[2]]&#10;input_source &lt;- input[[3]]&#10;input_timestamps &lt;- input[[4]]&#10;&#10;depth_channel &lt;- Depth[[1]]&#10;depth_dataValues &lt;- Depth[[2]]&#10;depth_source &lt;- Depth[[3]]&#10;depth_timestamps &lt;- Depth[[4]]&#10;&#10;depth_array = depth_dataValues&#10;timestamp_array = input_timestamps&#10;&#10;&#10;cat(depth_array)&#10;query = &quot;&quot;&#10;&#10;last_date &lt;- timestamp_array[length(timestamp_array)]&#10;&#10;cat(as.character(timestamp_array[1]))&#10;&#10;#last_date_input&lt;-&quot;1390201200&quot;&#10;&#10;cat(last_date_input)&#10;cat(paste(last_date,&quot;/n&quot;,sep=&quot;&quot;))&#10;#if no new data was found, or no data at all was found, don't write to last_written.&#10;if (paste(last_date,&quot;/n&quot;,sep=&quot;&quot;)==last_date_input){&#10;  last_date &lt;- gsub(&quot;[.]&quot;,&quot;&quot;,substr(last_date_input,1,11))&#10;  cat(&quot;true&quot;)&#10;}&#10;&#10;if (is.na(timestamp_array[1])){&#10;  last_date &lt;-  gsub(&quot;[.]&quot;,&quot;&quot;,substr(last_date_input,1,11))&#10;  cat( substr(last_date_input,1,11))&#10;}&#10;&#10;&#10;&#10; query = paste(query,writeQuery(input_dataValues,timestamp_array,input_source,input_channel,depth_array,query,check_range,check_step,check_std_dev,check_custom_range,std_dev_val),sep=&quot;&quot;)&#10;&#10;&#10;if (is.na(input_dataValues)){&#10;	query &lt;- &quot;INSERT IGNORE INTO `datavalues` VALUES (NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL); &quot;&#10;}&#10;">
            <display name="R function or script"/>
            <property name="R Expression" class="ptolemy.actor.gui.style.TextStyle">
                <property name="height" class="ptolemy.data.expr.Parameter" value="10">
                </property>
                <property name="width" class="ptolemy.data.expr.Parameter" value="30">
                </property>
            </property>
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.TextEditorTableauFactory">
            <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
            </property>
            <property name="columnsDisplayed" class="ptolemy.data.expr.Parameter" value="80">
            </property>
            <property name="rowsDisplayed" class="ptolemy.data.expr.Parameter" value="40">
            </property>
        </property>
        <property name="Rcwd" class="ptolemy.data.expr.StringParameter" value="/home/csebranek/.kepler/cache-2.4/modules/r">
            <display name="R working directory"/>
        </property>
        <property name="save_nosave" class="ptolemy.data.expr.StringParameter" value="--no-save">
            <display name="Save or not"/>
        </property>
        <property name="graphicsFormat" class="ptolemy.data.expr.StringParameter" value="png">
            <display name="Graphics Format"/>
        </property>
        <property name="graphicsOutput" class="ptolemy.data.expr.Parameter" value="false">
            <display name="Graphics Output"/>
        </property>
        <property name="displayGraphicsOutput" class="ptolemy.data.expr.Parameter" value="false">
            <display name="Automatically display graphics"/>
        </property>
        <property name="numXPixels" class="ptolemy.data.expr.StringParameter" value="480">
            <display name="Number of X pixels in image"/>
        </property>
        <property name="numYPixels" class="ptolemy.data.expr.StringParameter" value="480">
            <display name="Number of Y pixels in image"/>
        </property>
<property name="KeplerDocumentation" class="ptolemy.vergil.basic.KeplerDocumentationAttribute">
<property name="description" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>null</configure></property>
<property name="author" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>Dan Higgins</configure></property>
<property name="version" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>null</configure></property>
<property name="userLevelDocumentation" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>&lt;p&gt;The RExpression actor runs an R script or function. Input and output port are created by the user and correspond to R variables used in the specified R script. The actor outputs the result of the evaluated script.&lt;/p&gt;&#10;&#10;&lt;p&gt;The R application must be installed on the local system to use this actor. R is a language and environment for statistical computing and graphics. For more information about R, see http://www.r-project.org/.&lt;/p&gt;&#10;&#10;&lt;p&gt;Kepler contains a number of preconfigured R-actors: Barplot, Boxplot, Scatterplot, Summary, RandomNormal, RandomUniform, Correlation, LinearModel, Regression, RMean, RMedian, RQuantile, and  SummaryStatistics.&lt;/p&gt;</configure></property>
<property name="port:output" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>An output port that broadcasts a copy of the text output that R generates. As the actor communicates with R to run the R function or script, the output port sends back the response (i.e., the values and statistical outputs).</configure></property>
<property name="port:graphicsFileName" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>An output port that broadcasts the file name of the generated graph of the results.</configure></property>
<property name="prop:Rcwd" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>The 'R' working directory (the home directory by default). </configure></property>
<property name="prop:displayGraphicsOutput" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>Select to display the plot once the actor has generated it.</configure></property>
<property name="prop:graphicsFormat" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>The graphics output format. Certain formats may require libraries be installed on your system.</configure></property>
<property name="prop:numXPixels" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>The width of the output graphic in pixels.</configure></property>
<property name="prop:numYPixels" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>The height of the output graphic in pixels.</configure></property>
<property name="prop:expression" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>The expression that is evaluated to produce the output.</configure></property>
<property name="prop:save_nosave" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>Specify whether or not to save the R workspace when R is closed; set to '--save' to retrieve the workspace later in a workflow in another R-actor.</configure></property>
<property name="prop:graphicsOutput" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>Specify whether or not to create a graphics output port. By default, the actor will create a graphics output port.</configure></property>
</property>        <property name="class" class="ptolemy.kernel.util.StringAttribute" value="org.ecoinformatics.seek.R.RExpression">
            <property name="id" class="ptolemy.kernel.util.StringAttribute" value="urn:lsid:kepler-project.org:class:1126:1">
            </property>
        </property>
        <property name="semanticType00" class="org.kepler.sms.SemanticType" value="urn:lsid:localhost:onto:1:1#MathOperationActor">
        </property>
        <property name="semanticType11" class="org.kepler.sms.SemanticType" value="urn:lsid:localhost:onto:2:1#GeneralPurpose">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[1105.0, 510.0]">
        </property>
        <port name="input" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
        </port>
        <port name="Depth" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
        </port>
        <port name="last_date_input" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
        </port>
        <port name="last_date" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
        </port>
        <port name="odm_mappings_in" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
        </port>
        <port name="range_checks_in" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
        </port>
        <port name="query" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
        </port>
        <port name="log_file_text" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
        </port>
    </entity>
    <entity name="File Reader2" class="ptolemy.actor.lib.io.FileReader">
        <property name="NONE" class="ptolemy.data.expr.Parameter" value="0">
        </property>
        <property name="fileOrURL" class="ptolemy.data.expr.FileParameter" value="/opt/kepler/db_files/last_written_cl.txt">
        </property>
        <property name="newline" class="ptolemy.data.expr.Parameter" value="property(&quot;line.separator&quot;)">
        </property>
        <property name="firingCountLimit" class="ptolemy.data.expr.Parameter" value="NONE">
        </property>
<property name="KeplerDocumentation" class="ptolemy.vergil.basic.KeplerDocumentationAttribute">
<property name="description" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>none</configure></property>
<property name="author" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>yang zhao, edward lee</configure></property>
<property name="version" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>none</configure></property>
<property name="userLevelDocumentation" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>&lt;p&gt;The FileReader actor reads a local file or URL and outputs the contents of the file as a single string.&lt;/p&gt;&#10;&#10;&lt;p&gt;The actor is similar to the SimpleFileReader, except that the FileReader has an additional trigger port and can read a URL via either an input port or parameter.&lt;/p&gt;&#10;&#10;&lt;p&gt;Kepler contains several actors used to read and output files in different ways. To output each line of the file as a separate string, use the LineReader actor. To output a specified section of the file, use the SegmentFileReader.&lt;/p&gt;</configure></property>
<property name="port:output" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>An output port that broadcasts the contents of the file as a single string.</configure></property>
<property name="port:trigger" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>A multiport that has no declared type (in other words, the port can accept any data type: double, int, array, etc.) If the port is connected, the actor will not fire until the trigger port receives an input token. Connecting the port is optional, but useful when scheduling the actor to perform at a certain time.</configure></property>
<property name="port:endOfFile" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>An output port that indicates whether or not the end of the file has been reached. If the end of the file has been reached, the port will produce a true value. Otherwise, the value is false.</configure></property>
<property name="port:fileOrURL" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>An optional input port that accepts the name or URL of a file to be read. When the port is connected, the actor reads the file sent by the previous workflow step. The file name or URL can also be specified using the fileOrURL parameter.</configure></property>
<property name="prop:newline" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>The end of line character(s). In general, this setting can be left at its default setting. </configure></property>
<property name="prop:fileOrURL" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>The file name or URL of the file to be read. See FileParameter for more information about specifying file names.</configure></property>
</property>        <property name="entityId" class="org.kepler.moml.NamedObjId" value="urn:lsid:kepler-project.org:actor:194:1">
        </property>
        <property name="class" class="ptolemy.kernel.util.StringAttribute" value="ptolemy.actor.lib.io.FileReader">
            <property name="id" class="ptolemy.kernel.util.StringAttribute" value="urn:lsid:kepler-project.org:class:1045:1">
            </property>
        </property>
        <property name="semanticType00" class="org.kepler.sms.SemanticType" value="urn:lsid:localhost:onto:1:1#ReaderExternalInputActor">
        </property>
        <property name="semanticType11" class="org.kepler.sms.SemanticType" value="urn:lsid:localhost:onto:2:1#LocalInput">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[350.0, 920.0]">
        </property>
        <port name="trigger" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="multiport"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </port>
        <port name="fileOrURL" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="_showName" class="ptolemy.data.expr.SingletonParameter" value="true">
            </property>
        </port>
    </entity>
    <entity name="Data File Name5" class="ptolemy.actor.lib.Expression">
        <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="lastdate">
            <property name="_hide" class="ptolemy.data.expr.Parameter" value="true">
            </property>
        </property>
        <property name="entityId" class="org.kepler.moml.NamedObjId" value="urn:lsid:kepler-project.org/ns/:49505:37:16">
        </property>
        <property name="class" class="ptolemy.kernel.util.StringAttribute" value="ptolemy.actor.lib.Expression">
            <property name="id" class="ptolemy.kernel.util.StringAttribute" value="urn:lsid:kepler-project.org:class:950:1">
            </property>
        </property>
        <property name="semanticType00" class="org.kepler.sms.SemanticType" value="urn:lsid:localhost:onto:1:1#MathOperationActor">
        </property>
        <property name="semanticType11" class="org.kepler.sms.SemanticType" value="urn:lsid:localhost:onto:2:1#GeneralPurpose">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
            <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
            </property>
            <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
            </property>
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[210.0, 780.0]">
        </property>
<property name="KeplerDocumentation" class="ptolemy.vergil.basic.KeplerDocumentationAttribute">
<property name="description" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>null</configure></property>
<property name="author" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>Xiaojun Liu, Edward A. Lee, Steve Neuendorffer</configure></property>
<property name="version" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>null</configure></property>
<property name="userLevelDocumentation" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>&#10;&lt;p&gt;The Expression actor evaluates a specified expression (e.g., an addition or multiplication operation), which may reference the values of user-specified input ports, the current time, or the actor's iteration count. The actor outputs the value of the evaluated expression. &lt;/p&gt;&#10;&#10;&lt;p&gt;Expressions are specified in the Ptolemy expression language via the expression parameter. For more information about the expression language, see http://ptolemy.eecs.berkeley.edu/papers/05/ptIIdesign1-intro/ptIIdesign1-intro.pdf. &lt;/p&gt;&#10;&#10;&lt;p&gt;By default, the expression parameter is empty, and attempting to execute the actor without first specifying an expression generates an error. Expressions can refer to the values of inputs by the port name; to the current time by the identifier &quot;time&quot;; and to the current iteration count by the identifier &quot;iteration.&quot; &lt;/p&gt;&#10;&#10;&lt;p&gt;Input ports are created by the user and correspond to variables used in the specified expression. Currently, the Expression actor does not support input multiports. The actor requires all of its inputs to be present. If inputs are not all present, then the actor will generate an error. &lt;/p&gt;&#10;&#10;&lt;p&gt;Note: the Expression actor can be used instead of many of the arithmetic actors, such as AddSubtract, MultiplyDivide, and TrigFunction. However, those actors will be usually be more efficient, and sometimes more convenient to use.&lt;/p&gt;&#10;</configure></property>
<property name="port:output" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>An output port that broadcasts the value of the evaluated expression. The actor automatically determines the type based on the type of the input.</configure></property>
<property name="prop:expression" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>An expression to evaluate. Expressions are specified in the Ptolemy expression language. For more information about the expression language, see http://ptolemy.eecs.berkeley.edu/papers/05/ptIIdesign1-intro/ptIIdesign1-intro.pdf. By default, the parameter is empty, and attempting to execute the actor without first specifying an expression generates an error. Expressions can refer to the values of inputs by the port name; to the current time by the identifier &quot;time&quot;; and to the current iteration count by the identifier &quot;iteration.&quot;</configure></property>
</property>        <property name="derivedFrom" class="org.kepler.moml.NamedObjIdReferralList" value="urn:lsid:kepler-project.org:actor:75:1:urn:lsid:kepler-project.org/ns/:1361:31:1:urn:lsid:kepler-project.org/ns/:2538:2:1:urn:lsid:kepler-project.org/ns/:49463:19:2">
        </property>
    </entity>
    <entity name="Expression2" class="ptolemy.actor.lib.Expression">
        <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="odmmappings">
            <property name="_hide" class="ptolemy.data.expr.Parameter" value="true">
            </property>
        </property>
<property name="KeplerDocumentation" class="ptolemy.vergil.basic.KeplerDocumentationAttribute">
<property name="description" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>null</configure></property>
<property name="author" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>Xiaojun Liu, Edward A. Lee, Steve Neuendorffer</configure></property>
<property name="version" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>null</configure></property>
<property name="userLevelDocumentation" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>&lt;p&gt;The Expression actor evaluates a specified expression (e.g., an addition or multiplication operation), which may reference the values of user-specified input ports, the current time, or the actor's iteration count. The actor outputs the value of the evaluated expression. &lt;/p&gt;&#10;&#10;&lt;p&gt;Expressions are specified in the Ptolemy expression language via the expression parameter. For more information about the expression language, see http://ptolemy.eecs.berkeley.edu/papers/05/ptIIdesign1-intro/ptIIdesign1-intro.pdf. &lt;/p&gt;&#10;&#10;&lt;p&gt;By default, the expression parameter is empty, and attempting to execute the actor without first specifying an expression generates an error. Expressions can refer to the values of inputs by the port name; to the current time by the identifier &quot;time&quot;; and to the current iteration count by the identifier &quot;iteration.&quot; &lt;/p&gt;&#10;&#10;&lt;p&gt;Input ports are created by the user and correspond to variables used in the specified expression. Currently, the Expression actor does not support input multiports. The actor requires all of its inputs to be present. If inputs are not all present, then the actor will generate an error. &lt;/p&gt;&#10;&#10;&lt;p&gt;Note: the Expression actor can be used instead of many of the arithmetic actors, such as AddSubtract, MultiplyDivide, and TrigFunction. However, those actors will be usually be more efficient, and sometimes more convenient to use.&lt;/p&gt;</configure></property>
<property name="port:output" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>An output port that broadcasts the value of the evaluated expression. The actor automatically determines the type based on the type of the input.</configure></property>
<property name="prop:expression" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>An expression to evaluate. Expressions are specified in the Ptolemy expression language. For more information about the expression language, see http://ptolemy.eecs.berkeley.edu/papers/05/ptIIdesign1-intro/ptIIdesign1-intro.pdf. By default, the parameter is empty, and attempting to execute the actor without first specifying an expression generates an error. Expressions can refer to the values of inputs by the port name; to the current time by the identifier &quot;time&quot;; and to the current iteration count by the identifier &quot;iteration.&quot;</configure></property>
</property>        <property name="entityId" class="org.kepler.moml.NamedObjId" value="urn:lsid:kepler-project.org/ns/:49505:221:2">
        </property>
        <property name="" class="ptolemy.vergil.basic.DocAttribute">
            <property name="description" class="ptolemy.kernel.util.StringAttribute" value="&lt;p&gt;The Expression actor evaluates a specified expression (e.g., an addition or multiplication operation), which may reference the values of user-specified input ports, the current time, or the actor's iteration count. The actor outputs the value of the evaluated expression. &lt;/p&gt;&#10;&#10;&lt;p&gt;Expressions are specified in the Ptolemy expression language via the expression parameter. For more information about the expression language, see http://ptolemy.eecs.berkeley.edu/papers/05/ptIIdesign1-intro/ptIIdesign1-intro.pdf. &lt;/p&gt;&#10;&#10;&lt;p&gt;By default, the expression parameter is empty, and attempting to execute the actor without first specifying an expression generates an error. Expressions can refer to the values of inputs by the port name; to the current time by the identifier &quot;time&quot;; and to the current iteration count by the identifier &quot;iteration.&quot; &lt;/p&gt;&#10;&#10;&lt;p&gt;Input ports are created by the user and correspond to variables used in the specified expression. Currently, the Expression actor does not support input multiports. The actor requires all of its inputs to be present. If inputs are not all present, then the actor will generate an error. &lt;/p&gt;&#10;&#10;&lt;p&gt;Note: the Expression actor can be used instead of many of the arithmetic actors, such as AddSubtract, MultiplyDivide, and TrigFunction. However, those actors will be usually be more efficient, and sometimes more convenient to use.&lt;/p&gt;">
            </property>
            <property name="author" class="ptolemy.kernel.util.StringAttribute" value="Xiaojun Liu, Edward A. Lee, Steve Neuendorffer">
            </property>
            <property name="version" class="ptolemy.kernel.util.StringAttribute" value="null">
            </property>
            <property name="expression (parameter)" class="ptolemy.data.expr.StringParameter" value="An expression to evaluate. Expressions are specified in the Ptolemy expression language. For more information about the expression language, see http://ptolemy.eecs.berkeley.edu/papers/05/ptIIdesign1-intro/ptIIdesign1-intro.pdf. By default, the parameter is empty, and attempting to execute the actor without first specifying an expression generates an error. Expressions can refer to the values of inputs by the port name; to the current time by the identifier &quot;time&quot;; and to the current iteration count by the identifier &quot;iteration.&quot;">
            </property>
            <property name="output (port)" class="ptolemy.kernel.util.StringAttribute" value="An output port that broadcasts the value of the evaluated expression. The actor automatically determines the type based on the type of the input.">
            </property>
        </property>
        <property name="class" class="ptolemy.kernel.util.StringAttribute" value="ptolemy.actor.lib.Expression">
            <property name="id" class="ptolemy.kernel.util.StringAttribute" value="urn:lsid:kepler-project.org:class:950:1">
            </property>
        </property>
        <property name="semanticType00" class="org.kepler.sms.SemanticType" value="urn:lsid:localhost:onto:1:1#MathOperationActor">
        </property>
        <property name="semanticType11" class="org.kepler.sms.SemanticType" value="urn:lsid:localhost:onto:2:1#GeneralPurpose">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
            <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
            </property>
            <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
            </property>
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[405.0, 1030.0]">
        </property>
        <property name="derivedFrom" class="org.kepler.moml.NamedObjIdReferralList" value="urn:lsid:kepler-project.org:actor:75:1">
        </property>
    </entity>
    <entity name="Expression3" class="ptolemy.actor.lib.Expression">
        <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="rangechecks">
            <property name="_hide" class="ptolemy.data.expr.Parameter" value="true">
            </property>
        </property>
<property name="KeplerDocumentation" class="ptolemy.vergil.basic.KeplerDocumentationAttribute">
<property name="description" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>null</configure></property>
<property name="author" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>Xiaojun Liu, Edward A. Lee, Steve Neuendorffer</configure></property>
<property name="version" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>null</configure></property>
<property name="userLevelDocumentation" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>&lt;p&gt;The Expression actor evaluates a specified expression (e.g., an addition or multiplication operation), which may reference the values of user-specified input ports, the current time, or the actor's iteration count. The actor outputs the value of the evaluated expression. &lt;/p&gt;&#10;&#10;&lt;p&gt;Expressions are specified in the Ptolemy expression language via the expression parameter. For more information about the expression language, see http://ptolemy.eecs.berkeley.edu/papers/05/ptIIdesign1-intro/ptIIdesign1-intro.pdf. &lt;/p&gt;&#10;&#10;&lt;p&gt;By default, the expression parameter is empty, and attempting to execute the actor without first specifying an expression generates an error. Expressions can refer to the values of inputs by the port name; to the current time by the identifier &quot;time&quot;; and to the current iteration count by the identifier &quot;iteration.&quot; &lt;/p&gt;&#10;&#10;&lt;p&gt;Input ports are created by the user and correspond to variables used in the specified expression. Currently, the Expression actor does not support input multiports. The actor requires all of its inputs to be present. If inputs are not all present, then the actor will generate an error. &lt;/p&gt;&#10;&#10;&lt;p&gt;Note: the Expression actor can be used instead of many of the arithmetic actors, such as AddSubtract, MultiplyDivide, and TrigFunction. However, those actors will be usually be more efficient, and sometimes more convenient to use.&lt;/p&gt;</configure></property>
<property name="port:output" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>An output port that broadcasts the value of the evaluated expression. The actor automatically determines the type based on the type of the input.</configure></property>
<property name="prop:expression" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>An expression to evaluate. Expressions are specified in the Ptolemy expression language. For more information about the expression language, see http://ptolemy.eecs.berkeley.edu/papers/05/ptIIdesign1-intro/ptIIdesign1-intro.pdf. By default, the parameter is empty, and attempting to execute the actor without first specifying an expression generates an error. Expressions can refer to the values of inputs by the port name; to the current time by the identifier &quot;time&quot;; and to the current iteration count by the identifier &quot;iteration.&quot;</configure></property>
</property>        <property name="entityId" class="org.kepler.moml.NamedObjId" value="urn:lsid:kepler-project.org/ns/:49505:222:1">
        </property>
        <property name="" class="ptolemy.vergil.basic.DocAttribute">
            <property name="description" class="ptolemy.kernel.util.StringAttribute" value="&lt;p&gt;The Expression actor evaluates a specified expression (e.g., an addition or multiplication operation), which may reference the values of user-specified input ports, the current time, or the actor's iteration count. The actor outputs the value of the evaluated expression. &lt;/p&gt;&#10;&#10;&lt;p&gt;Expressions are specified in the Ptolemy expression language via the expression parameter. For more information about the expression language, see http://ptolemy.eecs.berkeley.edu/papers/05/ptIIdesign1-intro/ptIIdesign1-intro.pdf. &lt;/p&gt;&#10;&#10;&lt;p&gt;By default, the expression parameter is empty, and attempting to execute the actor without first specifying an expression generates an error. Expressions can refer to the values of inputs by the port name; to the current time by the identifier &quot;time&quot;; and to the current iteration count by the identifier &quot;iteration.&quot; &lt;/p&gt;&#10;&#10;&lt;p&gt;Input ports are created by the user and correspond to variables used in the specified expression. Currently, the Expression actor does not support input multiports. The actor requires all of its inputs to be present. If inputs are not all present, then the actor will generate an error. &lt;/p&gt;&#10;&#10;&lt;p&gt;Note: the Expression actor can be used instead of many of the arithmetic actors, such as AddSubtract, MultiplyDivide, and TrigFunction. However, those actors will be usually be more efficient, and sometimes more convenient to use.&lt;/p&gt;">
            </property>
            <property name="author" class="ptolemy.kernel.util.StringAttribute" value="Xiaojun Liu, Edward A. Lee, Steve Neuendorffer">
            </property>
            <property name="version" class="ptolemy.kernel.util.StringAttribute" value="null">
            </property>
            <property name="expression (parameter)" class="ptolemy.data.expr.StringParameter" value="An expression to evaluate. Expressions are specified in the Ptolemy expression language. For more information about the expression language, see http://ptolemy.eecs.berkeley.edu/papers/05/ptIIdesign1-intro/ptIIdesign1-intro.pdf. By default, the parameter is empty, and attempting to execute the actor without first specifying an expression generates an error. Expressions can refer to the values of inputs by the port name; to the current time by the identifier &quot;time&quot;; and to the current iteration count by the identifier &quot;iteration.&quot;">
            </property>
            <property name="output (port)" class="ptolemy.kernel.util.StringAttribute" value="An output port that broadcasts the value of the evaluated expression. The actor automatically determines the type based on the type of the input.">
            </property>
        </property>
        <property name="class" class="ptolemy.kernel.util.StringAttribute" value="ptolemy.actor.lib.Expression">
            <property name="id" class="ptolemy.kernel.util.StringAttribute" value="urn:lsid:kepler-project.org:class:950:1">
            </property>
        </property>
        <property name="semanticType00" class="org.kepler.sms.SemanticType" value="urn:lsid:localhost:onto:1:1#MathOperationActor">
        </property>
        <property name="semanticType11" class="org.kepler.sms.SemanticType" value="urn:lsid:localhost:onto:2:1#GeneralPurpose">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
            <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
            </property>
            <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
            </property>
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[400.0, 1090.0]">
        </property>
        <property name="derivedFrom" class="org.kepler.moml.NamedObjIdReferralList" value="urn:lsid:kepler-project.org:actor:75:1">
        </property>
    </entity>
    <entity name="Token To String Converter" class="org.geon.TokenToString">
<property name="KeplerDocumentation" class="ptolemy.vergil.basic.KeplerDocumentationAttribute">
<property name="description" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>null</configure></property>
<property name="author" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>Efrat Jaeger</configure></property>
<property name="version" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>null</configure></property>
<property name="userLevelDocumentation" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>&#10;&lt;p&gt;The TokenToString actor accepts a token of any data type and outputs that token as a quoted string. The output string can be parsed to yield the original input token.&lt;/p&gt;&#10;&#10;&lt;p&gt;The TokenToString actor is similar to the TokenToExpression actor, except that it accepts an input value through either a port or a parameter, whereas the TokenToExpression actor accepts input only via an input port. &lt;/p&gt;&#10;&#10;&lt;p&gt;For example, if the input is the integer 3, the TokenToExpression actor will output the string &quot;3&quot;. If the input value is the string &quot;hello&quot;, the actor will output the double-quoted string, &quot;&quot;hello&quot;&quot;.&lt;/p&gt;&#10;&#10;&#10;</configure></property>
<property name="port:input" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>An input port that accepts a data token of any type. </configure></property>
<property name="port:output" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>An output port that broadcasts the converted input as a string.</configure></property>
<property name="prop:value" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>The value to output as a string. Values may be of any data type.</configure></property>
</property>        <property name="class" class="ptolemy.kernel.util.StringAttribute" value="org.geon.TokenToString">
            <property name="id" class="ptolemy.kernel.util.StringAttribute" value="urn:lsid:kepler-project.org:class:1023:1">
            </property>
        </property>
        <property name="semanticType00" class="org.kepler.sms.SemanticType" value="urn:lsid:localhost:onto:1:1#ConversionActor">
        </property>
        <property name="semanticType11" class="org.kepler.sms.SemanticType" value="urn:lsid:localhost:onto:2:1#DataStructureOperation">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[1970.0, 425.0]">
        </property>
        <property name="" class="ptolemy.vergil.basic.DocAttribute">
            <property name="description" class="ptolemy.kernel.util.StringAttribute" value="&#10;&lt;p&gt;The TokenToString actor accepts a token of any data type and outputs that token as a quoted string. The output string can be parsed to yield the original input token.&lt;/p&gt;&#10;&#10;&lt;p&gt;The TokenToString actor is similar to the TokenToExpression actor, except that it accepts an input value through either a port or a parameter, whereas the TokenToExpression actor accepts input only via an input port. &lt;/p&gt;&#10;&#10;&lt;p&gt;For example, if the input is the integer 3, the TokenToExpression actor will output the string &quot;3&quot;. If the input value is the string &quot;hello&quot;, the actor will output the double-quoted string, &quot;&quot;hello&quot;&quot;.&lt;/p&gt;&#10;&#10;&#10;">
            </property>
            <property name="author" class="ptolemy.kernel.util.StringAttribute" value="Efrat Jaeger">
            </property>
            <property name="version" class="ptolemy.kernel.util.StringAttribute" value="null">
            </property>
            <property name="value (parameter)" class="ptolemy.data.expr.StringParameter" value="The value to output as a string. Values may be of any data type.">
            </property>
            <property name="input (port)" class="ptolemy.kernel.util.StringAttribute" value="An input port that accepts a data token of any type. ">
            </property>
            <property name="output (port)" class="ptolemy.kernel.util.StringAttribute" value="An output port that broadcasts the converted input as a string.">
            </property>
        </property>
    </entity>
    <entity name="Text File Writer" class="org.resurgence.actor.TextFileWriter">
        <property name="Change existing" class="ptolemy.data.expr.StringParameter" value="No">
        </property>
<property name="KeplerDocumentation" class="ptolemy.vergil.basic.KeplerDocumentationAttribute">
<property name="description" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>null</configure></property>
<property name="author" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>Wibke Sudholt</configure></property>
<property name="version" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>null</configure></property>
<property name="userLevelDocumentation" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>&lt;p&gt;The TextFileWriter actor reads a string token and writes it, without any enclosing quotation marks, to a file. The actor outputs the file path of the generated file.&lt;/p&gt; &#10;&#10;&lt;p&gt;The path and name of the output file are specified via input ports. Specify whether the input is appended to the specified file (if it exists), or if an existing file is overwritten via the changeExisting parameter. &lt;/p&gt;&#10;&#10;&lt;p&gt;The TextFileWriter is similar to the FileWriter actor, except that the TextFileWriter actor does not add line breaks to its output, while the FileWriter actor does.&lt;/p&gt;</configure></property>
<property name="port:fileToWrite" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>An input port that accepts the file path of the file to which to write. See FileParameter for more information about specifying file names.</configure></property>
<property name="port:string" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>An input port that receives a string token to write-one line at a time--to a file.</configure></property>
<property name="port:fileWritten" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>An output port that broadcasts the name and path of the output file.</configure></property>
<property name="prop:Change existing" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>Specify whether the input is appended to the specified file (if it exists), or if an existing file is overwritten.</configure></property>
</property>        <property name="class" class="ptolemy.kernel.util.StringAttribute" value="org.resurgence.actor.TextFileWriter">
            <property name="id" class="ptolemy.kernel.util.StringAttribute" value="urn:lsid:kepler-project.org:class:1120:1">
            </property>
        </property>
        <property name="semanticType00" class="org.kepler.sms.SemanticType" value="urn:lsid:localhost:onto:1:1#WriterOutputActor">
        </property>
        <property name="semanticType11" class="org.kepler.sms.SemanticType" value="urn:lsid:localhost:onto:2:1#LocalOutput">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[1920.0, 1030.0]">
        </property>
    </entity>
    <entity name="Data File Name4" class="ptolemy.actor.lib.Expression">
        <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="lastdate">
            <property name="_hide" class="ptolemy.data.expr.Parameter" value="true">
            </property>
        </property>
        <property name="entityId" class="org.kepler.moml.NamedObjId" value="urn:lsid:kepler-project.org/ns/:49505:37:16">
        </property>
        <property name="class" class="ptolemy.kernel.util.StringAttribute" value="ptolemy.actor.lib.Expression">
            <property name="id" class="ptolemy.kernel.util.StringAttribute" value="urn:lsid:kepler-project.org:class:950:1">
            </property>
        </property>
        <property name="semanticType00" class="org.kepler.sms.SemanticType" value="urn:lsid:localhost:onto:1:1#MathOperationActor">
        </property>
        <property name="semanticType11" class="org.kepler.sms.SemanticType" value="urn:lsid:localhost:onto:2:1#GeneralPurpose">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
            <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
            </property>
            <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
            </property>
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[2035.0, 1160.0]">
        </property>
<property name="KeplerDocumentation" class="ptolemy.vergil.basic.KeplerDocumentationAttribute">
<property name="description" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>null</configure></property>
<property name="author" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>Xiaojun Liu, Edward A. Lee, Steve Neuendorffer</configure></property>
<property name="version" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>null</configure></property>
<property name="userLevelDocumentation" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>&#10;&lt;p&gt;The Expression actor evaluates a specified expression (e.g., an addition or multiplication operation), which may reference the values of user-specified input ports, the current time, or the actor's iteration count. The actor outputs the value of the evaluated expression. &lt;/p&gt;&#10;&#10;&lt;p&gt;Expressions are specified in the Ptolemy expression language via the expression parameter. For more information about the expression language, see http://ptolemy.eecs.berkeley.edu/papers/05/ptIIdesign1-intro/ptIIdesign1-intro.pdf. &lt;/p&gt;&#10;&#10;&lt;p&gt;By default, the expression parameter is empty, and attempting to execute the actor without first specifying an expression generates an error. Expressions can refer to the values of inputs by the port name; to the current time by the identifier &quot;time&quot;; and to the current iteration count by the identifier &quot;iteration.&quot; &lt;/p&gt;&#10;&#10;&lt;p&gt;Input ports are created by the user and correspond to variables used in the specified expression. Currently, the Expression actor does not support input multiports. The actor requires all of its inputs to be present. If inputs are not all present, then the actor will generate an error. &lt;/p&gt;&#10;&#10;&lt;p&gt;Note: the Expression actor can be used instead of many of the arithmetic actors, such as AddSubtract, MultiplyDivide, and TrigFunction. However, those actors will be usually be more efficient, and sometimes more convenient to use.&lt;/p&gt;&#10;</configure></property>
<property name="port:output" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>An output port that broadcasts the value of the evaluated expression. The actor automatically determines the type based on the type of the input.</configure></property>
<property name="prop:expression" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>An expression to evaluate. Expressions are specified in the Ptolemy expression language. For more information about the expression language, see http://ptolemy.eecs.berkeley.edu/papers/05/ptIIdesign1-intro/ptIIdesign1-intro.pdf. By default, the parameter is empty, and attempting to execute the actor without first specifying an expression generates an error. Expressions can refer to the values of inputs by the port name; to the current time by the identifier &quot;time&quot;; and to the current iteration count by the identifier &quot;iteration.&quot;</configure></property>
</property>        <property name="derivedFrom" class="org.kepler.moml.NamedObjIdReferralList" value="urn:lsid:kepler-project.org:actor:75:1:urn:lsid:kepler-project.org/ns/:1361:31:1:urn:lsid:kepler-project.org/ns/:2538:2:1:urn:lsid:kepler-project.org/ns/:49463:19:2">
        </property>
    </entity>
    <entity name="Database Writer" class="org.sdm.spa.DatabaseWriter">
        <property name="dbParams" class="ptolemy.actor.parameters.PortParameter" value="{driver = &quot;com.mysql.jdbc.Driver&quot;, password = dbpass, url = dbaddress, user = dbuser}">
        </property>
        <property name="input" class="ptolemy.actor.parameters.PortParameter" value="&quot; INSERT IGNORE INTO `datavalues` VALUES  ( NULL,2.95,2,'2013-05-10',5,'2013-05-10 06:00:00',45,51,-0.5,1,'nc',1,189,1,1,0,1), ( NULL,3.13,2,'2013-05-10 00:01:00',5,'2013-05-10 06:01:00',45,51,-0.5,1,'nc',1,189,1,1,0,1), ( NULL,3.1,2,'2013-05-10 00:02:00',5,'2013-05-10 06:02:00',45,51,-0.5,1,'nc',1,189,1,1,0,1), ( NULL,3.27,2,'2013-05-10 00:03:00',5,'2013-05-10 06:03:00',45,51,-0.5,1,'nc',1,189,1,1,0,1), ( NULL,3.18,2,'2013-05-10 00:04:00',5,'2013-05-10 06:04:00',45,51,-0.5,1,'nc',1,189,1,1,0,1), ( NULL,2.81,2,'2013-05-10 00:05:00',5,'2013-05-10 06:05:00',45,51,-0.5,1,'nc',1,189,1,1,0,1), ( NULL,3.11,2,'2013-05-10 00:06:00',5,'2013-05-10 06:06:00',46,51,-1.5,1,'nc',1,191,1,1,0,1), ( NULL,3.06,2,'2013-05-10 00:07:00',5,'2013-05-10 06:07:00',46,51,-1.5,1,'nc',1,191,1,1,0,1), ( NULL,2.82,2,'2013-05-10 00:08:00',5,'2013-05-10 06:08:00',46,51,-1.5,1,'nc',1,191,1,1,0,1), ( NULL,2.89,2,'2013-05-10 00:09:00',5,'2013-05-10 06:09:00',46,51,-1.5,1,'nc',1,191,1,1,0,1), ( NULL,2.97,2,'2013-05-10 00:10:00',5,'2013-05-10 06:10:00',46,51,-1.5,1,'nc',1,191,1,1,0,1), ( NULL,2.95,2,'2013-05-10 00:11:00',5,'2013-05-10 06:11:00',46,51,-1.5,1,'nc',1,191,1,1,0,1), ( NULL,3.05,2,'2013-05-10 00:12:00',5,'2013-05-10 06:12:00',46,51,-1.5,1,'nc',1,191,1,1,0,1), ( NULL,2.98,2,'2013-05-10 00:13:00',5,'2013-05-10 06:13:00',47,51,-2.5,1,'nc',1,193,1,1,0,1), ( NULL,3.04,2,'2013-05-10 00:14:00',5,'2013-05-10 06:14:00',47,51,-2.5,1,'nc',1,193,1,1,0,1), ( NULL,2.87,2,'2013-05-10 00:15:00',5,'2013-05-10 06:15:00',47,51,-2.5,1,'nc',1,193,1,1,0,1), ( NULL,3.26,2,'2013-05-10 00:16:00',5,'2013-05-10 06:16:00',47,51,-2.5,1,'nc',1,193,1,1,0,1), ( NULL,2.91,2,'2013-05-10 00:17:00',5,'2013-05-10 06:17:00',47,51,-2.5,1,'nc',1,193,1,1,0,1), ( NULL,2.98,2,'2013-05-10 00:18:00',5,'2013-05-10 06:18:00',47,51,-2.5,1,'nc',1,193,1,1,0,1), ( NULL,3,2,'2013-05-10 00:19:00',5,'2013-05-10 06:19:00',47,51,-2.5,1,'nc',1,193,1,1,0,1), ( NULL,3.26,2,'2013-05-10 00:20:00',5,'2013-05-10 06:20:00',48,51,-3.5,1,'nc',1,195,1,1,0,1), ( NULL,3.31,2,'2013-05-10 00:21:00',5,'2013-05-10 06:21:00',48,51,-3.5,1,'nc',1,195,1,1,0,1), ( NULL,3.26,2,'2013-05-10 00:22:00',5,'2013-05-10 06:22:00',48,51,-3.5,1,'nc',1,195,1,1,0,1), ( NULL,3.19,2,'2013-05-10 00:23:00',5,'2013-05-10 06:23:00',48,51,-3.5,1,'nc',1,195,1,1,0,1), ( NULL,2.97,2,'2013-05-10 00:24:00',5,'2013-05-10 06:24:00',48,51,-3.5,1,'nc',1,195,1,1,0,1), ( NULL,3.11,2,'2013-05-10 00:25:00',5,'2013-05-10 06:25:00',48,51,-3.5,1,'nc',1,195,1,1,0,1), ( NULL,3.05,2,'2013-05-10 00:26:00',5,'2013-05-10 06:26:00',48,51,-3.5,1,'nc',1,195,1,1,0,1), ( NULL,3.66,2,'2013-05-10 00:27:00',5,'2013-05-10 06:27:00',49,51,-4.5,1,'nc',1,197,1,1,0,1), ( NULL,3.53,2,'2013-05-10 00:28:00',5,'2013-05-10 06:28:00',49,51,-4.5,1,'nc',1,197,1,1,0,1), ( NULL,3.74,2,'2013-05-10 00:29:00',5,'2013-05-10 06:29:00',49,51,-4.5,1,'nc',1,197,1,1,0,1), ( NULL,3.55,2,'2013-05-10 00:30:00',5,'2013-05-10 06:30:00',49,51,-4.5,1,'nc',1,197,1,1,0,1), ( NULL,3.71,2,'2013-05-10 00:31:00',5,'2013-05-10 06:31:00',49,51,-4.5,1,'nc',1,197,1,1,0,1), ( NULL,3.77,2,'2013-05-10 00:33:00',5,'2013-05-10 06:33:00',49,51,-4.5,1,'nc',1,197,1,1,0,1), ( NULL,4.15,2,'2013-05-10 00:34:00',5,'2013-05-10 06:34:00',50,51,-5.5,1,'nc',1,199,1,1,0,1), ( NULL,3.89,2,'2013-05-10 00:35:00',5,'2013-05-10 06:35:00',50,51,-5.5,1,'nc',1,199,1,1,0,1), ( NULL,4.51,2,'2013-05-10 00:36:00',5,'2013-05-10 06:36:00',50,51,-5.5,1,'nc',1,199,1,1,0,1), ( NULL,3.95,2,'2013-05-10 00:37:00',5,'2013-05-10 06:37:00',50,51,-5.5,1,'nc',1,199,1,1,0,1), ( NULL,4.19,2,'2013-05-10 00:38:00',5,'2013-05-10 06:38:00',50,51,-5.5,1,'nc',1,199,1,1,0,1), ( NULL,4.23,2,'2013-05-10 00:39:00',5,'2013-05-10 06:39:00',50,51,-5.5,1,'nc',1,199,1,1,0,1), ( NULL,4.2,2,'2013-05-10 00:40:00',5,'2013-05-10 06:40:00',50,51,-5.5,1,'nc',1,199,1,1,0,1), ( NULL,4.18,2,'2013-05-10 00:41:00',5,'2013-05-10 06:41:00',51,51,-6.5,1,'nc',1,201,1,1,0,1), ( NULL,4.54,2,'2013-05-10 00:42:00',5,'2013-05-10 06:42:00',51,51,-6.5,1,'nc',1,201,1,1,0,1), ( NULL,4.31,2,'2013-05-10 00:43:00',5,'2013-05-10 06:43:00',51,51,-6.5,1,'nc',1,201,1,1,0,1), ( NULL,4.29,2,'2013-05-10 00:44:00',5,'2013-05-10 06:44:00',51,51,-6.5,1,'nc',1,201,1,1,0,1), ( NULL,4.38,2,'2013-05-10 00:45:00',5,'2013-05-10 06:45:00',51,51,-6.5,1,'nc',1,201,1,1,0,1), ( NULL,4.39,2,'2013-05-10 00:46:00',5,'2013-05-10 06:46:00',51,51,-6.5,1,'nc',1,201,1,1,0,1), ( NULL,4.56,2,'2013-05-10 00:47:00',5,'2013-05-10 06:47:00',51,51,-6.5,1,'nc',1,201,1,1,0,1), ( NULL,5.2,2,'2013-05-10 00:48:00',5,'2013-05-10 06:48:00',52,51,-7.5,1,'nc',1,203,1,1,0,1), ( NULL,4.94,2,'2013-05-10 00:49:00',5,'2013-05-10 06:49:00',52,51,-7.5,1,'nc',1,203,1,1,0,1), ( NULL,4.98,2,'2013-05-10 00:50:00',5,'2013-05-10 06:50:00',52,51,-7.5,1,'nc',1,203,1,1,0,1), ( NULL,5.07,2,'2013-05-10 00:51:00',5,'2013-05-10 06:51:00',52,51,-7.5,1,'nc',1,203,1,1,0,1), ( NULL,4.69,2,'2013-05-10 00:52:00',5,'2013-05-10 06:52:00',52,51,-7.5,1,'nc',1,203,1,1,0,1), ( NULL,5.22,2,'2013-05-10 00:53:00',5,'2013-05-10 06:53:00',52,51,-7.5,1,'nc',1,203,1,1,0,1), ( NULL,5.02,2,'2013-05-10 00:54:00',5,'2013-05-10 06:54:00',52,51,-7.5,1,'nc',1,203,1,1,0,1), ( NULL,5.58,2,'2013-05-10 00:55:00',5,'2013-05-10 06:55:00',53,51,-8.5,1,'nc',1,205,1,1,0,1), ( NULL,5.45,2,'2013-05-10 00:56:00',5,'2013-05-10 06:56:00',53,51,-8.5,1,'nc',1,205,1,1,0,1), ( NULL,5.03,2,'2013-05-10 00:57:00',5,'2013-05-10 06:57:00',53,51,-8.5,1,'nc',1,205,1,1,0,1), ( NULL,5.22,2,'2013-05-10 00:58:00',5,'2013-05-10 06:58:00',53,51,-8.5,1,'nc',1,205,1,1,0,1), ( NULL,5.2,2,'2013-05-10 00:59:00',5,'2013-05-10 06:59:00',53,51,-8.5,1,'nc',1,205,1,1,0,1), ( NULL,5.75,2,'2013-05-10 01:00:00',5,'2013-05-10 07:00:00',53,51,-8.5,1,'nc',1,205,1,1,0,1);&quot;">
        </property>
        <property name="table" class="ptolemy.actor.parameters.PortParameter" value="dbtable">
        </property>
        <property name="autoIncColumnName" class="ptolemy.actor.parameters.PortParameter" value="">
        </property>
<property name="KeplerDocumentation" class="ptolemy.vergil.basic.KeplerDocumentationAttribute">
<property name="description" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>null</configure></property>
<property name="author" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>Yang Zhao, Daniel Crawl</configure></property>
<property name="version" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>null</configure></property>
<property name="userLevelDocumentation" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>&lt;p&gt;The DatabaseWriter actor performs database updates against an open database and outputs the number of rows inserted.&lt;/p&gt;&#10;&#10;&lt;p&gt;Use the OpenDatabaseConnection actor to establish a database connection and generate a reference to that connection. The reference is passed to the DatabaseWriter actor via the dbcon port.&lt;/p&gt;&#10;&#10;&lt;p&gt;An update is passed to the actor via the update port or parameter.&lt;/p&gt;&#10;&#10;</configure></property>
<property name="port:result" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>An output port that broadcasts how many rows were sucessfully updated.</configure></property>
<property name="port:dbcon" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>An input port that accepts a reference to an established database connection. The OpenDatabaseConnection actor can be used to generate this reference.</configure></property>
<property name="prop:query" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>An input update string. Updates can be specified via the query port or query parameter.</configure></property>
</property>        <property name="class" class="ptolemy.kernel.util.StringAttribute" value="org.sdm.spa.DatabaseWriter">
            <property name="id" class="ptolemy.kernel.util.StringAttribute" value="urn:lsid:kepler-project.org:class:998:1">
            </property>
        </property>
        <property name="semanticType00" class="org.kepler.sms.SemanticType" value="urn:lsid:localhost:onto:1:1#DatabaseExternalInputActor">
        </property>
        <property name="semanticType11" class="org.kepler.sms.SemanticType" value="urn:lsid:localhost:onto:2:1#DatabaseInputFunction">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[1600.0, 510.0]">
        </property>
        <port name="dbcon" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="tokenConsumptionRate" class="ptolemy.data.expr.Parameter" value="1">
            </property>
        </port>
    </entity>
    <entity name="Display" class="ptolemy.actor.lib.gui.Display">
        <property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={1002, 136, 861, 625}, maximized=false}">
        </property>
        <property name="_paneSize" class="ptolemy.actor.gui.SizeAttribute" value="[861, 604]">
        </property>
        <property name="rowsDisplayed" class="ptolemy.data.expr.Parameter" value="10">
        </property>
        <property name="columnsDisplayed" class="ptolemy.data.expr.Parameter" value="40">
        </property>
        <property name="suppressBlankLines" class="ptolemy.data.expr.Parameter" value="false">
        </property>
        <property name="title" class="ptolemy.data.expr.StringParameter" value="">
        </property>
<property name="KeplerDocumentation" class="ptolemy.vergil.basic.KeplerDocumentationAttribute">
<property name="description" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>null</configure></property>
<property name="author" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>Yuhong Xiong, Edward A. Lee</configure></property>
<property name="version" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>null</configure></property>
<property name="userLevelDocumentation" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>&lt;p&gt;The Display actor reads tokens of any type via its input multiport, and displays each token on a separate line in a text display window.&lt;/p&gt;&#10;&#10;&lt;p&gt;Specify the size of the text display window with the rowsDisplayed and columnsDisplayed parameters. Simply resizing the window onscreen does not persistently change the size when the workflow is saved, closed, and then re-opened. &lt;/p&gt;&#10;&#10;&lt;p&gt;If the input is a string token, then the actor strips the surrounding quotation marks before displaying the value.&lt;/p&gt; &#10;&#10;&lt;p&gt;Select the suppressBlankLines parameter to specify that the actor not add blank lines to the display. By default, the actor will add blank lines.&lt;/p&gt;&#10;&#10;&lt;p&gt;Note: this actor can consume large amounts of memory. It is not advisable to use it to display large output streams.&lt;/p&gt;</configure></property>
<property name="port:input" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>A multiport that accepts tokens of any type.</configure></property>
<property name="prop:suppressBlankLines" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>Specify whether the actor should display blank lines (the default) or suppress them.</configure></property>
<property name="prop:rowsDisplayed" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>The vertical size of the display, in rows. The value is an integer that defaults to 10.</configure></property>
<property name="prop:columnsDisplayed" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>The horizontal size of the display, in columns. The value is an integer that defaults to 40.</configure></property>
<property name="prop:title" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>The title of the text display window. If specified, the value will appear in the title bar of the text display window.</configure></property>
</property>        <property name="class" class="ptolemy.kernel.util.StringAttribute" value="ptolemy.actor.lib.gui.Display">
            <property name="id" class="ptolemy.kernel.util.StringAttribute" value="urn:lsid:kepler-project.org:class:883:1">
            </property>
        </property>
        <property name="semanticType00" class="org.kepler.sms.SemanticType" value="urn:lsid:localhost:onto:1:1#TextualOutputActor">
        </property>
        <property name="semanticType11" class="org.kepler.sms.SemanticType" value="urn:lsid:localhost:onto:2:1#TextualOutput">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[1370.0, 370.0]">
        </property>
    </entity>
    <entity name="RExpression2" class="org.ecoinformatics.seek.R.RExpression">
        <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="df &lt;- read.table(odm_mappings_in, sep=&quot;,&quot;, header=TRUE, row.names=1,nrows=-1, fill=TRUE)&#10;odm_mappings &lt;- df&#10;df2 &lt;- read.table(range_checks_in, sep=&quot;,&quot;, header=TRUE, row.names=1,nrows=-1, fill=TRUE)&#10;range_checks &lt;- df2&#10;&#10;&#10;#turn on or off QA/QC checks&#10;##################################################&#10;#absolute range checking on, enter 0 to turn off #&#10;check_range = 0                                  #&#10;#step function check on, 0 to turn off           #&#10;check_step = 0                                   #&#10;#standard deviation check on, 0 to turn off      #&#10;check_std_dev = 0                                #&#10;#custom range check spreadsheet on, 0 to turn off#&#10;check_custom_range = 1                           #&#10;##################################################&#10;&#10;#absolute range checks&#10;##################################&#10;#lower bound QA/QC for all data  #&#10;minVal = -8                      #&#10;#upper bound QA/QC for all data  #&#10;maxVal = 35                      #&#10;##################################&#10;&#10;#standard deviation flagging&#10;#################################################&#10;#enter values to flag based on std              #&#10;#i.e. to flag values 3*std +/-mean, enter 3     #&#10;std_dev_val = 3                                 #&#10;#################################################&#10;&#10;&#10;&#10;&#10;&#10;query_pt1&lt;-&quot;INSERT IGNORE INTO `datavalues` VALUES &quot;&#10;query_pt2b&lt;-&quot;&quot;&#10;query&lt;-&quot;&quot;&#10;log_file_text&lt;-&quot;&quot;&#10;&#10;odmMap&lt;- function(source,channel,depth){&#10;	depth = round(depth*2)/2&#10;	if (depth%%1==0){&#10;		depth=depth-.5&#10;	}&#10;	depth = as.character(abs(depth)*10)&#10;	cat(depth)&#10;	odm_row_num = which(paste(source,channel,depth,sep=&quot;&quot;)== row.names(odm_mappings))&#10;	#cat(paste(source,channel,depth,sep=&quot;&quot;))&#10;	#cat(odm_row_num)&#10;&#10;	return(odm_row_num)&#10;}&#10;&#10;writeQuery &lt;- function(dataValues,timestamps,source,channel,depth,query_pt2b,check_range,check_step,check_std_dev,check_custom_range,std_dev_val){&#10;&#10;log_file_text &lt;- paste(Sys.time(),&quot;:&quot;,&quot;Source:&quot;,source,&quot;Channel:&quot;,channel)&#10;if (!is.na(dataValues)){&#10;		query_pt1&lt;-&quot;INSERT IGNORE INTO `datavalues` VALUES &quot;&#10;		query_pt2b&lt;-paste(query_pt2b,query_pt1)&#10;		i = 1&#10;		#loop through all datavalues&#10;		log_file_text &lt;- paste(Sys.time(),&quot;:&quot;,&quot;Source:&quot;,source,&quot;Channel:&quot;,channel)&#10;		while (i &lt;= length(timestamps)){&#10;			if (!depth[i]==-99999){&#10;			my.lt =as.POSIXct(as.POSIXlt(timestamps[i], origin=&quot;1970-01-01&quot;))&#10;            date_local = substr(my.lt,1,20)&#10;			#if time in CDT, add 5&#10;			date_utc = as.POSIXct(timestamps[i], origin=&quot;1970-01-01&quot;)&#10;			&#10;			query_pt1&lt;-&quot;INSERT IGNORE INTO `datavalues` VALUES &quot;&#10;			odm_row_num = odmMap(source,channel,depth[i])&#10;			cat(odm_row_num)&#10;			 &#10;&#10;				site_id = odm_mappings[odm_row_num,1]&#10;				cat((as.character(site_id)))&#10;				var_id = odm_mappings[odm_row_num,2]&#10;				method_id = odm_mappings[odm_row_num,3]&#10;				offset_val = odm_mappings[odm_row_num,4]&#10;&#10;				#for each depth...&#10;				#odm_row_num = odmMap(source,channel,depth)&#10;				#get parameter name in range check spreadsheet&#10;				if (check_custom_range){&#10;					paramNameMin = paste(&quot;AirPortMet&quot;,channel,&quot;MinHRes&quot;,sep = &quot;&quot;)&#10;					paramNameMax = paste(&quot;AirPortMet&quot;,channel,&quot;MaxHRes&quot;,sep = &quot;&quot;)&#10;					rowNumMin = which(paramNameMin==row.names(range_checks))&#10;					rowNumMax = which(paramNameMax==row.names(range_checks))&#10;				}&#10;&#10;					runningWindow &lt;- rep(NA,61)&#10;&#10;					if (length(dataValues)&lt; 62){&#10;						runningWindow = dataValues[1:length(dataValues)]&#10;					} else if (i &lt; length(dataValues)-60){&#10;						runningWindow = dataValues[i:(i+60)]&#10;					} else {&#10;						runningWindow = dataValues[(length(dataValues)-60):length(dataValues)]&#10;					}&#10;					step = diff(runningWindow[(runningWindow!=-99999)],is.na=rm) # find differences between all subsequent data pts&#10;					mean_step = mean(abs(step)) # average diff&#10;					std_step = sd(abs(step))&#10;					stepcuthresh = mean_step + std_dev_val*std_step&#10;					qualifierID = &quot;1&quot;&#10;					prevFlagged = 0&#10;					chain = 0&#10;					totalFlagged = 0&#10;&#10;					#if length of rowNumMin is zero that means it doesnt exist in spreadsheet.&#10;					if (check_custom_range){&#10;						if (length(rowNumMin)){&#10;							cat(rowNumMin)&#10;							#get the month of the current timestamp, starting at character 6 in &quot;yyyy-mm-dd&quot;&#10;							if (check_custom_range){&#10;								month = as.numeric(substr(timestamps[i],6,7))&#10;								if (month &gt; 9){&#10;									colNum=(which(names(range_checks)==paste(&quot;month_&quot;,month,sep = &quot;&quot;)))&#10;								}else{&#10;									month = substr(timestamps[i],7,7)&#10;									colNum=(which(names(range_checks)==paste(&quot;month_&quot;,month,sep = &quot;&quot;)))&#10;								}&#10;&#10;								min = range_checks[rowNumMin,colNum]&#10;								max = range_checks[rowNumMax,colNum]&#10;							}&#10;						}&#10;					}&#10;&#10;&#10;					if (check_custom_range){&#10;					if (length(rowNumMin)){&#10;						if (dataValues[i]&lt;min | dataValues[i]&gt;max ){&#10;							qualifierID = &quot;2&quot;&#10;							totalFlagged = totalFlagged + 1&#10;						}&#10;						}&#10;					}&#10;					#absolute range check&#10;					if (check_range){ &#10;						&#10;							if (dataValues[i]&lt;minVal | dataValues[i]&gt;maxVal ){&#10;							##set value to null&#10;								qualifierID = &quot;2&quot;&#10;								totalFlagged = totalFlagged + 1&#10;							}&#10;						&#10;					}&#10;					#step function check&#10;					if (check_step){&#10;						if (!is.na(dataValues[i])){&#10;							if (i &gt; 1 &amp;i &lt;length(dataValues)-1){&#10;								if ((abs(dataValues[i-1]-dataValues[i])) &gt; stepcuthresh){&#10;									qualifierID = &quot;2&quot;&#10;									totalFlagged = totalFlagged + 1&#10;								} else{&#10;									qualifierID = &quot;1&quot;&#10;								}&#10;							}&#10;						}	&#10;					}&#10;					&#10;			if (i == length(dataValues)){&#10;				query_pt2a &lt;- paste(&quot;( NULL,&quot;,&#10;				as.character(dataValues[i]),&quot;,&quot;, #dataValues&#10;				&quot;2&quot;,&quot;,&quot;, #valueAccuracy&#10;				&quot;'&quot;,as.character(date_local),&quot;'&quot;,&quot;,&quot;, #local date time&#10;				&quot;5&quot;,&quot;,&quot;, #UTC offset&#10;				&quot;'&quot;,date_utc,&quot;'&quot;,&quot;,&quot;, #UTC time&#10;				as.character(site_id),&quot;,&quot;, #siteID&#10;				as.character(var_id),&quot;,&quot;, #variableID&#10;				as.character(offset_val),&quot;,&quot;, #offsetID&#10;				&quot;1&quot;,&quot;,&quot;, #offsetTypeID&#10;				&quot;'&quot;,&quot;nc&quot;,&quot;'&quot;,&quot;,&quot;, #censor code&#10;				qualifierID,&quot;,&quot;, #qualifierID&#10;				as.character(method_id),&quot;,&quot;, #methodID&#10;				&quot;1&quot;,&quot;,&quot;, #sourceID&#10;				&quot;1&quot;,&quot;,&quot;, #sampleID&#10;				&quot;0&quot;,&quot;,&quot;, #derivedFromID&#10;				&quot;1)&quot;,&#10;				&quot;;&quot;,sep=&quot;&quot;)&#10;			}else{&#10;			&#10;				query_pt2a &lt;- paste(&quot;( NULL,&quot;,&#10;				as.character(dataValues[i]),&quot;,&quot;, #dataValues&#10;				&quot;2&quot;,&quot;,&quot;, #valueAccuracy&#10;				&quot;'&quot;,as.character(date_local),&quot;'&quot;,&quot;,&quot;, #local date time&#10;				&quot;5&quot;,&quot;,&quot;, #UTC offset&#10;				&quot;'&quot;,date_utc,&quot;'&quot;,&quot;,&quot;, #UTC time&#10;				as.character(site_id),&quot;,&quot;, #siteID&#10;				as.character(var_id),&quot;,&quot;, #variableID&#10;				as.character(offset_val),&quot;,&quot;, #offsetID&#10;				&quot;1&quot;,&quot;,&quot;, #offsetTypeID&#10;				&quot;'&quot;,&quot;nc&quot;,&quot;'&quot;,&quot;,&quot;, #censor code&#10;				qualifierID,&quot;,&quot;, #qualifierID&#10;				as.character(method_id),&quot;,&quot;, #methodID&#10;				&quot;1&quot;,&quot;,&quot;, #sourceID&#10;				&quot;1&quot;,&quot;,&quot;, #sampleID&#10;				&quot;0&quot;,&quot;,&quot;, #derivedFromID&#10;				&quot;1)&quot;,&#10;				&quot;,&quot;,sep=&quot;&quot;)&#10;			}&#10;&#10;				query_pt2b&lt;-paste(query_pt2b,query_pt2a) #qualityControlLevelID&#10;					&#10;				qualifierID = &quot;1&quot;&#10;&#10;		&#10;			} #end if -99999 stmt&#10;			i = i+1&#10;		} #end while&#10;		&#10;	if (query_pt2b==&quot;&quot;){&#10;		query &lt;- &quot;INSERT IGNORE INTO `datavalues` VALUES (NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL); &quot;&#10;	}else {&#10;		query &lt;-paste(query_pt2b,sep=&quot;&quot;)&#10;	}&#10;&#10;cat(&quot;i:&quot;)&#10;cat(i)&#10;cat(&quot;\n&quot;)&#10;}else{&#10;	log_file_text &lt;- paste(log_file_text, &quot;No Data Found&quot;)&#10;	query &lt;- &quot;INSERT IGNORE INTO `datavalues` VALUES (NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL); &quot;&#10;} #end if.na statement&#10;cat(query)&#10;return(query)&#10;&#10;&#10;} #end function&#10;&#10;input_channel &lt;- input[[1]]&#10;input_dataValues &lt;- input[[2]]&#10;input_source &lt;- input[[3]]&#10;input_timestamps &lt;- input[[4]]&#10;&#10;depth_channel &lt;- Depth[[1]]&#10;depth_dataValues &lt;- Depth[[2]]&#10;depth_source &lt;- Depth[[3]]&#10;depth_timestamps &lt;- Depth[[4]]&#10;&#10;depth_array = depth_dataValues&#10;timestamp_array = input_timestamps&#10;&#10;&#10;cat(depth_array)&#10;query = &quot;&quot;&#10;&#10;last_date &lt;- timestamp_array[length(timestamp_array)]&#10;&#10;cat(as.character(timestamp_array[1]))&#10;&#10;#last_date_input&lt;-&quot;1390201200&quot;&#10;&#10;cat(last_date_input)&#10;cat(paste(last_date,&quot;/n&quot;,sep=&quot;&quot;))&#10;#if no new data was found, or no data at all was found, don't write to last_written.&#10;if (paste(last_date,&quot;/n&quot;,sep=&quot;&quot;)==last_date_input){&#10;  last_date &lt;- gsub(&quot;[.]&quot;,&quot;&quot;,substr(last_date_input,1,11))&#10;  cat(&quot;true&quot;)&#10;}&#10;&#10;if (is.na(timestamp_array[1])){&#10;  last_date &lt;-  gsub(&quot;[.]&quot;,&quot;&quot;,substr(last_date_input,1,11))&#10;  cat( substr(last_date_input,1,11))&#10;}&#10;&#10;&#10;&#10; query = paste(query,writeQuery(input_dataValues,timestamp_array,input_source,input_channel,depth_array,query,check_range,check_step,check_std_dev,check_custom_range,std_dev_val),sep=&quot;&quot;)&#10;&#10;&#10;if (is.na(input_dataValues)){&#10;	query &lt;- &quot;INSERT IGNORE INTO `datavalues` VALUES (NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL); &quot;&#10;}&#10;">
            <display name="R function or script"/>
            <property name="R Expression" class="ptolemy.actor.gui.style.TextStyle">
                <property name="height" class="ptolemy.data.expr.Parameter" value="10">
                </property>
                <property name="width" class="ptolemy.data.expr.Parameter" value="30">
                </property>
            </property>
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.TextEditorTableauFactory">
            <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
            </property>
            <property name="columnsDisplayed" class="ptolemy.data.expr.Parameter" value="80">
            </property>
            <property name="rowsDisplayed" class="ptolemy.data.expr.Parameter" value="40">
            </property>
        </property>
        <property name="Rcwd" class="ptolemy.data.expr.StringParameter" value="/home/csebranek/.kepler/cache-2.4/modules/r">
            <display name="R working directory"/>
        </property>
        <property name="save_nosave" class="ptolemy.data.expr.StringParameter" value="--no-save">
            <display name="Save or not"/>
        </property>
        <property name="graphicsFormat" class="ptolemy.data.expr.StringParameter" value="png">
            <display name="Graphics Format"/>
        </property>
        <property name="graphicsOutput" class="ptolemy.data.expr.Parameter" value="false">
            <display name="Graphics Output"/>
        </property>
        <property name="displayGraphicsOutput" class="ptolemy.data.expr.Parameter" value="false">
            <display name="Automatically display graphics"/>
        </property>
        <property name="numXPixels" class="ptolemy.data.expr.StringParameter" value="480">
            <display name="Number of X pixels in image"/>
        </property>
        <property name="numYPixels" class="ptolemy.data.expr.StringParameter" value="480">
            <display name="Number of Y pixels in image"/>
        </property>
<property name="KeplerDocumentation" class="ptolemy.vergil.basic.KeplerDocumentationAttribute">
<property name="description" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>null</configure></property>
<property name="author" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>Dan Higgins</configure></property>
<property name="version" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>null</configure></property>
<property name="userLevelDocumentation" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>&lt;p&gt;The RExpression actor runs an R script or function. Input and output port are created by the user and correspond to R variables used in the specified R script. The actor outputs the result of the evaluated script.&lt;/p&gt;&#10;&#10;&lt;p&gt;The R application must be installed on the local system to use this actor. R is a language and environment for statistical computing and graphics. For more information about R, see http://www.r-project.org/.&lt;/p&gt;&#10;&#10;&lt;p&gt;Kepler contains a number of preconfigured R-actors: Barplot, Boxplot, Scatterplot, Summary, RandomNormal, RandomUniform, Correlation, LinearModel, Regression, RMean, RMedian, RQuantile, and  SummaryStatistics.&lt;/p&gt;</configure></property>
<property name="port:graphicsFileName" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>An output port that broadcasts the file name of the generated graph of the results.</configure></property>
<property name="port:output" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>An output port that broadcasts a copy of the text output that R generates. As the actor communicates with R to run the R function or script, the output port sends back the response (i.e., the values and statistical outputs).</configure></property>
<property name="prop:Rcwd" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>The 'R' working directory (the home directory by default). </configure></property>
<property name="prop:displayGraphicsOutput" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>Select to display the plot once the actor has generated it.</configure></property>
<property name="prop:graphicsFormat" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>The graphics output format. Certain formats may require libraries be installed on your system.</configure></property>
<property name="prop:numXPixels" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>The width of the output graphic in pixels.</configure></property>
<property name="prop:numYPixels" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>The height of the output graphic in pixels.</configure></property>
<property name="prop:expression" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>The expression that is evaluated to produce the output.</configure></property>
<property name="prop:graphicsOutput" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>Specify whether or not to create a graphics output port. By default, the actor will create a graphics output port.</configure></property>
<property name="prop:save_nosave" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>Specify whether or not to save the R workspace when R is closed; set to '--save' to retrieve the workspace later in a workflow in another R-actor.</configure></property>
</property>        <property name="class" class="ptolemy.kernel.util.StringAttribute" value="org.ecoinformatics.seek.R.RExpression">
            <property name="id" class="ptolemy.kernel.util.StringAttribute" value="urn:lsid:kepler-project.org:class:1126:1">
            </property>
        </property>
        <property name="semanticType00" class="org.kepler.sms.SemanticType" value="urn:lsid:localhost:onto:1:1#MathOperationActor">
        </property>
        <property name="semanticType11" class="org.kepler.sms.SemanticType" value="urn:lsid:localhost:onto:2:1#GeneralPurpose">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[1105.0, 640.0]">
        </property>
        <port name="input" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
        </port>
        <port name="Depth" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
        </port>
        <port name="last_date_input" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
        </port>
        <port name="last_date" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
        </port>
        <port name="odm_mappings_in" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
        </port>
        <port name="range_checks_in" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
        </port>
        <port name="query" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
        </port>
        <port name="log_file_text" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
        </port>
    </entity>
    <entity name="RExpression3" class="org.ecoinformatics.seek.R.RExpression">
        <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="df &lt;- read.table(odm_mappings_in, sep=&quot;,&quot;, header=TRUE, row.names=1,nrows=-1, fill=TRUE)&#10;odm_mappings &lt;- df&#10;df2 &lt;- read.table(range_checks_in, sep=&quot;,&quot;, header=TRUE, row.names=1,nrows=-1, fill=TRUE)&#10;range_checks &lt;- df2&#10;&#10;&#10;#turn on or off QA/QC checks&#10;##################################################&#10;#absolute range checking on, enter 0 to turn off #&#10;check_range = 0                                  #&#10;#step function check on, 0 to turn off           #&#10;check_step = 0                                   #&#10;#standard deviation check on, 0 to turn off      #&#10;check_std_dev = 0                                #&#10;#custom range check spreadsheet on, 0 to turn off#&#10;check_custom_range = 1                           #&#10;##################################################&#10;&#10;#absolute range checks&#10;##################################&#10;#lower bound QA/QC for all data  #&#10;minVal = -8                      #&#10;#upper bound QA/QC for all data  #&#10;maxVal = 35                      #&#10;##################################&#10;&#10;#standard deviation flagging&#10;#################################################&#10;#enter values to flag based on std              #&#10;#i.e. to flag values 3*std +/-mean, enter 3     #&#10;std_dev_val = 3                                 #&#10;#################################################&#10;&#10;&#10;&#10;&#10;&#10;query_pt1&lt;-&quot;INSERT IGNORE INTO `datavalues` VALUES &quot;&#10;query_pt2b&lt;-&quot;&quot;&#10;query&lt;-&quot;&quot;&#10;log_file_text&lt;-&quot;&quot;&#10;&#10;odmMap&lt;- function(source,channel,depth){&#10;	depth = round(depth*2)/2&#10;	if (depth%%1==0){&#10;		depth=depth-.5&#10;	}&#10;	depth = as.character(abs(depth)*10)&#10;	cat(depth)&#10;	odm_row_num = which(paste(source,channel,depth,sep=&quot;&quot;)== row.names(odm_mappings))&#10;	#cat(paste(source,channel,depth,sep=&quot;&quot;))&#10;	#cat(odm_row_num)&#10;&#10;	return(odm_row_num)&#10;}&#10;&#10;writeQuery &lt;- function(dataValues,timestamps,source,channel,depth,query_pt2b,check_range,check_step,check_std_dev,check_custom_range,std_dev_val){&#10;&#10;log_file_text &lt;- paste(Sys.time(),&quot;:&quot;,&quot;Source:&quot;,source,&quot;Channel:&quot;,channel)&#10;if (!is.na(dataValues)){&#10;		query_pt1&lt;-&quot;INSERT IGNORE INTO `datavalues` VALUES &quot;&#10;		query_pt2b&lt;-paste(query_pt2b,query_pt1)&#10;		i = 1&#10;		#loop through all datavalues&#10;		log_file_text &lt;- paste(Sys.time(),&quot;:&quot;,&quot;Source:&quot;,source,&quot;Channel:&quot;,channel)&#10;		while (i &lt;= length(timestamps)){&#10;			if (!depth[i]==-99999){&#10;			my.lt =as.POSIXct(as.POSIXlt(timestamps[i], origin=&quot;1970-01-01&quot;))&#10;            date_local = substr(my.lt,1,20)&#10;			#if time in CDT, add 5&#10;			date_utc = as.POSIXct(timestamps[i], origin=&quot;1970-01-01&quot;)&#10;			&#10;			query_pt1&lt;-&quot;INSERT IGNORE INTO `datavalues` VALUES &quot;&#10;			odm_row_num = odmMap(source,channel,depth[i])&#10;			cat(odm_row_num)&#10;			 &#10;&#10;				site_id = odm_mappings[odm_row_num,1]&#10;				cat((as.character(site_id)))&#10;				var_id = odm_mappings[odm_row_num,2]&#10;				method_id = odm_mappings[odm_row_num,3]&#10;				offset_val = odm_mappings[odm_row_num,4]&#10;&#10;				#for each depth...&#10;				#odm_row_num = odmMap(source,channel,depth)&#10;				#get parameter name in range check spreadsheet&#10;				if (check_custom_range){&#10;					paramNameMin = paste(&quot;AirPortMet&quot;,channel,&quot;MinHRes&quot;,sep = &quot;&quot;)&#10;					paramNameMax = paste(&quot;AirPortMet&quot;,channel,&quot;MaxHRes&quot;,sep = &quot;&quot;)&#10;					rowNumMin = which(paramNameMin==row.names(range_checks))&#10;					rowNumMax = which(paramNameMax==row.names(range_checks))&#10;				}&#10;&#10;					runningWindow &lt;- rep(NA,61)&#10;&#10;					if (length(dataValues)&lt; 62){&#10;						runningWindow = dataValues[1:length(dataValues)]&#10;					} else if (i &lt; length(dataValues)-60){&#10;						runningWindow = dataValues[i:(i+60)]&#10;					} else {&#10;						runningWindow = dataValues[(length(dataValues)-60):length(dataValues)]&#10;					}&#10;					step = diff(runningWindow[(runningWindow!=-99999)],is.na=rm) # find differences between all subsequent data pts&#10;					mean_step = mean(abs(step)) # average diff&#10;					std_step = sd(abs(step))&#10;					stepcuthresh = mean_step + std_dev_val*std_step&#10;					qualifierID = &quot;1&quot;&#10;					prevFlagged = 0&#10;					chain = 0&#10;					totalFlagged = 0&#10;&#10;					#if length of rowNumMin is zero that means it doesnt exist in spreadsheet.&#10;					if (check_custom_range){&#10;						if (length(rowNumMin)){&#10;							cat(rowNumMin)&#10;							#get the month of the current timestamp, starting at character 6 in &quot;yyyy-mm-dd&quot;&#10;							if (check_custom_range){&#10;								month = as.numeric(substr(timestamps[i],6,7))&#10;								if (month &gt; 9){&#10;									colNum=(which(names(range_checks)==paste(&quot;month_&quot;,month,sep = &quot;&quot;)))&#10;								}else{&#10;									month = substr(timestamps[i],7,7)&#10;									colNum=(which(names(range_checks)==paste(&quot;month_&quot;,month,sep = &quot;&quot;)))&#10;								}&#10;&#10;								min = range_checks[rowNumMin,colNum]&#10;								max = range_checks[rowNumMax,colNum]&#10;							}&#10;						}&#10;					}&#10;&#10;&#10;					if (check_custom_range){&#10;					if (length(rowNumMin)){&#10;						if (dataValues[i]&lt;min | dataValues[i]&gt;max ){&#10;							qualifierID = &quot;2&quot;&#10;							totalFlagged = totalFlagged + 1&#10;						}&#10;						}&#10;					}&#10;					#absolute range check&#10;					if (check_range){ &#10;						&#10;							if (dataValues[i]&lt;minVal | dataValues[i]&gt;maxVal ){&#10;							##set value to null&#10;								qualifierID = &quot;2&quot;&#10;								totalFlagged = totalFlagged + 1&#10;							}&#10;						&#10;					}&#10;					#step function check&#10;					if (check_step){&#10;						if (!is.na(dataValues[i])){&#10;							if (i &gt; 1 &amp;i &lt;length(dataValues)-1){&#10;								if ((abs(dataValues[i-1]-dataValues[i])) &gt; stepcuthresh){&#10;									qualifierID = &quot;2&quot;&#10;									totalFlagged = totalFlagged + 1&#10;								} else{&#10;									qualifierID = &quot;1&quot;&#10;								}&#10;							}&#10;						}	&#10;					}&#10;					&#10;			if (i == length(dataValues)){&#10;				query_pt2a &lt;- paste(&quot;( NULL,&quot;,&#10;				as.character(dataValues[i]),&quot;,&quot;, #dataValues&#10;				&quot;2&quot;,&quot;,&quot;, #valueAccuracy&#10;				&quot;'&quot;,as.character(date_local),&quot;'&quot;,&quot;,&quot;, #local date time&#10;				&quot;5&quot;,&quot;,&quot;, #UTC offset&#10;				&quot;'&quot;,date_utc,&quot;'&quot;,&quot;,&quot;, #UTC time&#10;				as.character(site_id),&quot;,&quot;, #siteID&#10;				as.character(var_id),&quot;,&quot;, #variableID&#10;				as.character(offset_val),&quot;,&quot;, #offsetID&#10;				&quot;1&quot;,&quot;,&quot;, #offsetTypeID&#10;				&quot;'&quot;,&quot;nc&quot;,&quot;'&quot;,&quot;,&quot;, #censor code&#10;				qualifierID,&quot;,&quot;, #qualifierID&#10;				as.character(method_id),&quot;,&quot;, #methodID&#10;				&quot;1&quot;,&quot;,&quot;, #sourceID&#10;				&quot;1&quot;,&quot;,&quot;, #sampleID&#10;				&quot;0&quot;,&quot;,&quot;, #derivedFromID&#10;				&quot;1)&quot;,&#10;				&quot;;&quot;,sep=&quot;&quot;)&#10;			}else{&#10;			&#10;				query_pt2a &lt;- paste(&quot;( NULL,&quot;,&#10;				as.character(dataValues[i]),&quot;,&quot;, #dataValues&#10;				&quot;2&quot;,&quot;,&quot;, #valueAccuracy&#10;				&quot;'&quot;,as.character(date_local),&quot;'&quot;,&quot;,&quot;, #local date time&#10;				&quot;5&quot;,&quot;,&quot;, #UTC offset&#10;				&quot;'&quot;,date_utc,&quot;'&quot;,&quot;,&quot;, #UTC time&#10;				as.character(site_id),&quot;,&quot;, #siteID&#10;				as.character(var_id),&quot;,&quot;, #variableID&#10;				as.character(offset_val),&quot;,&quot;, #offsetID&#10;				&quot;1&quot;,&quot;,&quot;, #offsetTypeID&#10;				&quot;'&quot;,&quot;nc&quot;,&quot;'&quot;,&quot;,&quot;, #censor code&#10;				qualifierID,&quot;,&quot;, #qualifierID&#10;				as.character(method_id),&quot;,&quot;, #methodID&#10;				&quot;1&quot;,&quot;,&quot;, #sourceID&#10;				&quot;1&quot;,&quot;,&quot;, #sampleID&#10;				&quot;0&quot;,&quot;,&quot;, #derivedFromID&#10;				&quot;1)&quot;,&#10;				&quot;,&quot;,sep=&quot;&quot;)&#10;			}&#10;&#10;				query_pt2b&lt;-paste(query_pt2b,query_pt2a) #qualityControlLevelID&#10;					&#10;				qualifierID = &quot;1&quot;&#10;&#10;		&#10;			} #end if -99999 stmt&#10;			i = i+1&#10;		} #end while&#10;		&#10;	if (query_pt2b==&quot;&quot;){&#10;		query &lt;- &quot;INSERT IGNORE INTO `datavalues` VALUES (NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL); &quot;&#10;	}else {&#10;		query &lt;-paste(query_pt2b,sep=&quot;&quot;)&#10;	}&#10;&#10;cat(&quot;i:&quot;)&#10;cat(i)&#10;cat(&quot;\n&quot;)&#10;}else{&#10;	log_file_text &lt;- paste(log_file_text, &quot;No Data Found&quot;)&#10;	query &lt;- &quot;INSERT IGNORE INTO `datavalues` VALUES (NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL); &quot;&#10;} #end if.na statement&#10;cat(query)&#10;return(query)&#10;&#10;&#10;} #end function&#10;&#10;input_channel &lt;- input[[1]]&#10;input_dataValues &lt;- input[[2]]&#10;input_source &lt;- input[[3]]&#10;input_timestamps &lt;- input[[4]]&#10;&#10;depth_channel &lt;- Depth[[1]]&#10;depth_dataValues &lt;- Depth[[2]]&#10;depth_source &lt;- Depth[[3]]&#10;depth_timestamps &lt;- Depth[[4]]&#10;&#10;depth_array = depth_dataValues&#10;timestamp_array = input_timestamps&#10;&#10;&#10;cat(depth_array)&#10;query = &quot;&quot;&#10;&#10;last_date &lt;- timestamp_array[length(timestamp_array)]&#10;&#10;cat(as.character(timestamp_array[1]))&#10;&#10;#last_date_input&lt;-&quot;1390201200&quot;&#10;&#10;cat(last_date_input)&#10;cat(paste(last_date,&quot;/n&quot;,sep=&quot;&quot;))&#10;#if no new data was found, or no data at all was found, don't write to last_written.&#10;if (paste(last_date,&quot;/n&quot;,sep=&quot;&quot;)==last_date_input){&#10;  last_date &lt;- gsub(&quot;[.]&quot;,&quot;&quot;,substr(last_date_input,1,11))&#10;  cat(&quot;true&quot;)&#10;}&#10;&#10;if (is.na(timestamp_array[1])){&#10;  last_date &lt;-  gsub(&quot;[.]&quot;,&quot;&quot;,substr(last_date_input,1,11))&#10;  cat( substr(last_date_input,1,11))&#10;}&#10;&#10;&#10;&#10; query = paste(query,writeQuery(input_dataValues,timestamp_array,input_source,input_channel,depth_array,query,check_range,check_step,check_std_dev,check_custom_range,std_dev_val),sep=&quot;&quot;)&#10;&#10;&#10;if (is.na(input_dataValues)){&#10;	query &lt;- &quot;INSERT IGNORE INTO `datavalues` VALUES (NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL); &quot;&#10;}&#10;">
            <display name="R function or script"/>
            <property name="R Expression" class="ptolemy.actor.gui.style.TextStyle">
                <property name="height" class="ptolemy.data.expr.Parameter" value="10">
                </property>
                <property name="width" class="ptolemy.data.expr.Parameter" value="30">
                </property>
            </property>
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.TextEditorTableauFactory">
            <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
            </property>
            <property name="columnsDisplayed" class="ptolemy.data.expr.Parameter" value="80">
            </property>
            <property name="rowsDisplayed" class="ptolemy.data.expr.Parameter" value="40">
            </property>
        </property>
        <property name="Rcwd" class="ptolemy.data.expr.StringParameter" value="/home/csebranek/.kepler/cache-2.4/modules/r">
            <display name="R working directory"/>
        </property>
        <property name="save_nosave" class="ptolemy.data.expr.StringParameter" value="--no-save">
            <display name="Save or not"/>
        </property>
        <property name="graphicsFormat" class="ptolemy.data.expr.StringParameter" value="png">
            <display name="Graphics Format"/>
        </property>
        <property name="graphicsOutput" class="ptolemy.data.expr.Parameter" value="false">
            <display name="Graphics Output"/>
        </property>
        <property name="displayGraphicsOutput" class="ptolemy.data.expr.Parameter" value="false">
            <display name="Automatically display graphics"/>
        </property>
        <property name="numXPixels" class="ptolemy.data.expr.StringParameter" value="480">
            <display name="Number of X pixels in image"/>
        </property>
        <property name="numYPixels" class="ptolemy.data.expr.StringParameter" value="480">
            <display name="Number of Y pixels in image"/>
        </property>
<property name="KeplerDocumentation" class="ptolemy.vergil.basic.KeplerDocumentationAttribute">
<property name="description" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>null</configure></property>
<property name="author" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>Dan Higgins</configure></property>
<property name="version" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>null</configure></property>
<property name="userLevelDocumentation" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>&lt;p&gt;The RExpression actor runs an R script or function. Input and output port are created by the user and correspond to R variables used in the specified R script. The actor outputs the result of the evaluated script.&lt;/p&gt;&#10;&#10;&lt;p&gt;The R application must be installed on the local system to use this actor. R is a language and environment for statistical computing and graphics. For more information about R, see http://www.r-project.org/.&lt;/p&gt;&#10;&#10;&lt;p&gt;Kepler contains a number of preconfigured R-actors: Barplot, Boxplot, Scatterplot, Summary, RandomNormal, RandomUniform, Correlation, LinearModel, Regression, RMean, RMedian, RQuantile, and  SummaryStatistics.&lt;/p&gt;</configure></property>
<property name="port:graphicsFileName" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>An output port that broadcasts the file name of the generated graph of the results.</configure></property>
<property name="port:output" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>An output port that broadcasts a copy of the text output that R generates. As the actor communicates with R to run the R function or script, the output port sends back the response (i.e., the values and statistical outputs).</configure></property>
<property name="prop:Rcwd" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>The 'R' working directory (the home directory by default). </configure></property>
<property name="prop:displayGraphicsOutput" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>Select to display the plot once the actor has generated it.</configure></property>
<property name="prop:graphicsFormat" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>The graphics output format. Certain formats may require libraries be installed on your system.</configure></property>
<property name="prop:numXPixels" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>The width of the output graphic in pixels.</configure></property>
<property name="prop:numYPixels" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>The height of the output graphic in pixels.</configure></property>
<property name="prop:expression" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>The expression that is evaluated to produce the output.</configure></property>
<property name="prop:graphicsOutput" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>Specify whether or not to create a graphics output port. By default, the actor will create a graphics output port.</configure></property>
<property name="prop:save_nosave" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>Specify whether or not to save the R workspace when R is closed; set to '--save' to retrieve the workspace later in a workflow in another R-actor.</configure></property>
</property>        <property name="class" class="ptolemy.kernel.util.StringAttribute" value="org.ecoinformatics.seek.R.RExpression">
            <property name="id" class="ptolemy.kernel.util.StringAttribute" value="urn:lsid:kepler-project.org:class:1126:1">
            </property>
        </property>
        <property name="semanticType00" class="org.kepler.sms.SemanticType" value="urn:lsid:localhost:onto:1:1#MathOperationActor">
        </property>
        <property name="semanticType11" class="org.kepler.sms.SemanticType" value="urn:lsid:localhost:onto:2:1#GeneralPurpose">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="{1112.0624999999993, 762.9140624999995}">
        </property>
        <port name="input" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
        </port>
        <port name="Depth" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
        </port>
        <port name="last_date_input" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
        </port>
        <port name="last_date" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
        </port>
        <port name="odm_mappings_in" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
        </port>
        <port name="range_checks_in" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
        </port>
        <port name="query" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
        </port>
        <port name="log_file_text" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
        </port>
    </entity>
    <entity name="RExpression4" class="org.ecoinformatics.seek.R.RExpression">
        <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="df &lt;- read.table(odm_mappings_in, sep=&quot;,&quot;, header=TRUE, row.names=1,nrows=-1, fill=TRUE)&#10;odm_mappings &lt;- df&#10;df2 &lt;- read.table(range_checks_in, sep=&quot;,&quot;, header=TRUE, row.names=1,nrows=-1, fill=TRUE)&#10;range_checks &lt;- df2&#10;&#10;&#10;#turn on or off QA/QC checks&#10;##################################################&#10;#absolute range checking on, enter 0 to turn off #&#10;check_range = 0                                  #&#10;#step function check on, 0 to turn off           #&#10;check_step = 0                                   #&#10;#standard deviation check on, 0 to turn off      #&#10;check_std_dev = 0                                #&#10;#custom range check spreadsheet on, 0 to turn off#&#10;check_custom_range = 1                           #&#10;##################################################&#10;&#10;#absolute range checks&#10;##################################&#10;#lower bound QA/QC for all data  #&#10;minVal = -8                      #&#10;#upper bound QA/QC for all data  #&#10;maxVal = 35                      #&#10;##################################&#10;&#10;#standard deviation flagging&#10;#################################################&#10;#enter values to flag based on std              #&#10;#i.e. to flag values 3*std +/-mean, enter 3     #&#10;std_dev_val = 3                                 #&#10;#################################################&#10;&#10;&#10;&#10;&#10;&#10;query_pt1&lt;-&quot;INSERT IGNORE INTO `datavalues` VALUES &quot;&#10;query_pt2b&lt;-&quot;&quot;&#10;query&lt;-&quot;&quot;&#10;log_file_text&lt;-&quot;&quot;&#10;&#10;odmMap&lt;- function(source,channel,depth){&#10;	depth = round(depth*2)/2&#10;	if (depth%%1==0){&#10;		depth=depth-.5&#10;	}&#10;	depth = as.character(abs(depth)*10)&#10;	cat(depth)&#10;	odm_row_num = which(paste(source,channel,depth,sep=&quot;&quot;)== row.names(odm_mappings))&#10;	#cat(paste(source,channel,depth,sep=&quot;&quot;))&#10;	#cat(odm_row_num)&#10;&#10;	return(odm_row_num)&#10;}&#10;&#10;writeQuery &lt;- function(dataValues,timestamps,source,channel,depth,query_pt2b,check_range,check_step,check_std_dev,check_custom_range,std_dev_val){&#10;&#10;log_file_text &lt;- paste(Sys.time(),&quot;:&quot;,&quot;Source:&quot;,source,&quot;Channel:&quot;,channel)&#10;if (!is.na(dataValues)){&#10;		query_pt1&lt;-&quot;INSERT IGNORE INTO `datavalues` VALUES &quot;&#10;		query_pt2b&lt;-paste(query_pt2b,query_pt1)&#10;		i = 1&#10;		#loop through all datavalues&#10;		log_file_text &lt;- paste(Sys.time(),&quot;:&quot;,&quot;Source:&quot;,source,&quot;Channel:&quot;,channel)&#10;		while (i &lt;= length(timestamps)){&#10;			if (!depth[i]==-99999){&#10;			my.lt =as.POSIXct(as.POSIXlt(timestamps[i], origin=&quot;1970-01-01&quot;))&#10;            date_local = substr(my.lt,1,20)&#10;			#if time in CDT, add 5&#10;			date_utc = as.POSIXct(timestamps[i], origin=&quot;1970-01-01&quot;)&#10;			&#10;			query_pt1&lt;-&quot;INSERT IGNORE INTO `datavalues` VALUES &quot;&#10;			odm_row_num = odmMap(source,channel,depth[i])&#10;			cat(odm_row_num)&#10;			 &#10;&#10;				site_id = odm_mappings[odm_row_num,1]&#10;				cat((as.character(site_id)))&#10;				var_id = odm_mappings[odm_row_num,2]&#10;				method_id = odm_mappings[odm_row_num,3]&#10;				offset_val = odm_mappings[odm_row_num,4]&#10;&#10;				#for each depth...&#10;				#odm_row_num = odmMap(source,channel,depth)&#10;				#get parameter name in range check spreadsheet&#10;				if (check_custom_range){&#10;					paramNameMin = paste(&quot;AirPortMet&quot;,channel,&quot;MinHRes&quot;,sep = &quot;&quot;)&#10;					paramNameMax = paste(&quot;AirPortMet&quot;,channel,&quot;MaxHRes&quot;,sep = &quot;&quot;)&#10;					rowNumMin = which(paramNameMin==row.names(range_checks))&#10;					rowNumMax = which(paramNameMax==row.names(range_checks))&#10;				}&#10;&#10;					runningWindow &lt;- rep(NA,61)&#10;&#10;					if (length(dataValues)&lt; 62){&#10;						runningWindow = dataValues[1:length(dataValues)]&#10;					} else if (i &lt; length(dataValues)-60){&#10;						runningWindow = dataValues[i:(i+60)]&#10;					} else {&#10;						runningWindow = dataValues[(length(dataValues)-60):length(dataValues)]&#10;					}&#10;					step = diff(runningWindow[(runningWindow!=-99999)],is.na=rm) # find differences between all subsequent data pts&#10;					mean_step = mean(abs(step)) # average diff&#10;					std_step = sd(abs(step))&#10;					stepcuthresh = mean_step + std_dev_val*std_step&#10;					qualifierID = &quot;1&quot;&#10;					prevFlagged = 0&#10;					chain = 0&#10;					totalFlagged = 0&#10;&#10;					#if length of rowNumMin is zero that means it doesnt exist in spreadsheet.&#10;					if (check_custom_range){&#10;						if (length(rowNumMin)){&#10;							cat(rowNumMin)&#10;							#get the month of the current timestamp, starting at character 6 in &quot;yyyy-mm-dd&quot;&#10;							if (check_custom_range){&#10;								month = as.numeric(substr(timestamps[i],6,7))&#10;								if (month &gt; 9){&#10;									colNum=(which(names(range_checks)==paste(&quot;month_&quot;,month,sep = &quot;&quot;)))&#10;								}else{&#10;									month = substr(timestamps[i],7,7)&#10;									colNum=(which(names(range_checks)==paste(&quot;month_&quot;,month,sep = &quot;&quot;)))&#10;								}&#10;&#10;								min = range_checks[rowNumMin,colNum]&#10;								max = range_checks[rowNumMax,colNum]&#10;							}&#10;						}&#10;					}&#10;&#10;&#10;					if (check_custom_range){&#10;					if (length(rowNumMin)){&#10;						if (dataValues[i]&lt;min | dataValues[i]&gt;max ){&#10;							qualifierID = &quot;2&quot;&#10;							totalFlagged = totalFlagged + 1&#10;						}&#10;						}&#10;					}&#10;					#absolute range check&#10;					if (check_range){ &#10;						&#10;							if (dataValues[i]&lt;minVal | dataValues[i]&gt;maxVal ){&#10;							##set value to null&#10;								qualifierID = &quot;2&quot;&#10;								totalFlagged = totalFlagged + 1&#10;							}&#10;						&#10;					}&#10;					#step function check&#10;					if (check_step){&#10;						if (!is.na(dataValues[i])){&#10;							if (i &gt; 1 &amp;i &lt;length(dataValues)-1){&#10;								if ((abs(dataValues[i-1]-dataValues[i])) &gt; stepcuthresh){&#10;									qualifierID = &quot;2&quot;&#10;									totalFlagged = totalFlagged + 1&#10;								} else{&#10;									qualifierID = &quot;1&quot;&#10;								}&#10;							}&#10;						}	&#10;					}&#10;					&#10;			if (i == length(dataValues)){&#10;				query_pt2a &lt;- paste(&quot;( NULL,&quot;,&#10;				as.character(dataValues[i]),&quot;,&quot;, #dataValues&#10;				&quot;2&quot;,&quot;,&quot;, #valueAccuracy&#10;				&quot;'&quot;,as.character(date_local),&quot;'&quot;,&quot;,&quot;, #local date time&#10;				&quot;5&quot;,&quot;,&quot;, #UTC offset&#10;				&quot;'&quot;,date_utc,&quot;'&quot;,&quot;,&quot;, #UTC time&#10;				as.character(site_id),&quot;,&quot;, #siteID&#10;				as.character(var_id),&quot;,&quot;, #variableID&#10;				as.character(offset_val),&quot;,&quot;, #offsetID&#10;				&quot;1&quot;,&quot;,&quot;, #offsetTypeID&#10;				&quot;'&quot;,&quot;nc&quot;,&quot;'&quot;,&quot;,&quot;, #censor code&#10;				qualifierID,&quot;,&quot;, #qualifierID&#10;				as.character(method_id),&quot;,&quot;, #methodID&#10;				&quot;1&quot;,&quot;,&quot;, #sourceID&#10;				&quot;1&quot;,&quot;,&quot;, #sampleID&#10;				&quot;0&quot;,&quot;,&quot;, #derivedFromID&#10;				&quot;1)&quot;,&#10;				&quot;;&quot;,sep=&quot;&quot;)&#10;			}else{&#10;			&#10;				query_pt2a &lt;- paste(&quot;( NULL,&quot;,&#10;				as.character(dataValues[i]),&quot;,&quot;, #dataValues&#10;				&quot;2&quot;,&quot;,&quot;, #valueAccuracy&#10;				&quot;'&quot;,as.character(date_local),&quot;'&quot;,&quot;,&quot;, #local date time&#10;				&quot;5&quot;,&quot;,&quot;, #UTC offset&#10;				&quot;'&quot;,date_utc,&quot;'&quot;,&quot;,&quot;, #UTC time&#10;				as.character(site_id),&quot;,&quot;, #siteID&#10;				as.character(var_id),&quot;,&quot;, #variableID&#10;				as.character(offset_val),&quot;,&quot;, #offsetID&#10;				&quot;1&quot;,&quot;,&quot;, #offsetTypeID&#10;				&quot;'&quot;,&quot;nc&quot;,&quot;'&quot;,&quot;,&quot;, #censor code&#10;				qualifierID,&quot;,&quot;, #qualifierID&#10;				as.character(method_id),&quot;,&quot;, #methodID&#10;				&quot;1&quot;,&quot;,&quot;, #sourceID&#10;				&quot;1&quot;,&quot;,&quot;, #sampleID&#10;				&quot;0&quot;,&quot;,&quot;, #derivedFromID&#10;				&quot;1)&quot;,&#10;				&quot;,&quot;,sep=&quot;&quot;)&#10;			}&#10;&#10;				query_pt2b&lt;-paste(query_pt2b,query_pt2a) #qualityControlLevelID&#10;					&#10;				qualifierID = &quot;1&quot;&#10;&#10;		&#10;			} #end if -99999 stmt&#10;			i = i+1&#10;		} #end while&#10;		&#10;	if (query_pt2b==&quot;&quot;){&#10;		query &lt;- &quot;INSERT IGNORE INTO `datavalues` VALUES (NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL); &quot;&#10;	}else {&#10;		query &lt;-paste(query_pt2b,sep=&quot;&quot;)&#10;	}&#10;&#10;cat(&quot;i:&quot;)&#10;cat(i)&#10;cat(&quot;\n&quot;)&#10;}else{&#10;	log_file_text &lt;- paste(log_file_text, &quot;No Data Found&quot;)&#10;	query &lt;- &quot;INSERT IGNORE INTO `datavalues` VALUES (NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL); &quot;&#10;} #end if.na statement&#10;cat(query)&#10;return(query)&#10;&#10;&#10;} #end function&#10;&#10;input_channel &lt;- input[[1]]&#10;input_dataValues &lt;- input[[2]]&#10;input_source &lt;- input[[3]]&#10;input_timestamps &lt;- input[[4]]&#10;&#10;depth_channel &lt;- Depth[[1]]&#10;depth_dataValues &lt;- Depth[[2]]&#10;depth_source &lt;- Depth[[3]]&#10;depth_timestamps &lt;- Depth[[4]]&#10;&#10;depth_array = depth_dataValues&#10;timestamp_array = input_timestamps&#10;&#10;&#10;cat(depth_array)&#10;query = &quot;&quot;&#10;&#10;last_date &lt;- timestamp_array[length(timestamp_array)]&#10;&#10;cat(as.character(timestamp_array[1]))&#10;&#10;#last_date_input&lt;-&quot;1390201200&quot;&#10;&#10;cat(last_date_input)&#10;cat(paste(last_date,&quot;/n&quot;,sep=&quot;&quot;))&#10;#if no new data was found, or no data at all was found, don't write to last_written.&#10;if (paste(last_date,&quot;/n&quot;,sep=&quot;&quot;)==last_date_input){&#10;  last_date &lt;- gsub(&quot;[.]&quot;,&quot;&quot;,substr(last_date_input,1,11))&#10;  cat(&quot;true&quot;)&#10;}&#10;&#10;if (is.na(timestamp_array[1])){&#10;  last_date &lt;-  gsub(&quot;[.]&quot;,&quot;&quot;,substr(last_date_input,1,11))&#10;  cat( substr(last_date_input,1,11))&#10;}&#10;&#10;&#10;&#10; query = paste(query,writeQuery(input_dataValues,timestamp_array,input_source,input_channel,depth_array,query,check_range,check_step,check_std_dev,check_custom_range,std_dev_val),sep=&quot;&quot;)&#10;&#10;&#10;if (is.na(input_dataValues)){&#10;	query &lt;- &quot;INSERT IGNORE INTO `datavalues` VALUES (NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL); &quot;&#10;}&#10;">
            <display name="R function or script"/>
            <property name="R Expression" class="ptolemy.actor.gui.style.TextStyle">
                <property name="height" class="ptolemy.data.expr.Parameter" value="10">
                </property>
                <property name="width" class="ptolemy.data.expr.Parameter" value="30">
                </property>
            </property>
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.TextEditorTableauFactory">
            <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
            </property>
            <property name="columnsDisplayed" class="ptolemy.data.expr.Parameter" value="80">
            </property>
            <property name="rowsDisplayed" class="ptolemy.data.expr.Parameter" value="40">
            </property>
        </property>
        <property name="Rcwd" class="ptolemy.data.expr.StringParameter" value="/home/csebranek/.kepler/cache-2.4/modules/r">
            <display name="R working directory"/>
        </property>
        <property name="save_nosave" class="ptolemy.data.expr.StringParameter" value="--no-save">
            <display name="Save or not"/>
        </property>
        <property name="graphicsFormat" class="ptolemy.data.expr.StringParameter" value="png">
            <display name="Graphics Format"/>
        </property>
        <property name="graphicsOutput" class="ptolemy.data.expr.Parameter" value="false">
            <display name="Graphics Output"/>
        </property>
        <property name="displayGraphicsOutput" class="ptolemy.data.expr.Parameter" value="false">
            <display name="Automatically display graphics"/>
        </property>
        <property name="numXPixels" class="ptolemy.data.expr.StringParameter" value="480">
            <display name="Number of X pixels in image"/>
        </property>
        <property name="numYPixels" class="ptolemy.data.expr.StringParameter" value="480">
            <display name="Number of Y pixels in image"/>
        </property>
<property name="KeplerDocumentation" class="ptolemy.vergil.basic.KeplerDocumentationAttribute">
<property name="description" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>null</configure></property>
<property name="author" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>Dan Higgins</configure></property>
<property name="version" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>null</configure></property>
<property name="userLevelDocumentation" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>&lt;p&gt;The RExpression actor runs an R script or function. Input and output port are created by the user and correspond to R variables used in the specified R script. The actor outputs the result of the evaluated script.&lt;/p&gt;&#10;&#10;&lt;p&gt;The R application must be installed on the local system to use this actor. R is a language and environment for statistical computing and graphics. For more information about R, see http://www.r-project.org/.&lt;/p&gt;&#10;&#10;&lt;p&gt;Kepler contains a number of preconfigured R-actors: Barplot, Boxplot, Scatterplot, Summary, RandomNormal, RandomUniform, Correlation, LinearModel, Regression, RMean, RMedian, RQuantile, and  SummaryStatistics.&lt;/p&gt;</configure></property>
<property name="port:graphicsFileName" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>An output port that broadcasts the file name of the generated graph of the results.</configure></property>
<property name="port:output" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>An output port that broadcasts a copy of the text output that R generates. As the actor communicates with R to run the R function or script, the output port sends back the response (i.e., the values and statistical outputs).</configure></property>
<property name="prop:Rcwd" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>The 'R' working directory (the home directory by default). </configure></property>
<property name="prop:displayGraphicsOutput" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>Select to display the plot once the actor has generated it.</configure></property>
<property name="prop:graphicsFormat" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>The graphics output format. Certain formats may require libraries be installed on your system.</configure></property>
<property name="prop:numXPixels" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>The width of the output graphic in pixels.</configure></property>
<property name="prop:numYPixels" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>The height of the output graphic in pixels.</configure></property>
<property name="prop:expression" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>The expression that is evaluated to produce the output.</configure></property>
<property name="prop:graphicsOutput" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>Specify whether or not to create a graphics output port. By default, the actor will create a graphics output port.</configure></property>
<property name="prop:save_nosave" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>Specify whether or not to save the R workspace when R is closed; set to '--save' to retrieve the workspace later in a workflow in another R-actor.</configure></property>
</property>        <property name="class" class="ptolemy.kernel.util.StringAttribute" value="org.ecoinformatics.seek.R.RExpression">
            <property name="id" class="ptolemy.kernel.util.StringAttribute" value="urn:lsid:kepler-project.org:class:1126:1">
            </property>
        </property>
        <property name="semanticType00" class="org.kepler.sms.SemanticType" value="urn:lsid:localhost:onto:1:1#MathOperationActor">
        </property>
        <property name="semanticType11" class="org.kepler.sms.SemanticType" value="urn:lsid:localhost:onto:2:1#GeneralPurpose">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="{1112.0624999999993, 861.3515624999995}">
        </property>
        <port name="input" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
        </port>
        <port name="Depth" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
        </port>
        <port name="last_date_input" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
        </port>
        <port name="last_date" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
        </port>
        <port name="odm_mappings_in" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
        </port>
        <port name="range_checks_in" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
        </port>
        <port name="query" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
        </port>
        <port name="log_file_text" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
        </port>
    </entity>
    <entity name="RExpression5" class="org.ecoinformatics.seek.R.RExpression">
        <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="df &lt;- read.table(odm_mappings_in, sep=&quot;,&quot;, header=TRUE, row.names=1,nrows=-1, fill=TRUE)&#10;odm_mappings &lt;- df&#10;df2 &lt;- read.table(range_checks_in, sep=&quot;,&quot;, header=TRUE, row.names=1,nrows=-1, fill=TRUE)&#10;range_checks &lt;- df2&#10;&#10;&#10;#turn on or off QA/QC checks&#10;##################################################&#10;#absolute range checking on, enter 0 to turn off #&#10;check_range = 0                                  #&#10;#step function check on, 0 to turn off           #&#10;check_step = 0                                   #&#10;#standard deviation check on, 0 to turn off      #&#10;check_std_dev = 0                                #&#10;#custom range check spreadsheet on, 0 to turn off#&#10;check_custom_range = 1                           #&#10;##################################################&#10;&#10;#absolute range checks&#10;##################################&#10;#lower bound QA/QC for all data  #&#10;minVal = -8                      #&#10;#upper bound QA/QC for all data  #&#10;maxVal = 35                      #&#10;##################################&#10;&#10;#standard deviation flagging&#10;#################################################&#10;#enter values to flag based on std              #&#10;#i.e. to flag values 3*std +/-mean, enter 3     #&#10;std_dev_val = 3                                 #&#10;#################################################&#10;&#10;&#10;&#10;&#10;&#10;query_pt1&lt;-&quot;INSERT IGNORE INTO `datavalues` VALUES &quot;&#10;query_pt2b&lt;-&quot;&quot;&#10;query&lt;-&quot;&quot;&#10;log_file_text&lt;-&quot;&quot;&#10;&#10;odmMap&lt;- function(source,channel,depth){&#10;	depth = round(depth*2)/2&#10;	if (depth%%1==0){&#10;		depth=depth-.5&#10;	}&#10;	depth = as.character(abs(depth)*10)&#10;	cat(depth)&#10;	odm_row_num = which(paste(source,channel,depth,sep=&quot;&quot;)== row.names(odm_mappings))&#10;	#cat(paste(source,channel,depth,sep=&quot;&quot;))&#10;	#cat(odm_row_num)&#10;&#10;	return(odm_row_num)&#10;}&#10;&#10;writeQuery &lt;- function(dataValues,timestamps,source,channel,depth,query_pt2b,check_range,check_step,check_std_dev,check_custom_range,std_dev_val){&#10;&#10;log_file_text &lt;- paste(Sys.time(),&quot;:&quot;,&quot;Source:&quot;,source,&quot;Channel:&quot;,channel)&#10;if (!is.na(dataValues)){&#10;		query_pt1&lt;-&quot;INSERT IGNORE INTO `datavalues` VALUES &quot;&#10;		query_pt2b&lt;-paste(query_pt2b,query_pt1)&#10;		i = 1&#10;		#loop through all datavalues&#10;		log_file_text &lt;- paste(Sys.time(),&quot;:&quot;,&quot;Source:&quot;,source,&quot;Channel:&quot;,channel)&#10;		while (i &lt;= length(timestamps)){&#10;			if (!depth[i]==-99999){&#10;			my.lt =as.POSIXct(as.POSIXlt(timestamps[i], origin=&quot;1970-01-01&quot;))&#10;            date_local = substr(my.lt,1,20)&#10;			#if time in CDT, add 5&#10;			date_utc = as.POSIXct(timestamps[i], origin=&quot;1970-01-01&quot;)&#10;			&#10;			query_pt1&lt;-&quot;INSERT IGNORE INTO `datavalues` VALUES &quot;&#10;			odm_row_num = odmMap(source,channel,depth[i])&#10;			cat(odm_row_num)&#10;			 &#10;&#10;				site_id = odm_mappings[odm_row_num,1]&#10;				cat((as.character(site_id)))&#10;				var_id = odm_mappings[odm_row_num,2]&#10;				method_id = odm_mappings[odm_row_num,3]&#10;				offset_val = odm_mappings[odm_row_num,4]&#10;&#10;				#for each depth...&#10;				#odm_row_num = odmMap(source,channel,depth)&#10;				#get parameter name in range check spreadsheet&#10;				if (check_custom_range){&#10;					paramNameMin = paste(&quot;AirPortMet&quot;,channel,&quot;MinHRes&quot;,sep = &quot;&quot;)&#10;					paramNameMax = paste(&quot;AirPortMet&quot;,channel,&quot;MaxHRes&quot;,sep = &quot;&quot;)&#10;					rowNumMin = which(paramNameMin==row.names(range_checks))&#10;					rowNumMax = which(paramNameMax==row.names(range_checks))&#10;				}&#10;&#10;					runningWindow &lt;- rep(NA,61)&#10;&#10;					if (length(dataValues)&lt; 62){&#10;						runningWindow = dataValues[1:length(dataValues)]&#10;					} else if (i &lt; length(dataValues)-60){&#10;						runningWindow = dataValues[i:(i+60)]&#10;					} else {&#10;						runningWindow = dataValues[(length(dataValues)-60):length(dataValues)]&#10;					}&#10;					step = diff(runningWindow[(runningWindow!=-99999)],is.na=rm) # find differences between all subsequent data pts&#10;					mean_step = mean(abs(step)) # average diff&#10;					std_step = sd(abs(step))&#10;					stepcuthresh = mean_step + std_dev_val*std_step&#10;					qualifierID = &quot;1&quot;&#10;					prevFlagged = 0&#10;					chain = 0&#10;					totalFlagged = 0&#10;&#10;					#if length of rowNumMin is zero that means it doesnt exist in spreadsheet.&#10;					if (check_custom_range){&#10;						if (length(rowNumMin)){&#10;							cat(rowNumMin)&#10;							#get the month of the current timestamp, starting at character 6 in &quot;yyyy-mm-dd&quot;&#10;							if (check_custom_range){&#10;								month = as.numeric(substr(timestamps[i],6,7))&#10;								if (month &gt; 9){&#10;									colNum=(which(names(range_checks)==paste(&quot;month_&quot;,month,sep = &quot;&quot;)))&#10;								}else{&#10;									month = substr(timestamps[i],7,7)&#10;									colNum=(which(names(range_checks)==paste(&quot;month_&quot;,month,sep = &quot;&quot;)))&#10;								}&#10;&#10;								min = range_checks[rowNumMin,colNum]&#10;								max = range_checks[rowNumMax,colNum]&#10;							}&#10;						}&#10;					}&#10;&#10;&#10;					if (check_custom_range){&#10;					if (length(rowNumMin)){&#10;						if (dataValues[i]&lt;min | dataValues[i]&gt;max ){&#10;							qualifierID = &quot;2&quot;&#10;							totalFlagged = totalFlagged + 1&#10;						}&#10;						}&#10;					}&#10;					#absolute range check&#10;					if (check_range){ &#10;						&#10;							if (dataValues[i]&lt;minVal | dataValues[i]&gt;maxVal ){&#10;							##set value to null&#10;								qualifierID = &quot;2&quot;&#10;								totalFlagged = totalFlagged + 1&#10;							}&#10;						&#10;					}&#10;					#step function check&#10;					if (check_step){&#10;						if (!is.na(dataValues[i])){&#10;							if (i &gt; 1 &amp;i &lt;length(dataValues)-1){&#10;								if ((abs(dataValues[i-1]-dataValues[i])) &gt; stepcuthresh){&#10;									qualifierID = &quot;2&quot;&#10;									totalFlagged = totalFlagged + 1&#10;								} else{&#10;									qualifierID = &quot;1&quot;&#10;								}&#10;							}&#10;						}	&#10;					}&#10;					&#10;			if (i == length(dataValues)){&#10;				query_pt2a &lt;- paste(&quot;( NULL,&quot;,&#10;				as.character(dataValues[i]),&quot;,&quot;, #dataValues&#10;				&quot;2&quot;,&quot;,&quot;, #valueAccuracy&#10;				&quot;'&quot;,as.character(date_local),&quot;'&quot;,&quot;,&quot;, #local date time&#10;				&quot;5&quot;,&quot;,&quot;, #UTC offset&#10;				&quot;'&quot;,date_utc,&quot;'&quot;,&quot;,&quot;, #UTC time&#10;				as.character(site_id),&quot;,&quot;, #siteID&#10;				as.character(var_id),&quot;,&quot;, #variableID&#10;				as.character(offset_val),&quot;,&quot;, #offsetID&#10;				&quot;1&quot;,&quot;,&quot;, #offsetTypeID&#10;				&quot;'&quot;,&quot;nc&quot;,&quot;'&quot;,&quot;,&quot;, #censor code&#10;				qualifierID,&quot;,&quot;, #qualifierID&#10;				as.character(method_id),&quot;,&quot;, #methodID&#10;				&quot;1&quot;,&quot;,&quot;, #sourceID&#10;				&quot;1&quot;,&quot;,&quot;, #sampleID&#10;				&quot;0&quot;,&quot;,&quot;, #derivedFromID&#10;				&quot;1)&quot;,&#10;				&quot;;&quot;,sep=&quot;&quot;)&#10;			}else{&#10;			&#10;				query_pt2a &lt;- paste(&quot;( NULL,&quot;,&#10;				as.character(dataValues[i]),&quot;,&quot;, #dataValues&#10;				&quot;2&quot;,&quot;,&quot;, #valueAccuracy&#10;				&quot;'&quot;,as.character(date_local),&quot;'&quot;,&quot;,&quot;, #local date time&#10;				&quot;5&quot;,&quot;,&quot;, #UTC offset&#10;				&quot;'&quot;,date_utc,&quot;'&quot;,&quot;,&quot;, #UTC time&#10;				as.character(site_id),&quot;,&quot;, #siteID&#10;				as.character(var_id),&quot;,&quot;, #variableID&#10;				as.character(offset_val),&quot;,&quot;, #offsetID&#10;				&quot;1&quot;,&quot;,&quot;, #offsetTypeID&#10;				&quot;'&quot;,&quot;nc&quot;,&quot;'&quot;,&quot;,&quot;, #censor code&#10;				qualifierID,&quot;,&quot;, #qualifierID&#10;				as.character(method_id),&quot;,&quot;, #methodID&#10;				&quot;1&quot;,&quot;,&quot;, #sourceID&#10;				&quot;1&quot;,&quot;,&quot;, #sampleID&#10;				&quot;0&quot;,&quot;,&quot;, #derivedFromID&#10;				&quot;1)&quot;,&#10;				&quot;,&quot;,sep=&quot;&quot;)&#10;			}&#10;&#10;				query_pt2b&lt;-paste(query_pt2b,query_pt2a) #qualityControlLevelID&#10;					&#10;				qualifierID = &quot;1&quot;&#10;&#10;		&#10;			} #end if -99999 stmt&#10;			i = i+1&#10;		} #end while&#10;		&#10;	if (query_pt2b==&quot;&quot;){&#10;		query &lt;- &quot;INSERT IGNORE INTO `datavalues` VALUES (NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL); &quot;&#10;	}else {&#10;		query &lt;-paste(query_pt2b,sep=&quot;&quot;)&#10;	}&#10;&#10;cat(&quot;i:&quot;)&#10;cat(i)&#10;cat(&quot;\n&quot;)&#10;}else{&#10;	log_file_text &lt;- paste(log_file_text, &quot;No Data Found&quot;)&#10;	query &lt;- &quot;INSERT IGNORE INTO `datavalues` VALUES (NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL); &quot;&#10;} #end if.na statement&#10;cat(query)&#10;return(query)&#10;&#10;&#10;} #end function&#10;&#10;input_channel &lt;- input[[1]]&#10;input_dataValues &lt;- input[[2]]&#10;input_source &lt;- input[[3]]&#10;input_timestamps &lt;- input[[4]]&#10;&#10;depth_channel &lt;- Depth[[1]]&#10;depth_dataValues &lt;- Depth[[2]]&#10;depth_source &lt;- Depth[[3]]&#10;depth_timestamps &lt;- Depth[[4]]&#10;&#10;depth_array = depth_dataValues&#10;timestamp_array = input_timestamps&#10;&#10;&#10;cat(depth_array)&#10;query = &quot;&quot;&#10;&#10;last_date &lt;- timestamp_array[length(timestamp_array)]&#10;&#10;cat(as.character(timestamp_array[1]))&#10;&#10;#last_date_input&lt;-&quot;1390201200&quot;&#10;&#10;cat(last_date_input)&#10;cat(paste(last_date,&quot;/n&quot;,sep=&quot;&quot;))&#10;#if no new data was found, or no data at all was found, don't write to last_written.&#10;if (paste(last_date,&quot;/n&quot;,sep=&quot;&quot;)==last_date_input){&#10;  last_date &lt;- gsub(&quot;[.]&quot;,&quot;&quot;,substr(last_date_input,1,11))&#10;  cat(&quot;true&quot;)&#10;}&#10;&#10;if (is.na(timestamp_array[1])){&#10;  last_date &lt;-  gsub(&quot;[.]&quot;,&quot;&quot;,substr(last_date_input,1,11))&#10;  cat( substr(last_date_input,1,11))&#10;}&#10;&#10;&#10;&#10; query = paste(query,writeQuery(input_dataValues,timestamp_array,input_source,input_channel,depth_array,query,check_range,check_step,check_std_dev,check_custom_range,std_dev_val),sep=&quot;&quot;)&#10;&#10;&#10;if (is.na(input_dataValues)){&#10;	query &lt;- &quot;INSERT IGNORE INTO `datavalues` VALUES (NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL); &quot;&#10;}&#10;">
            <display name="R function or script"/>
            <property name="R Expression" class="ptolemy.actor.gui.style.TextStyle">
                <property name="height" class="ptolemy.data.expr.Parameter" value="10">
                </property>
                <property name="width" class="ptolemy.data.expr.Parameter" value="30">
                </property>
            </property>
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.TextEditorTableauFactory">
            <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
            </property>
            <property name="columnsDisplayed" class="ptolemy.data.expr.Parameter" value="80">
            </property>
            <property name="rowsDisplayed" class="ptolemy.data.expr.Parameter" value="40">
            </property>
        </property>
        <property name="Rcwd" class="ptolemy.data.expr.StringParameter" value="/home/csebranek/.kepler/cache-2.4/modules/r">
            <display name="R working directory"/>
        </property>
        <property name="save_nosave" class="ptolemy.data.expr.StringParameter" value="--no-save">
            <display name="Save or not"/>
        </property>
        <property name="graphicsFormat" class="ptolemy.data.expr.StringParameter" value="png">
            <display name="Graphics Format"/>
        </property>
        <property name="graphicsOutput" class="ptolemy.data.expr.Parameter" value="false">
            <display name="Graphics Output"/>
        </property>
        <property name="displayGraphicsOutput" class="ptolemy.data.expr.Parameter" value="false">
            <display name="Automatically display graphics"/>
        </property>
        <property name="numXPixels" class="ptolemy.data.expr.StringParameter" value="480">
            <display name="Number of X pixels in image"/>
        </property>
        <property name="numYPixels" class="ptolemy.data.expr.StringParameter" value="480">
            <display name="Number of Y pixels in image"/>
        </property>
<property name="KeplerDocumentation" class="ptolemy.vergil.basic.KeplerDocumentationAttribute">
<property name="description" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>null</configure></property>
<property name="author" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>Dan Higgins</configure></property>
<property name="version" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>null</configure></property>
<property name="userLevelDocumentation" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>&lt;p&gt;The RExpression actor runs an R script or function. Input and output port are created by the user and correspond to R variables used in the specified R script. The actor outputs the result of the evaluated script.&lt;/p&gt;&#10;&#10;&lt;p&gt;The R application must be installed on the local system to use this actor. R is a language and environment for statistical computing and graphics. For more information about R, see http://www.r-project.org/.&lt;/p&gt;&#10;&#10;&lt;p&gt;Kepler contains a number of preconfigured R-actors: Barplot, Boxplot, Scatterplot, Summary, RandomNormal, RandomUniform, Correlation, LinearModel, Regression, RMean, RMedian, RQuantile, and  SummaryStatistics.&lt;/p&gt;</configure></property>
<property name="port:graphicsFileName" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>An output port that broadcasts the file name of the generated graph of the results.</configure></property>
<property name="port:output" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>An output port that broadcasts a copy of the text output that R generates. As the actor communicates with R to run the R function or script, the output port sends back the response (i.e., the values and statistical outputs).</configure></property>
<property name="prop:Rcwd" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>The 'R' working directory (the home directory by default). </configure></property>
<property name="prop:displayGraphicsOutput" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>Select to display the plot once the actor has generated it.</configure></property>
<property name="prop:graphicsFormat" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>The graphics output format. Certain formats may require libraries be installed on your system.</configure></property>
<property name="prop:numXPixels" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>The width of the output graphic in pixels.</configure></property>
<property name="prop:numYPixels" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>The height of the output graphic in pixels.</configure></property>
<property name="prop:expression" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>The expression that is evaluated to produce the output.</configure></property>
<property name="prop:graphicsOutput" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>Specify whether or not to create a graphics output port. By default, the actor will create a graphics output port.</configure></property>
<property name="prop:save_nosave" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>Specify whether or not to save the R workspace when R is closed; set to '--save' to retrieve the workspace later in a workflow in another R-actor.</configure></property>
</property>        <property name="class" class="ptolemy.kernel.util.StringAttribute" value="org.ecoinformatics.seek.R.RExpression">
            <property name="id" class="ptolemy.kernel.util.StringAttribute" value="urn:lsid:kepler-project.org:class:1126:1">
            </property>
        </property>
        <property name="semanticType00" class="org.kepler.sms.SemanticType" value="urn:lsid:localhost:onto:1:1#MathOperationActor">
        </property>
        <property name="semanticType11" class="org.kepler.sms.SemanticType" value="urn:lsid:localhost:onto:2:1#GeneralPurpose">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="{1110.4999999999993, 944.1640624999995}">
        </property>
        <port name="input" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
        </port>
        <port name="Depth" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
        </port>
        <port name="last_date_input" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
        </port>
        <port name="last_date" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
        </port>
        <port name="odm_mappings_in" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
        </port>
        <port name="range_checks_in" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
        </port>
        <port name="query" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
        </port>
        <port name="log_file_text" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
        </port>
    </entity>
    <entity name="RExpression6" class="org.ecoinformatics.seek.R.RExpression">
        <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="df &lt;- read.table(odm_mappings_in, sep=&quot;,&quot;, header=TRUE, row.names=1,nrows=-1, fill=TRUE)&#10;odm_mappings &lt;- df&#10;df2 &lt;- read.table(range_checks_in, sep=&quot;,&quot;, header=TRUE, row.names=1,nrows=-1, fill=TRUE)&#10;range_checks &lt;- df2&#10;&#10;&#10;#turn on or off QA/QC checks&#10;##################################################&#10;#absolute range checking on, enter 0 to turn off #&#10;check_range = 0                                  #&#10;#step function check on, 0 to turn off           #&#10;check_step = 0                                   #&#10;#standard deviation check on, 0 to turn off      #&#10;check_std_dev = 0                                #&#10;#custom range check spreadsheet on, 0 to turn off#&#10;check_custom_range = 1                           #&#10;##################################################&#10;&#10;#absolute range checks&#10;##################################&#10;#lower bound QA/QC for all data  #&#10;minVal = -8                      #&#10;#upper bound QA/QC for all data  #&#10;maxVal = 35                      #&#10;##################################&#10;&#10;#standard deviation flagging&#10;#################################################&#10;#enter values to flag based on std              #&#10;#i.e. to flag values 3*std +/-mean, enter 3     #&#10;std_dev_val = 3                                 #&#10;#################################################&#10;&#10;&#10;&#10;&#10;&#10;query_pt1&lt;-&quot;INSERT IGNORE INTO `datavalues` VALUES &quot;&#10;query_pt2b&lt;-&quot;&quot;&#10;query&lt;-&quot;&quot;&#10;log_file_text&lt;-&quot;&quot;&#10;&#10;odmMap&lt;- function(source,channel,depth){&#10;	depth = round(depth*2)/2&#10;	if (depth%%1==0){&#10;		depth=depth-.5&#10;	}&#10;	depth = as.character(abs(depth)*10)&#10;	#cat(depth)&#10;	odm_row_num = which(paste(source,channel,depth,sep=&quot;&quot;)== row.names(odm_mappings))&#10;#cat(paste(source,channel,depth,sep=&quot;&quot;))&#10;	#cat(paste(source,channel,depth,sep=&quot;&quot;))&#10;cat(&quot;/n&quot;)&#10;	cat(odm_row_num)&#10;&#10;	return(odm_row_num)&#10;}&#10;&#10;writeQuery &lt;- function(dataValues,timestamps,source,channel,depth,query_pt2b,check_range,check_step,check_std_dev,check_custom_range,std_dev_val){&#10;&#10;log_file_text &lt;- paste(Sys.time(),&quot;:&quot;,&quot;Source:&quot;,source,&quot;Channel:&quot;,channel)&#10;if (!is.na(dataValues)){&#10;		query_pt1&lt;-&quot;INSERT IGNORE INTO `datavalues` VALUES &quot;&#10;		query_pt2b&lt;-paste(query_pt2b,query_pt1)&#10;		i = 1&#10;		#loop through all datavalues&#10;		log_file_text &lt;- paste(Sys.time(),&quot;:&quot;,&quot;Source:&quot;,source,&quot;Channel:&quot;,channel)&#10;		while (i &lt;= length(timestamps)){&#10;			if (!depth[i]==-99999){&#10;			my.lt =as.POSIXct(as.POSIXlt(timestamps[i], origin=&quot;1970-01-01&quot;))&#10;            date_local = substr(my.lt,1,20)&#10;			#if time in CDT, add 5&#10;			date_utc = as.POSIXct(timestamps[i], origin=&quot;1970-01-01&quot;)&#10;			&#10;			query_pt1&lt;-&quot;INSERT IGNORE INTO `datavalues` VALUES &quot;&#10;			odm_row_num = odmMap(source,channel,depth[i])&#10;			cat(odm_row_num)&#10;			 &#10;&#10;				site_id = odm_mappings[odm_row_num,1]&#10;				cat((as.character(site_id)))&#10;				var_id = odm_mappings[odm_row_num,2]&#10;				method_id = odm_mappings[odm_row_num,3]&#10;				offset_val = odm_mappings[odm_row_num,4]&#10;&#10;				#for each depth...&#10;				#odm_row_num = odmMap(source,channel,depth)&#10;				#get parameter name in range check spreadsheet&#10;				if (check_custom_range){&#10;					paramNameMin = paste(&quot;AirPortMet&quot;,channel,&quot;MinHRes&quot;,sep = &quot;&quot;)&#10;					paramNameMax = paste(&quot;AirPortMet&quot;,channel,&quot;MaxHRes&quot;,sep = &quot;&quot;)&#10;					rowNumMin = which(paramNameMin==row.names(range_checks))&#10;					rowNumMax = which(paramNameMax==row.names(range_checks))&#10;				}&#10;&#10;					runningWindow &lt;- rep(NA,61)&#10;&#10;					if (length(dataValues)&lt; 62){&#10;						runningWindow = dataValues[1:length(dataValues)]&#10;					} else if (i &lt; length(dataValues)-60){&#10;						runningWindow = dataValues[i:(i+60)]&#10;					} else {&#10;						runningWindow = dataValues[(length(dataValues)-60):length(dataValues)]&#10;					}&#10;					step = diff(runningWindow[(runningWindow!=-99999)],is.na=rm) # find differences between all subsequent data pts&#10;					mean_step = mean(abs(step)) # average diff&#10;					std_step = sd(abs(step))&#10;					stepcuthresh = mean_step + std_dev_val*std_step&#10;					qualifierID = &quot;1&quot;&#10;					prevFlagged = 0&#10;					chain = 0&#10;					totalFlagged = 0&#10;&#10;					#if length of rowNumMin is zero that means it doesnt exist in spreadsheet.&#10;					if (check_custom_range){&#10;						if (length(rowNumMin)){&#10;							cat(rowNumMin)&#10;							#get the month of the current timestamp, starting at character 6 in &quot;yyyy-mm-dd&quot;&#10;							if (check_custom_range){&#10;								month = as.numeric(substr(timestamps[i],6,7))&#10;								if (month &gt; 9){&#10;									colNum=(which(names(range_checks)==paste(&quot;month_&quot;,month,sep = &quot;&quot;)))&#10;								}else{&#10;									month = substr(timestamps[i],7,7)&#10;									colNum=(which(names(range_checks)==paste(&quot;month_&quot;,month,sep = &quot;&quot;)))&#10;								}&#10;&#10;								min = range_checks[rowNumMin,colNum]&#10;								max = range_checks[rowNumMax,colNum]&#10;							}&#10;						}&#10;					}&#10;&#10;&#10;					if (check_custom_range){&#10;					if (length(rowNumMin)){&#10;						if (dataValues[i]&lt;min | dataValues[i]&gt;max ){&#10;							qualifierID = &quot;2&quot;&#10;							totalFlagged = totalFlagged + 1&#10;						}&#10;						}&#10;					}&#10;					#absolute range check&#10;					if (check_range){ &#10;						&#10;							if (dataValues[i]&lt;minVal | dataValues[i]&gt;maxVal ){&#10;							##set value to null&#10;								qualifierID = &quot;2&quot;&#10;								totalFlagged = totalFlagged + 1&#10;							}&#10;						&#10;					}&#10;					#step function check&#10;					if (check_step){&#10;						if (!is.na(dataValues[i])){&#10;							if (i &gt; 1 &amp;i &lt;length(dataValues)-1){&#10;								if ((abs(dataValues[i-1]-dataValues[i])) &gt; stepcuthresh){&#10;									qualifierID = &quot;2&quot;&#10;									totalFlagged = totalFlagged + 1&#10;								} else{&#10;									qualifierID = &quot;1&quot;&#10;								}&#10;							}&#10;						}	&#10;					}&#10;					&#10;			if (i == length(dataValues)){&#10;				query_pt2a &lt;- paste(&quot;( NULL,&quot;,&#10;				as.character(dataValues[i]),&quot;,&quot;, #dataValues&#10;				&quot;2&quot;,&quot;,&quot;, #valueAccuracy&#10;				&quot;'&quot;,as.character(date_local),&quot;'&quot;,&quot;,&quot;, #local date time&#10;				&quot;5&quot;,&quot;,&quot;, #UTC offset&#10;				&quot;'&quot;,date_utc,&quot;'&quot;,&quot;,&quot;, #UTC time&#10;				as.character(site_id),&quot;,&quot;, #siteID&#10;				as.character(var_id),&quot;,&quot;, #variableID&#10;				as.character(offset_val),&quot;,&quot;, #offsetID&#10;				&quot;1&quot;,&quot;,&quot;, #offsetTypeID&#10;				&quot;'&quot;,&quot;nc&quot;,&quot;'&quot;,&quot;,&quot;, #censor code&#10;				qualifierID,&quot;,&quot;, #qualifierID&#10;				as.character(method_id),&quot;,&quot;, #methodID&#10;				&quot;1&quot;,&quot;,&quot;, #sourceID&#10;				&quot;1&quot;,&quot;,&quot;, #sampleID&#10;				&quot;0&quot;,&quot;,&quot;, #derivedFromID&#10;				&quot;1)&quot;,&#10;				&quot;;&quot;,sep=&quot;&quot;)&#10;			}else{&#10;			&#10;				query_pt2a &lt;- paste(&quot;( NULL,&quot;,&#10;				as.character(dataValues[i]),&quot;,&quot;, #dataValues&#10;				&quot;2&quot;,&quot;,&quot;, #valueAccuracy&#10;				&quot;'&quot;,as.character(date_local),&quot;'&quot;,&quot;,&quot;, #local date time&#10;				&quot;5&quot;,&quot;,&quot;, #UTC offset&#10;				&quot;'&quot;,date_utc,&quot;'&quot;,&quot;,&quot;, #UTC time&#10;				as.character(site_id),&quot;,&quot;, #siteID&#10;				as.character(var_id),&quot;,&quot;, #variableID&#10;				as.character(offset_val),&quot;,&quot;, #offsetID&#10;				&quot;1&quot;,&quot;,&quot;, #offsetTypeID&#10;				&quot;'&quot;,&quot;nc&quot;,&quot;'&quot;,&quot;,&quot;, #censor code&#10;				qualifierID,&quot;,&quot;, #qualifierID&#10;				as.character(method_id),&quot;,&quot;, #methodID&#10;				&quot;1&quot;,&quot;,&quot;, #sourceID&#10;				&quot;1&quot;,&quot;,&quot;, #sampleID&#10;				&quot;0&quot;,&quot;,&quot;, #derivedFromID&#10;				&quot;1)&quot;,&#10;				&quot;,&quot;,sep=&quot;&quot;)&#10;			}&#10;&#10;				query_pt2b&lt;-paste(query_pt2b,query_pt2a) #qualityControlLevelID&#10;					&#10;				qualifierID = &quot;1&quot;&#10;&#10;		&#10;			} #end if -99999 stmt&#10;			i = i+1&#10;		} #end while&#10;		&#10;	if (query_pt2b==&quot;&quot;){&#10;		query &lt;- &quot;INSERT IGNORE INTO `datavalues` VALUES (NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL); &quot;&#10;	}else {&#10;		query &lt;-paste(query_pt2b,sep=&quot;&quot;)&#10;	}&#10;&#10;cat(&quot;i:&quot;)&#10;cat(i)&#10;cat(&quot;\n&quot;)&#10;}else{&#10;	log_file_text &lt;- paste(log_file_text, &quot;No Data Found&quot;)&#10;	query &lt;- &quot;INSERT IGNORE INTO `datavalues` VALUES (NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL); &quot;&#10;} #end if.na statement&#10;cat(query)&#10;return(query)&#10;&#10;&#10;} #end function&#10;&#10;input_channel &lt;- input[[1]]&#10;input_dataValues &lt;- input[[2]]&#10;input_source &lt;- input[[3]]&#10;input_timestamps &lt;- input[[4]]&#10;&#10;depth_channel &lt;- Depth[[1]]&#10;depth_dataValues &lt;- Depth[[2]]&#10;depth_source &lt;- Depth[[3]]&#10;depth_timestamps &lt;- Depth[[4]]&#10;&#10;depth_array = depth_dataValues&#10;timestamp_array = input_timestamps&#10;&#10;query = &quot;&quot;&#10;&#10;last_date &lt;- timestamp_array[length(timestamp_array)]&#10;&#10;cat(as.character(timestamp_array[1]))&#10;&#10;#last_date_input&lt;-&quot;1390201200&quot;&#10;&#10;cat(last_date_input)&#10;cat(paste(last_date,&quot;/n&quot;,sep=&quot;&quot;))&#10;#if no new data was found, or no data at all was found, don't write to last_written.&#10;if (paste(last_date,&quot;/n&quot;,sep=&quot;&quot;)==last_date_input){&#10;  last_date &lt;- gsub(&quot;[.]&quot;,&quot;&quot;,substr(last_date_input,1,11))&#10;  cat(&quot;true&quot;)&#10;}&#10;&#10;if (is.na(timestamp_array[1])){&#10;  last_date &lt;-  gsub(&quot;[.]&quot;,&quot;&quot;,substr(last_date_input,1,11))&#10;  cat( substr(last_date_input,1,11))&#10;}&#10;&#10;&#10;&#10; query = paste(query,writeQuery(input_dataValues,timestamp_array,input_source,input_channel,depth_array,query,check_range,check_step,check_std_dev,check_custom_range,std_dev_val),sep=&quot;&quot;)&#10;&#10;&#10;if (is.na(input_dataValues)){&#10;	query &lt;- &quot;INSERT IGNORE INTO `datavalues` VALUES (NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL); &quot;&#10;}&#10;">
            <display name="R function or script"/>
            <property name="R Expression" class="ptolemy.actor.gui.style.TextStyle">
                <property name="height" class="ptolemy.data.expr.Parameter" value="10">
                </property>
                <property name="width" class="ptolemy.data.expr.Parameter" value="30">
                </property>
            </property>
        </property>
        <property name="_editorFactory" class="ptolemy.vergil.toolbox.TextEditorTableauFactory">
            <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
            </property>
            <property name="columnsDisplayed" class="ptolemy.data.expr.Parameter" value="80">
            </property>
            <property name="rowsDisplayed" class="ptolemy.data.expr.Parameter" value="40">
            </property>
        </property>
        <property name="Rcwd" class="ptolemy.data.expr.StringParameter" value="/home/csebranek/.kepler/cache-2.4/modules/r">
            <display name="R working directory"/>
        </property>
        <property name="save_nosave" class="ptolemy.data.expr.StringParameter" value="--no-save">
            <display name="Save or not"/>
        </property>
        <property name="graphicsFormat" class="ptolemy.data.expr.StringParameter" value="png">
            <display name="Graphics Format"/>
        </property>
        <property name="graphicsOutput" class="ptolemy.data.expr.Parameter" value="false">
            <display name="Graphics Output"/>
        </property>
        <property name="displayGraphicsOutput" class="ptolemy.data.expr.Parameter" value="false">
            <display name="Automatically display graphics"/>
        </property>
        <property name="numXPixels" class="ptolemy.data.expr.StringParameter" value="480">
            <display name="Number of X pixels in image"/>
        </property>
        <property name="numYPixels" class="ptolemy.data.expr.StringParameter" value="480">
            <display name="Number of Y pixels in image"/>
        </property>
<property name="KeplerDocumentation" class="ptolemy.vergil.basic.KeplerDocumentationAttribute">
<property name="description" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>null</configure></property>
<property name="author" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>Dan Higgins</configure></property>
<property name="version" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>null</configure></property>
<property name="userLevelDocumentation" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>&lt;p&gt;The RExpression actor runs an R script or function. Input and output port are created by the user and correspond to R variables used in the specified R script. The actor outputs the result of the evaluated script.&lt;/p&gt;&#10;&#10;&lt;p&gt;The R application must be installed on the local system to use this actor. R is a language and environment for statistical computing and graphics. For more information about R, see http://www.r-project.org/.&lt;/p&gt;&#10;&#10;&lt;p&gt;Kepler contains a number of preconfigured R-actors: Barplot, Boxplot, Scatterplot, Summary, RandomNormal, RandomUniform, Correlation, LinearModel, Regression, RMean, RMedian, RQuantile, and  SummaryStatistics.&lt;/p&gt;</configure></property>
<property name="port:graphicsFileName" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>An output port that broadcasts the file name of the generated graph of the results.</configure></property>
<property name="port:output" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>An output port that broadcasts a copy of the text output that R generates. As the actor communicates with R to run the R function or script, the output port sends back the response (i.e., the values and statistical outputs).</configure></property>
<property name="prop:Rcwd" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>The 'R' working directory (the home directory by default). </configure></property>
<property name="prop:displayGraphicsOutput" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>Select to display the plot once the actor has generated it.</configure></property>
<property name="prop:graphicsFormat" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>The graphics output format. Certain formats may require libraries be installed on your system.</configure></property>
<property name="prop:numXPixels" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>The width of the output graphic in pixels.</configure></property>
<property name="prop:numYPixels" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>The height of the output graphic in pixels.</configure></property>
<property name="prop:expression" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>The expression that is evaluated to produce the output.</configure></property>
<property name="prop:graphicsOutput" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>Specify whether or not to create a graphics output port. By default, the actor will create a graphics output port.</configure></property>
<property name="prop:save_nosave" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>Specify whether or not to save the R workspace when R is closed; set to '--save' to retrieve the workspace later in a workflow in another R-actor.</configure></property>
</property>        <property name="class" class="ptolemy.kernel.util.StringAttribute" value="org.ecoinformatics.seek.R.RExpression">
            <property name="id" class="ptolemy.kernel.util.StringAttribute" value="urn:lsid:kepler-project.org:class:1126:1">
            </property>
        </property>
        <property name="semanticType00" class="org.kepler.sms.SemanticType" value="urn:lsid:localhost:onto:1:1#MathOperationActor">
        </property>
        <property name="semanticType11" class="org.kepler.sms.SemanticType" value="urn:lsid:localhost:onto:2:1#GeneralPurpose">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="{1105.8124999999993, 1031.6640624999993}">
        </property>
        <port name="input" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
        </port>
        <port name="Depth" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
        </port>
        <port name="last_date_input" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
        </port>
        <port name="last_date" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
        </port>
        <port name="odm_mappings_in" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
        </port>
        <port name="range_checks_in" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
        </port>
        <port name="query" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
        </port>
        <port name="log_file_text" class="ptolemy.actor.TypedIOPort">
            <property name="output"/>
        </port>
    </entity>
    <entity name="Database Writer2" class="org.sdm.spa.DatabaseWriter">
        <property name="dbParams" class="ptolemy.actor.parameters.PortParameter" value="{driver = &quot;com.mysql.jdbc.Driver&quot;, password = dbpass, url = dbaddress, user = dbuser}">
        </property>
        <property name="input" class="ptolemy.actor.parameters.PortParameter" value="&quot; INSERT IGNORE INTO `datavalues` VALUES  ( NULL,11.41,2,'2013-05-10',5,'2013-05-10 06:00:00',63,30,-0.5,1,'nc',1,319,1,1,0,1), ( NULL,11.43,2,'2013-05-10 00:01:00',5,'2013-05-10 06:01:00',63,30,-0.5,1,'nc',1,319,1,1,0,1), ( NULL,11.41,2,'2013-05-10 00:02:00',5,'2013-05-10 06:02:00',63,30,-0.5,1,'nc',1,319,1,1,0,1), ( NULL,11.42,2,'2013-05-10 00:03:00',5,'2013-05-10 06:03:00',63,30,-0.5,1,'nc',1,319,1,1,0,1), ( NULL,11.43,2,'2013-05-10 00:04:00',5,'2013-05-10 06:04:00',63,30,-0.5,1,'nc',1,319,1,1,0,1), ( NULL,11.43,2,'2013-05-10 00:05:00',5,'2013-05-10 06:05:00',63,30,-0.5,1,'nc',1,319,1,1,0,1), ( NULL,11.42,2,'2013-05-10 00:06:00',5,'2013-05-10 06:06:00',64,30,-1.5,1,'nc',1,321,1,1,0,1), ( NULL,11.42,2,'2013-05-10 00:07:00',5,'2013-05-10 06:07:00',64,30,-1.5,1,'nc',1,321,1,1,0,1), ( NULL,11.44,2,'2013-05-10 00:08:00',5,'2013-05-10 06:08:00',64,30,-1.5,1,'nc',1,321,1,1,0,1), ( NULL,11.42,2,'2013-05-10 00:09:00',5,'2013-05-10 06:09:00',64,30,-1.5,1,'nc',1,321,1,1,0,1), ( NULL,11.42,2,'2013-05-10 00:10:00',5,'2013-05-10 06:10:00',64,30,-1.5,1,'nc',1,321,1,1,0,1), ( NULL,11.42,2,'2013-05-10 00:11:00',5,'2013-05-10 06:11:00',64,30,-1.5,1,'nc',1,321,1,1,0,1), ( NULL,11.42,2,'2013-05-10 00:12:00',5,'2013-05-10 06:12:00',64,30,-1.5,1,'nc',1,321,1,1,0,1), ( NULL,11.43,2,'2013-05-10 00:13:00',5,'2013-05-10 06:13:00',65,30,-2.5,1,'nc',1,323,1,1,0,1), ( NULL,11.42,2,'2013-05-10 00:14:00',5,'2013-05-10 06:14:00',65,30,-2.5,1,'nc',1,323,1,1,0,1), ( NULL,11.41,2,'2013-05-10 00:15:00',5,'2013-05-10 06:15:00',65,30,-2.5,1,'nc',1,323,1,1,0,1), ( NULL,11.42,2,'2013-05-10 00:16:00',5,'2013-05-10 06:16:00',65,30,-2.5,1,'nc',1,323,1,1,0,1), ( NULL,11.41,2,'2013-05-10 00:17:00',5,'2013-05-10 06:17:00',65,30,-2.5,1,'nc',1,323,1,1,0,1), ( NULL,11.4,2,'2013-05-10 00:18:00',5,'2013-05-10 06:18:00',65,30,-2.5,1,'nc',1,323,1,1,0,1), ( NULL,11.38,2,'2013-05-10 00:19:00',5,'2013-05-10 06:19:00',65,30,-2.5,1,'nc',1,323,1,1,0,1), ( NULL,11.36,2,'2013-05-10 00:20:00',5,'2013-05-10 06:20:00',66,30,-3.5,1,'nc',1,325,1,1,0,1), ( NULL,11.32,2,'2013-05-10 00:21:00',5,'2013-05-10 06:21:00',66,30,-3.5,1,'nc',1,325,1,1,0,1), ( NULL,11.33,2,'2013-05-10 00:22:00',5,'2013-05-10 06:22:00',66,30,-3.5,1,'nc',1,325,1,1,0,1), ( NULL,11.33,2,'2013-05-10 00:23:00',5,'2013-05-10 06:23:00',66,30,-3.5,1,'nc',1,325,1,1,0,1), ( NULL,11.35,2,'2013-05-10 00:24:00',5,'2013-05-10 06:24:00',66,30,-3.5,1,'nc',1,325,1,1,0,1), ( NULL,11.36,2,'2013-05-10 00:25:00',5,'2013-05-10 06:25:00',66,30,-3.5,1,'nc',1,325,1,1,0,1), ( NULL,11.33,2,'2013-05-10 00:26:00',5,'2013-05-10 06:26:00',66,30,-3.5,1,'nc',1,325,1,1,0,1), ( NULL,11.15,2,'2013-05-10 00:27:00',5,'2013-05-10 06:27:00',67,30,-4.5,1,'nc',1,327,1,1,0,1), ( NULL,11.07,2,'2013-05-10 00:28:00',5,'2013-05-10 06:28:00',67,30,-4.5,1,'nc',1,327,1,1,0,1), ( NULL,10.98,2,'2013-05-10 00:29:00',5,'2013-05-10 06:29:00',67,30,-4.5,1,'nc',1,327,1,1,0,1), ( NULL,10.99,2,'2013-05-10 00:30:00',5,'2013-05-10 06:30:00',67,30,-4.5,1,'nc',1,327,1,1,0,1), ( NULL,11.11,2,'2013-05-10 00:31:00',5,'2013-05-10 06:31:00',67,30,-4.5,1,'nc',1,327,1,1,0,1), ( NULL,11.03,2,'2013-05-10 00:33:00',5,'2013-05-10 06:33:00',67,30,-4.5,1,'nc',1,327,1,1,0,1), ( NULL,10.47,2,'2013-05-10 00:34:00',5,'2013-05-10 06:34:00',68,30,-5.5,1,'nc',1,329,1,1,0,1), ( NULL,10.53,2,'2013-05-10 00:35:00',5,'2013-05-10 06:35:00',68,30,-5.5,1,'nc',1,329,1,1,0,1), ( NULL,10.36,2,'2013-05-10 00:36:00',5,'2013-05-10 06:36:00',68,30,-5.5,1,'nc',1,329,1,1,0,1), ( NULL,10.54,2,'2013-05-10 00:37:00',5,'2013-05-10 06:37:00',68,30,-5.5,1,'nc',1,329,1,1,0,1), ( NULL,10.56,2,'2013-05-10 00:38:00',5,'2013-05-10 06:38:00',68,30,-5.5,1,'nc',1,329,1,1,0,1), ( NULL,10.57,2,'2013-05-10 00:39:00',5,'2013-05-10 06:39:00',68,30,-5.5,1,'nc',1,329,1,1,0,1), ( NULL,10.44,2,'2013-05-10 00:40:00',5,'2013-05-10 06:40:00',68,30,-5.5,1,'nc',1,329,1,1,0,1), ( NULL,10.28,2,'2013-05-10 00:41:00',5,'2013-05-10 06:41:00',69,30,-6.5,1,'nc',1,331,1,1,0,1), ( NULL,10.26,2,'2013-05-10 00:42:00',5,'2013-05-10 06:42:00',69,30,-6.5,1,'nc',1,331,1,1,0,1), ( NULL,10.24,2,'2013-05-10 00:43:00',5,'2013-05-10 06:43:00',69,30,-6.5,1,'nc',1,331,1,1,0,1), ( NULL,10.26,2,'2013-05-10 00:44:00',5,'2013-05-10 06:44:00',69,30,-6.5,1,'nc',1,331,1,1,0,1), ( NULL,10.29,2,'2013-05-10 00:45:00',5,'2013-05-10 06:45:00',69,30,-6.5,1,'nc',1,331,1,1,0,1), ( NULL,10.26,2,'2013-05-10 00:46:00',5,'2013-05-10 06:46:00',69,30,-6.5,1,'nc',1,331,1,1,0,1), ( NULL,10.26,2,'2013-05-10 00:47:00',5,'2013-05-10 06:47:00',69,30,-6.5,1,'nc',1,331,1,1,0,1), ( NULL,10.4,2,'2013-05-10 00:48:00',5,'2013-05-10 06:48:00',70,30,-7.5,1,'nc',1,333,1,1,0,1), ( NULL,10.44,2,'2013-05-10 00:49:00',5,'2013-05-10 06:49:00',70,30,-7.5,1,'nc',1,333,1,1,0,1), ( NULL,10.43,2,'2013-05-10 00:50:00',5,'2013-05-10 06:50:00',70,30,-7.5,1,'nc',1,333,1,1,0,1), ( NULL,10.36,2,'2013-05-10 00:51:00',5,'2013-05-10 06:51:00',70,30,-7.5,1,'nc',1,333,1,1,0,1), ( NULL,10.31,2,'2013-05-10 00:52:00',5,'2013-05-10 06:52:00',70,30,-7.5,1,'nc',1,333,1,1,0,1), ( NULL,10.29,2,'2013-05-10 00:53:00',5,'2013-05-10 06:53:00',70,30,-7.5,1,'nc',1,333,1,1,0,1), ( NULL,10.29,2,'2013-05-10 00:54:00',5,'2013-05-10 06:54:00',70,30,-7.5,1,'nc',1,333,1,1,0,1), ( NULL,10.38,2,'2013-05-10 00:55:00',5,'2013-05-10 06:55:00',71,30,-8.5,1,'nc',1,335,1,1,0,1), ( NULL,10.59,2,'2013-05-10 00:56:00',5,'2013-05-10 06:56:00',71,30,-8.5,1,'nc',1,335,1,1,0,1), ( NULL,10.73,2,'2013-05-10 00:57:00',5,'2013-05-10 06:57:00',71,30,-8.5,1,'nc',1,335,1,1,0,1), ( NULL,10.75,2,'2013-05-10 00:58:00',5,'2013-05-10 06:58:00',71,30,-8.5,1,'nc',1,335,1,1,0,1), ( NULL,10.69,2,'2013-05-10 00:59:00',5,'2013-05-10 06:59:00',71,30,-8.5,1,'nc',1,335,1,1,0,1), ( NULL,10.73,2,'2013-05-10 01:00:00',5,'2013-05-10 07:00:00',71,30,-8.5,1,'nc',1,335,1,1,0,1);&quot;">
        </property>
        <property name="table" class="ptolemy.actor.parameters.PortParameter" value="dbtable">
        </property>
        <property name="autoIncColumnName" class="ptolemy.actor.parameters.PortParameter" value="">
        </property>
<property name="KeplerDocumentation" class="ptolemy.vergil.basic.KeplerDocumentationAttribute">
<property name="description" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>null</configure></property>
<property name="author" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>Yang Zhao, Daniel Crawl</configure></property>
<property name="version" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>null</configure></property>
<property name="userLevelDocumentation" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>&lt;p&gt;The DatabaseWriter actor performs database updates against an open database and outputs the number of rows inserted.&lt;/p&gt;&#10;&#10;&lt;p&gt;Use the OpenDatabaseConnection actor to establish a database connection and generate a reference to that connection. The reference is passed to the DatabaseWriter actor via the dbcon port.&lt;/p&gt;&#10;&#10;&lt;p&gt;An update is passed to the actor via the update port or parameter.&lt;/p&gt;&#10;&#10;</configure></property>
<property name="port:result" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>An output port that broadcasts how many rows were sucessfully updated.</configure></property>
<property name="port:dbcon" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>An input port that accepts a reference to an established database connection. The OpenDatabaseConnection actor can be used to generate this reference.</configure></property>
<property name="prop:query" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>An input update string. Updates can be specified via the query port or query parameter.</configure></property>
</property>        <property name="class" class="ptolemy.kernel.util.StringAttribute" value="org.sdm.spa.DatabaseWriter">
            <property name="id" class="ptolemy.kernel.util.StringAttribute" value="urn:lsid:kepler-project.org:class:998:1">
            </property>
        </property>
        <property name="semanticType00" class="org.kepler.sms.SemanticType" value="urn:lsid:localhost:onto:1:1#DatabaseExternalInputActor">
        </property>
        <property name="semanticType11" class="org.kepler.sms.SemanticType" value="urn:lsid:localhost:onto:2:1#DatabaseInputFunction">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="{1529.249999999999, 666.0390624999997}">
        </property>
        <port name="dbcon" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="tokenConsumptionRate" class="ptolemy.data.expr.Parameter" value="1">
            </property>
        </port>
    </entity>
    <entity name="Database Writer3" class="org.sdm.spa.DatabaseWriter">
        <property name="dbParams" class="ptolemy.actor.parameters.PortParameter" value="{driver = &quot;com.mysql.jdbc.Driver&quot;, password = dbpass, url = dbaddress, user = dbuser}">
        </property>
        <property name="input" class="ptolemy.actor.parameters.PortParameter" value="&quot; INSERT IGNORE INTO `datavalues` VALUES  ( NULL,95.9,2,'2013-05-10',5,'2013-05-10 06:00:00',81,31,-0.5,1,'nc',1,453,1,1,0,1), ( NULL,96.1,2,'2013-05-10 00:01:00',5,'2013-05-10 06:01:00',81,31,-0.5,1,'nc',1,453,1,1,0,1), ( NULL,95.8,2,'2013-05-10 00:02:00',5,'2013-05-10 06:02:00',81,31,-0.5,1,'nc',1,453,1,1,0,1), ( NULL,96,2,'2013-05-10 00:03:00',5,'2013-05-10 06:03:00',81,31,-0.5,1,'nc',1,453,1,1,0,1), ( NULL,96.1,2,'2013-05-10 00:04:00',5,'2013-05-10 06:04:00',81,31,-0.5,1,'nc',1,453,1,1,0,1), ( NULL,96,2,'2013-05-10 00:05:00',5,'2013-05-10 06:05:00',81,31,-0.5,1,'nc',1,453,1,1,0,1), ( NULL,95.9,2,'2013-05-10 00:06:00',5,'2013-05-10 06:06:00',82,31,-1.5,1,'nc',1,455,1,1,0,1), ( NULL,95.9,2,'2013-05-10 00:07:00',5,'2013-05-10 06:07:00',82,31,-1.5,1,'nc',1,455,1,1,0,1), ( NULL,96.1,2,'2013-05-10 00:08:00',5,'2013-05-10 06:08:00',82,31,-1.5,1,'nc',1,455,1,1,0,1), ( NULL,95.9,2,'2013-05-10 00:09:00',5,'2013-05-10 06:09:00',82,31,-1.5,1,'nc',1,455,1,1,0,1), ( NULL,96,2,'2013-05-10 00:10:00',5,'2013-05-10 06:10:00',82,31,-1.5,1,'nc',1,455,1,1,0,1), ( NULL,96,2,'2013-05-10 00:11:00',5,'2013-05-10 06:11:00',82,31,-1.5,1,'nc',1,455,1,1,0,1), ( NULL,95.9,2,'2013-05-10 00:12:00',5,'2013-05-10 06:12:00',82,31,-1.5,1,'nc',1,455,1,1,0,1), ( NULL,95.9,2,'2013-05-10 00:13:00',5,'2013-05-10 06:13:00',83,31,-2.5,1,'nc',1,457,1,1,0,1), ( NULL,95.9,2,'2013-05-10 00:14:00',5,'2013-05-10 06:14:00',83,31,-2.5,1,'nc',1,457,1,1,0,1), ( NULL,95.8,2,'2013-05-10 00:15:00',5,'2013-05-10 06:15:00',83,31,-2.5,1,'nc',1,457,1,1,0,1), ( NULL,95.8,2,'2013-05-10 00:16:00',5,'2013-05-10 06:16:00',83,31,-2.5,1,'nc',1,457,1,1,0,1), ( NULL,95.8,2,'2013-05-10 00:17:00',5,'2013-05-10 06:17:00',83,31,-2.5,1,'nc',1,457,1,1,0,1), ( NULL,95.6,2,'2013-05-10 00:18:00',5,'2013-05-10 06:18:00',83,31,-2.5,1,'nc',1,457,1,1,0,1), ( NULL,95.2,2,'2013-05-10 00:19:00',5,'2013-05-10 06:19:00',83,31,-2.5,1,'nc',1,457,1,1,0,1), ( NULL,94.9,2,'2013-05-10 00:20:00',5,'2013-05-10 06:20:00',84,31,-3.5,1,'nc',1,459,1,1,0,1), ( NULL,94.4,2,'2013-05-10 00:21:00',5,'2013-05-10 06:21:00',84,31,-3.5,1,'nc',1,459,1,1,0,1), ( NULL,94.5,2,'2013-05-10 00:22:00',5,'2013-05-10 06:22:00',84,31,-3.5,1,'nc',1,459,1,1,0,1), ( NULL,94.6,2,'2013-05-10 00:23:00',5,'2013-05-10 06:23:00',84,31,-3.5,1,'nc',1,459,1,1,0,1), ( NULL,94.8,2,'2013-05-10 00:24:00',5,'2013-05-10 06:24:00',84,31,-3.5,1,'nc',1,459,1,1,0,1), ( NULL,95,2,'2013-05-10 00:25:00',5,'2013-05-10 06:25:00',84,31,-3.5,1,'nc',1,459,1,1,0,1), ( NULL,94.7,2,'2013-05-10 00:26:00',5,'2013-05-10 06:26:00',84,31,-3.5,1,'nc',1,459,1,1,0,1), ( NULL,92.4,2,'2013-05-10 00:27:00',5,'2013-05-10 06:27:00',85,31,-4.5,1,'nc',1,461,1,1,0,1), ( NULL,92.2,2,'2013-05-10 00:28:00',5,'2013-05-10 06:28:00',85,31,-4.5,1,'nc',1,461,1,1,0,1), ( NULL,91,2,'2013-05-10 00:29:00',5,'2013-05-10 06:29:00',85,31,-4.5,1,'nc',1,461,1,1,0,1), ( NULL,91.4,2,'2013-05-10 00:30:00',5,'2013-05-10 06:30:00',85,31,-4.5,1,'nc',1,461,1,1,0,1), ( NULL,92.3,2,'2013-05-10 00:31:00',5,'2013-05-10 06:31:00',85,31,-4.5,1,'nc',1,461,1,1,0,1), ( NULL,91.4,2,'2013-05-10 00:33:00',5,'2013-05-10 06:33:00',85,31,-4.5,1,'nc',1,461,1,1,0,1), ( NULL,86.4,2,'2013-05-10 00:34:00',5,'2013-05-10 06:34:00',86,31,-5.5,1,'nc',1,463,1,1,0,1), ( NULL,86.9,2,'2013-05-10 00:35:00',5,'2013-05-10 06:35:00',86,31,-5.5,1,'nc',1,463,1,1,0,1), ( NULL,85.5,2,'2013-05-10 00:36:00',5,'2013-05-10 06:36:00',86,31,-5.5,1,'nc',1,463,1,1,0,1), ( NULL,87.1,2,'2013-05-10 00:37:00',5,'2013-05-10 06:37:00',86,31,-5.5,1,'nc',1,463,1,1,0,1), ( NULL,87.2,2,'2013-05-10 00:38:00',5,'2013-05-10 06:38:00',86,31,-5.5,1,'nc',1,463,1,1,0,1), ( NULL,87.3,2,'2013-05-10 00:39:00',5,'2013-05-10 06:39:00',86,31,-5.5,1,'nc',1,463,1,1,0,1), ( NULL,86.1,2,'2013-05-10 00:40:00',5,'2013-05-10 06:40:00',86,31,-5.5,1,'nc',1,463,1,1,0,1), ( NULL,84.7,2,'2013-05-10 00:41:00',5,'2013-05-10 06:41:00',87,31,-6.5,1,'nc',1,465,1,1,0,1), ( NULL,84.6,2,'2013-05-10 00:42:00',5,'2013-05-10 06:42:00',87,31,-6.5,1,'nc',1,465,1,1,0,1), ( NULL,84.4,2,'2013-05-10 00:43:00',5,'2013-05-10 06:43:00',87,31,-6.5,1,'nc',1,465,1,1,0,1), ( NULL,84.5,2,'2013-05-10 00:44:00',5,'2013-05-10 06:44:00',87,31,-6.5,1,'nc',1,465,1,1,0,1), ( NULL,84.8,2,'2013-05-10 00:45:00',5,'2013-05-10 06:45:00',87,31,-6.5,1,'nc',1,465,1,1,0,1), ( NULL,84.5,2,'2013-05-10 00:46:00',5,'2013-05-10 06:46:00',87,31,-6.5,1,'nc',1,465,1,1,0,1), ( NULL,84.5,2,'2013-05-10 00:47:00',5,'2013-05-10 06:47:00',87,31,-6.5,1,'nc',1,465,1,1,0,1), ( NULL,85.6,2,'2013-05-10 00:48:00',5,'2013-05-10 06:48:00',88,31,-7.5,1,'nc',1,467,1,1,0,1), ( NULL,85.9,2,'2013-05-10 00:49:00',5,'2013-05-10 06:49:00',88,31,-7.5,1,'nc',1,467,1,1,0,1), ( NULL,85.9,2,'2013-05-10 00:50:00',5,'2013-05-10 06:50:00',88,31,-7.5,1,'nc',1,467,1,1,0,1), ( NULL,85.3,2,'2013-05-10 00:51:00',5,'2013-05-10 06:51:00',88,31,-7.5,1,'nc',1,467,1,1,0,1), ( NULL,85,2,'2013-05-10 00:52:00',5,'2013-05-10 06:52:00',88,31,-7.5,1,'nc',1,467,1,1,0,1), ( NULL,84.8,2,'2013-05-10 00:53:00',5,'2013-05-10 06:53:00',88,31,-7.5,1,'nc',1,467,1,1,0,1), ( NULL,84.8,2,'2013-05-10 00:54:00',5,'2013-05-10 06:54:00',88,31,-7.5,1,'nc',1,467,1,1,0,1), ( NULL,85.3,2,'2013-05-10 00:55:00',5,'2013-05-10 06:55:00',89,31,-8.5,1,'nc',1,469,1,1,0,1), ( NULL,87,2,'2013-05-10 00:56:00',5,'2013-05-10 06:56:00',89,31,-8.5,1,'nc',1,469,1,1,0,1), ( NULL,88.1,2,'2013-05-10 00:57:00',5,'2013-05-10 06:57:00',89,31,-8.5,1,'nc',1,469,1,1,0,1), ( NULL,88.3,2,'2013-05-10 00:58:00',5,'2013-05-10 06:58:00',89,31,-8.5,1,'nc',1,469,1,1,0,1), ( NULL,87.8,2,'2013-05-10 00:59:00',5,'2013-05-10 06:59:00',89,31,-8.5,1,'nc',1,469,1,1,0,1), ( NULL,88.1,2,'2013-05-10 01:00:00',5,'2013-05-10 07:00:00',89,31,-8.5,1,'nc',1,469,1,1,0,1);&quot;">
        </property>
        <property name="table" class="ptolemy.actor.parameters.PortParameter" value="dbtable">
        </property>
        <property name="autoIncColumnName" class="ptolemy.actor.parameters.PortParameter" value="">
        </property>
<property name="KeplerDocumentation" class="ptolemy.vergil.basic.KeplerDocumentationAttribute">
<property name="description" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>null</configure></property>
<property name="author" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>Yang Zhao, Daniel Crawl</configure></property>
<property name="version" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>null</configure></property>
<property name="userLevelDocumentation" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>&lt;p&gt;The DatabaseWriter actor performs database updates against an open database and outputs the number of rows inserted.&lt;/p&gt;&#10;&#10;&lt;p&gt;Use the OpenDatabaseConnection actor to establish a database connection and generate a reference to that connection. The reference is passed to the DatabaseWriter actor via the dbcon port.&lt;/p&gt;&#10;&#10;&lt;p&gt;An update is passed to the actor via the update port or parameter.&lt;/p&gt;&#10;&#10;</configure></property>
<property name="port:result" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>An output port that broadcasts how many rows were sucessfully updated.</configure></property>
<property name="port:dbcon" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>An input port that accepts a reference to an established database connection. The OpenDatabaseConnection actor can be used to generate this reference.</configure></property>
<property name="prop:query" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>An input update string. Updates can be specified via the query port or query parameter.</configure></property>
</property>        <property name="class" class="ptolemy.kernel.util.StringAttribute" value="org.sdm.spa.DatabaseWriter">
            <property name="id" class="ptolemy.kernel.util.StringAttribute" value="urn:lsid:kepler-project.org:class:998:1">
            </property>
        </property>
        <property name="semanticType00" class="org.kepler.sms.SemanticType" value="urn:lsid:localhost:onto:1:1#DatabaseExternalInputActor">
        </property>
        <property name="semanticType11" class="org.kepler.sms.SemanticType" value="urn:lsid:localhost:onto:2:1#DatabaseInputFunction">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="{1533.9374999999989, 762.9140624999995}">
        </property>
        <port name="dbcon" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="tokenConsumptionRate" class="ptolemy.data.expr.Parameter" value="1">
            </property>
        </port>
    </entity>
    <entity name="Database Writer4" class="org.sdm.spa.DatabaseWriter">
        <property name="dbParams" class="ptolemy.actor.parameters.PortParameter" value="{driver = &quot;com.mysql.jdbc.Driver&quot;, password = dbpass, url = dbaddress, user = dbuser}">
        </property>
        <property name="input" class="ptolemy.actor.parameters.PortParameter" value="&quot; INSERT IGNORE INTO `datavalues` VALUES  ( NULL,6.66,2,'2013-05-10',5,'2013-05-10 06:00:00',99,33,-0.5,1,'nc',1,153,1,1,0,1), ( NULL,6.66,2,'2013-05-10 00:01:00',5,'2013-05-10 06:01:00',99,33,-0.5,1,'nc',1,153,1,1,0,1), ( NULL,6.66,2,'2013-05-10 00:02:00',5,'2013-05-10 06:02:00',99,33,-0.5,1,'nc',1,153,1,1,0,1), ( NULL,6.66,2,'2013-05-10 00:03:00',5,'2013-05-10 06:03:00',99,33,-0.5,1,'nc',1,153,1,1,0,1), ( NULL,6.66,2,'2013-05-10 00:04:00',5,'2013-05-10 06:04:00',99,33,-0.5,1,'nc',1,153,1,1,0,1), ( NULL,6.66,2,'2013-05-10 00:05:00',5,'2013-05-10 06:05:00',99,33,-0.5,1,'nc',1,153,1,1,0,1), ( NULL,6.66,2,'2013-05-10 00:06:00',5,'2013-05-10 06:06:00',100,33,-1.5,1,'nc',1,155,1,1,0,1), ( NULL,6.66,2,'2013-05-10 00:07:00',5,'2013-05-10 06:07:00',100,33,-1.5,1,'nc',1,155,1,1,0,1), ( NULL,6.66,2,'2013-05-10 00:08:00',5,'2013-05-10 06:08:00',100,33,-1.5,1,'nc',1,155,1,1,0,1), ( NULL,6.66,2,'2013-05-10 00:09:00',5,'2013-05-10 06:09:00',100,33,-1.5,1,'nc',1,155,1,1,0,1), ( NULL,6.66,2,'2013-05-10 00:10:00',5,'2013-05-10 06:10:00',100,33,-1.5,1,'nc',1,155,1,1,0,1), ( NULL,6.66,2,'2013-05-10 00:11:00',5,'2013-05-10 06:11:00',100,33,-1.5,1,'nc',1,155,1,1,0,1), ( NULL,6.66,2,'2013-05-10 00:12:00',5,'2013-05-10 06:12:00',100,33,-1.5,1,'nc',1,155,1,1,0,1), ( NULL,6.65,2,'2013-05-10 00:13:00',5,'2013-05-10 06:13:00',101,33,-2.5,1,'nc',1,157,1,1,0,1), ( NULL,6.64,2,'2013-05-10 00:14:00',5,'2013-05-10 06:14:00',101,33,-2.5,1,'nc',1,157,1,1,0,1), ( NULL,6.67,2,'2013-05-10 00:15:00',5,'2013-05-10 06:15:00',101,33,-2.5,1,'nc',1,157,1,1,0,1), ( NULL,6.65,2,'2013-05-10 00:16:00',5,'2013-05-10 06:16:00',101,33,-2.5,1,'nc',1,157,1,1,0,1), ( NULL,6.66,2,'2013-05-10 00:17:00',5,'2013-05-10 06:17:00',101,33,-2.5,1,'nc',1,157,1,1,0,1), ( NULL,6.67,2,'2013-05-10 00:18:00',5,'2013-05-10 06:18:00',101,33,-2.5,1,'nc',1,157,1,1,0,1), ( NULL,6.66,2,'2013-05-10 00:19:00',5,'2013-05-10 06:19:00',101,33,-2.5,1,'nc',1,157,1,1,0,1), ( NULL,6.65,2,'2013-05-10 00:20:00',5,'2013-05-10 06:20:00',102,33,-3.5,1,'nc',1,159,1,1,0,1), ( NULL,6.65,2,'2013-05-10 00:21:00',5,'2013-05-10 06:21:00',102,33,-3.5,1,'nc',1,159,1,1,0,1), ( NULL,6.64,2,'2013-05-10 00:22:00',5,'2013-05-10 06:22:00',102,33,-3.5,1,'nc',1,159,1,1,0,1), ( NULL,6.64,2,'2013-05-10 00:23:00',5,'2013-05-10 06:23:00',102,33,-3.5,1,'nc',1,159,1,1,0,1), ( NULL,6.64,2,'2013-05-10 00:24:00',5,'2013-05-10 06:24:00',102,33,-3.5,1,'nc',1,159,1,1,0,1), ( NULL,6.64,2,'2013-05-10 00:25:00',5,'2013-05-10 06:25:00',102,33,-3.5,1,'nc',1,159,1,1,0,1), ( NULL,6.64,2,'2013-05-10 00:26:00',5,'2013-05-10 06:26:00',102,33,-3.5,1,'nc',1,159,1,1,0,1), ( NULL,6.61,2,'2013-05-10 00:27:00',5,'2013-05-10 06:27:00',103,33,-4.5,1,'nc',1,161,1,1,0,1), ( NULL,6.6,2,'2013-05-10 00:28:00',5,'2013-05-10 06:28:00',103,33,-4.5,1,'nc',1,161,1,1,0,1), ( NULL,6.58,2,'2013-05-10 00:29:00',5,'2013-05-10 06:29:00',103,33,-4.5,1,'nc',1,161,1,1,0,1), ( NULL,6.58,2,'2013-05-10 00:30:00',5,'2013-05-10 06:30:00',103,33,-4.5,1,'nc',1,161,1,1,0,1), ( NULL,6.59,2,'2013-05-10 00:31:00',5,'2013-05-10 06:31:00',103,33,-4.5,1,'nc',1,161,1,1,0,1), ( NULL,6.58,2,'2013-05-10 00:33:00',5,'2013-05-10 06:33:00',103,33,-4.5,1,'nc',1,161,1,1,0,1), ( NULL,6.52,2,'2013-05-10 00:34:00',5,'2013-05-10 06:34:00',104,33,-5.5,1,'nc',1,163,1,1,0,1), ( NULL,6.51,2,'2013-05-10 00:35:00',5,'2013-05-10 06:35:00',104,33,-5.5,1,'nc',1,163,1,1,0,1), ( NULL,6.49,2,'2013-05-10 00:36:00',5,'2013-05-10 06:36:00',104,33,-5.5,1,'nc',1,163,1,1,0,1), ( NULL,6.49,2,'2013-05-10 00:37:00',5,'2013-05-10 06:37:00',104,33,-5.5,1,'nc',1,163,1,1,0,1), ( NULL,6.49,2,'2013-05-10 00:38:00',5,'2013-05-10 06:38:00',104,33,-5.5,1,'nc',1,163,1,1,0,1), ( NULL,6.5,2,'2013-05-10 00:39:00',5,'2013-05-10 06:39:00',104,33,-5.5,1,'nc',1,163,1,1,0,1), ( NULL,6.48,2,'2013-05-10 00:40:00',5,'2013-05-10 06:40:00',104,33,-5.5,1,'nc',1,163,1,1,0,1), ( NULL,6.47,2,'2013-05-10 00:41:00',5,'2013-05-10 06:41:00',105,33,-6.5,1,'nc',1,165,1,1,0,1), ( NULL,6.46,2,'2013-05-10 00:42:00',5,'2013-05-10 06:42:00',105,33,-6.5,1,'nc',1,165,1,1,0,1), ( NULL,6.46,2,'2013-05-10 00:43:00',5,'2013-05-10 06:43:00',105,33,-6.5,1,'nc',1,165,1,1,0,1), ( NULL,6.45,2,'2013-05-10 00:44:00',5,'2013-05-10 06:44:00',105,33,-6.5,1,'nc',1,165,1,1,0,1), ( NULL,6.46,2,'2013-05-10 00:45:00',5,'2013-05-10 06:45:00',105,33,-6.5,1,'nc',1,165,1,1,0,1), ( NULL,6.45,2,'2013-05-10 00:46:00',5,'2013-05-10 06:46:00',105,33,-6.5,1,'nc',1,165,1,1,0,1), ( NULL,6.45,2,'2013-05-10 00:47:00',5,'2013-05-10 06:47:00',105,33,-6.5,1,'nc',1,165,1,1,0,1), ( NULL,6.47,2,'2013-05-10 00:48:00',5,'2013-05-10 06:48:00',106,33,-7.5,1,'nc',1,167,1,1,0,1), ( NULL,6.46,2,'2013-05-10 00:49:00',5,'2013-05-10 06:49:00',106,33,-7.5,1,'nc',1,167,1,1,0,1), ( NULL,6.47,2,'2013-05-10 00:50:00',5,'2013-05-10 06:50:00',106,33,-7.5,1,'nc',1,167,1,1,0,1), ( NULL,6.46,2,'2013-05-10 00:51:00',5,'2013-05-10 06:51:00',106,33,-7.5,1,'nc',1,167,1,1,0,1), ( NULL,6.45,2,'2013-05-10 00:52:00',5,'2013-05-10 06:52:00',106,33,-7.5,1,'nc',1,167,1,1,0,1), ( NULL,6.45,2,'2013-05-10 00:53:00',5,'2013-05-10 06:53:00',106,33,-7.5,1,'nc',1,167,1,1,0,1), ( NULL,6.44,2,'2013-05-10 00:54:00',5,'2013-05-10 06:54:00',106,33,-7.5,1,'nc',1,167,1,1,0,1), ( NULL,6.46,2,'2013-05-10 00:55:00',5,'2013-05-10 06:55:00',107,33,-8.5,1,'nc',1,169,1,1,0,1), ( NULL,6.47,2,'2013-05-10 00:56:00',5,'2013-05-10 06:56:00',107,33,-8.5,1,'nc',1,169,1,1,0,1), ( NULL,6.48,2,'2013-05-10 00:57:00',5,'2013-05-10 06:57:00',107,33,-8.5,1,'nc',1,169,1,1,0,1), ( NULL,6.49,2,'2013-05-10 00:58:00',5,'2013-05-10 06:58:00',107,33,-8.5,1,'nc',1,169,1,1,0,1), ( NULL,6.49,2,'2013-05-10 00:59:00',5,'2013-05-10 06:59:00',107,33,-8.5,1,'nc',1,169,1,1,0,1), ( NULL,6.49,2,'2013-05-10 01:00:00',5,'2013-05-10 07:00:00',107,33,-8.5,1,'nc',1,169,1,1,0,1);&quot;">
        </property>
        <property name="table" class="ptolemy.actor.parameters.PortParameter" value="dbtable">
        </property>
        <property name="autoIncColumnName" class="ptolemy.actor.parameters.PortParameter" value="">
        </property>
<property name="KeplerDocumentation" class="ptolemy.vergil.basic.KeplerDocumentationAttribute">
<property name="description" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>null</configure></property>
<property name="author" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>Yang Zhao, Daniel Crawl</configure></property>
<property name="version" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>null</configure></property>
<property name="userLevelDocumentation" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>&lt;p&gt;The DatabaseWriter actor performs database updates against an open database and outputs the number of rows inserted.&lt;/p&gt;&#10;&#10;&lt;p&gt;Use the OpenDatabaseConnection actor to establish a database connection and generate a reference to that connection. The reference is passed to the DatabaseWriter actor via the dbcon port.&lt;/p&gt;&#10;&#10;&lt;p&gt;An update is passed to the actor via the update port or parameter.&lt;/p&gt;&#10;&#10;</configure></property>
<property name="port:result" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>An output port that broadcasts how many rows were sucessfully updated.</configure></property>
<property name="port:dbcon" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>An input port that accepts a reference to an established database connection. The OpenDatabaseConnection actor can be used to generate this reference.</configure></property>
<property name="prop:query" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>An input update string. Updates can be specified via the query port or query parameter.</configure></property>
</property>        <property name="class" class="ptolemy.kernel.util.StringAttribute" value="org.sdm.spa.DatabaseWriter">
            <property name="id" class="ptolemy.kernel.util.StringAttribute" value="urn:lsid:kepler-project.org:class:998:1">
            </property>
        </property>
        <property name="semanticType00" class="org.kepler.sms.SemanticType" value="urn:lsid:localhost:onto:1:1#DatabaseExternalInputActor">
        </property>
        <property name="semanticType11" class="org.kepler.sms.SemanticType" value="urn:lsid:localhost:onto:2:1#DatabaseInputFunction">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="{1543.3124999999989, 961.3515624999995}">
        </property>
        <port name="dbcon" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="tokenConsumptionRate" class="ptolemy.data.expr.Parameter" value="1">
            </property>
        </port>
    </entity>
    <entity name="Database Writer5" class="org.sdm.spa.DatabaseWriter">
        <property name="dbParams" class="ptolemy.actor.parameters.PortParameter" value="{driver = &quot;com.mysql.jdbc.Driver&quot;, password = dbpass, url = dbaddress, user = dbuser}">
        </property>
        <property name="input" class="ptolemy.actor.parameters.PortParameter" value="&quot; INSERT IGNORE INTO `datavalues` VALUES  ( NULL,3.35,2,'2013-06-07 11:11:00',5,'2013-06-07 17:11:00',45,51,-0.5,1,'nc',1,189,1,1,0,1), ( NULL,3.49,2,'2013-06-07 11:12:00',5,'2013-06-07 17:12:00',45,51,-0.5,1,'nc',1,189,1,1,0,1), ( NULL,3.35,2,'2013-06-07 11:13:00',5,'2013-06-07 17:13:00',45,51,-0.5,1,'nc',1,189,1,1,0,1), ( NULL,3.29,2,'2013-06-07 11:14:00',5,'2013-06-07 17:14:00',45,51,-0.5,1,'nc',1,189,1,1,0,1), ( NULL,3.15,2,'2013-06-07 11:15:00',5,'2013-06-07 17:15:00',45,51,-0.5,1,'nc',1,189,1,1,0,1), ( NULL,2.86,2,'2013-06-07 11:16:00',5,'2013-06-07 17:16:00',45,51,-0.5,1,'nc',1,189,1,1,0,1), ( NULL,3.17,2,'2013-06-07 11:17:00',5,'2013-06-07 17:17:00',45,51,-0.5,1,'nc',1,189,1,1,0,1), ( NULL,3.01,2,'2013-06-07 11:18:00',5,'2013-06-07 17:18:00',45,51,-0.5,1,'nc',1,189,1,1,0,1), ( NULL,2.8,2,'2013-06-07 11:19:00',5,'2013-06-07 17:19:00',45,51,-0.5,1,'nc',1,189,1,1,0,1), ( NULL,2.86,2,'2013-06-07 11:20:00',5,'2013-06-07 17:20:00',45,51,-0.5,1,'nc',1,189,1,1,0,1), ( NULL,2.72,2,'2013-06-07 11:21:00',5,'2013-06-07 17:21:00',45,51,-0.5,1,'nc',1,189,1,1,0,1), ( NULL,2.86,2,'2013-06-07 11:22:00',5,'2013-06-07 17:22:00',45,51,-0.5,1,'nc',1,189,1,1,0,1), ( NULL,2.95,2,'2013-06-07 11:23:00',5,'2013-06-07 17:23:00',45,51,-0.5,1,'nc',1,189,1,1,0,1), ( NULL,2.96,2,'2013-06-07 11:24:00',5,'2013-06-07 17:24:00',45,51,-0.5,1,'nc',1,189,1,1,0,1), ( NULL,2.82,2,'2013-06-07 11:25:00',5,'2013-06-07 17:25:00',45,51,-0.5,1,'nc',1,189,1,1,0,1), ( NULL,2.82,2,'2013-06-07 11:26:00',5,'2013-06-07 17:26:00',45,51,-0.5,1,'nc',1,189,1,1,0,1), ( NULL,3.21,2,'2013-06-07 11:27:00',5,'2013-06-07 17:27:00',45,51,-0.5,1,'nc',1,189,1,1,0,1), ( NULL,2.8,2,'2013-06-07 11:28:00',5,'2013-06-07 17:28:00',45,51,-0.5,1,'nc',1,189,1,1,0,1), ( NULL,2.81,2,'2013-06-07 11:29:00',5,'2013-06-07 17:29:00',45,51,-0.5,1,'nc',1,189,1,1,0,1), ( NULL,2.93,2,'2013-06-07 11:30:00',5,'2013-06-07 17:30:00',45,51,-0.5,1,'nc',1,189,1,1,0,1), ( NULL,3.06,2,'2013-06-07 11:31:00',5,'2013-06-07 17:31:00',45,51,-0.5,1,'nc',1,189,1,1,0,1), ( NULL,3.07,2,'2013-06-07 11:32:00',5,'2013-06-07 17:32:00',45,51,-0.5,1,'nc',1,189,1,1,0,1), ( NULL,2.83,2,'2013-06-07 11:33:00',5,'2013-06-07 17:33:00',45,51,-0.5,1,'nc',1,189,1,1,0,1), ( NULL,2.63,2,'2013-06-07 11:34:00',5,'2013-06-07 17:34:00',45,51,-0.5,1,'nc',1,189,1,1,0,1), ( NULL,3.37,2,'2013-06-07 11:35:00',5,'2013-06-07 17:35:00',45,51,-0.5,1,'nc',1,189,1,1,0,1), ( NULL,2.83,2,'2013-06-07 11:36:00',5,'2013-06-07 17:36:00',45,51,-0.5,1,'nc',1,189,1,1,0,1), ( NULL,3.01,2,'2013-06-07 11:37:00',5,'2013-06-07 17:37:00',45,51,-0.5,1,'nc',1,189,1,1,0,1), ( NULL,2.75,2,'2013-06-07 11:38:00',5,'2013-06-07 17:38:00',45,51,-0.5,1,'nc',1,189,1,1,0,1), ( NULL,2.75,2,'2013-06-07 11:39:00',5,'2013-06-07 17:39:00',45,51,-0.5,1,'nc',1,189,1,1,0,1), ( NULL,1.6,2,'2013-06-07 11:40:00',5,'2013-06-07 17:40:00',45,51,-0.5,1,'nc',1,189,1,1,0,1), ( NULL,2.08,2,'2013-06-07 11:41:00',5,'2013-06-07 17:41:00',45,51,-0.5,1,'nc',1,189,1,1,0,1), ( NULL,2.22,2,'2013-06-07 11:42:00',5,'2013-06-07 17:42:00',45,51,-0.5,1,'nc',1,189,1,1,0,1), ( NULL,2.45,2,'2013-06-07 11:43:00',5,'2013-06-07 17:43:00',45,51,-0.5,1,'nc',1,189,1,1,0,1), ( NULL,2.67,2,'2013-06-07 11:44:00',5,'2013-06-07 17:44:00',45,51,-0.5,1,'nc',1,189,1,1,0,1), ( NULL,2.78,2,'2013-06-07 11:45:00',5,'2013-06-07 17:45:00',45,51,-0.5,1,'nc',1,189,1,1,0,1), ( NULL,2.7,2,'2013-06-07 11:46:00',5,'2013-06-07 17:46:00',45,51,-0.5,1,'nc',1,189,1,1,0,1), ( NULL,2.67,2,'2013-06-07 11:47:00',5,'2013-06-07 17:47:00',45,51,-0.5,1,'nc',1,189,1,1,0,1), ( NULL,2.49,2,'2013-06-07 11:48:00',5,'2013-06-07 17:48:00',45,51,-0.5,1,'nc',1,189,1,1,0,1), ( NULL,2.92,2,'2013-06-07 11:49:00',5,'2013-06-07 17:49:00',45,51,-0.5,1,'nc',1,189,1,1,0,1), ( NULL,3.01,2,'2013-06-07 11:50:00',5,'2013-06-07 17:50:00',45,51,-0.5,1,'nc',1,189,1,1,0,1), ( NULL,3.07,2,'2013-06-07 11:51:00',5,'2013-06-07 17:51:00',45,51,-0.5,1,'nc',1,189,1,1,0,1), ( NULL,3.12,2,'2013-06-07 11:52:00',5,'2013-06-07 17:52:00',45,51,-0.5,1,'nc',1,189,1,1,0,1), ( NULL,3.01,2,'2013-06-07 11:53:00',5,'2013-06-07 17:53:00',45,51,-0.5,1,'nc',1,189,1,1,0,1), ( NULL,2.9,2,'2013-06-07 11:54:00',5,'2013-06-07 17:54:00',45,51,-0.5,1,'nc',1,189,1,1,0,1), ( NULL,3.01,2,'2013-06-07 11:55:00',5,'2013-06-07 17:55:00',45,51,-0.5,1,'nc',1,189,1,1,0,1), ( NULL,2.9,2,'2013-06-07 11:56:00',5,'2013-06-07 17:56:00',45,51,-0.5,1,'nc',1,189,1,1,0,1), ( NULL,3.03,2,'2013-06-07 11:57:00',5,'2013-06-07 17:57:00',45,51,-0.5,1,'nc',1,189,1,1,0,1), ( NULL,2.89,2,'2013-06-07 11:58:00',5,'2013-06-07 17:58:00',45,51,-0.5,1,'nc',1,189,1,1,0,1), ( NULL,3.05,2,'2013-06-07 11:59:00',5,'2013-06-07 17:59:00',45,51,-0.5,1,'nc',1,189,1,1,0,1), ( NULL,3.16,2,'2013-06-07 12:00:00',5,'2013-06-07 18:00:00',45,51,-0.5,1,'nc',1,189,1,1,0,1), ( NULL,3.5,2,'2013-06-07 12:01:00',5,'2013-06-07 18:01:00',46,51,-1.5,1,'nc',1,191,1,1,0,1), ( NULL,3.52,2,'2013-06-07 12:02:00',5,'2013-06-07 18:02:00',46,51,-1.5,1,'nc',1,191,1,1,0,1), ( NULL,3.56,2,'2013-06-07 12:03:00',5,'2013-06-07 18:03:00',46,51,-1.5,1,'nc',1,191,1,1,0,1), ( NULL,3.49,2,'2013-06-07 12:04:00',5,'2013-06-07 18:04:00',46,51,-1.5,1,'nc',1,191,1,1,0,1), ( NULL,3.09,2,'2013-06-07 12:05:00',5,'2013-06-07 18:05:00',46,51,-1.5,1,'nc',1,191,1,1,0,1), ( NULL,3.29,2,'2013-06-07 12:06:00',5,'2013-06-07 18:06:00',46,51,-1.5,1,'nc',1,191,1,1,0,1), ( NULL,3.63,2,'2013-06-07 12:07:00',5,'2013-06-07 18:07:00',46,51,-1.5,1,'nc',1,191,1,1,0,1), ( NULL,5.98,2,'2013-06-07 12:08:00',5,'2013-06-07 18:08:00',47,51,-2.5,1,'nc',1,193,1,1,0,1), ( NULL,4.89,2,'2013-06-07 12:09:00',5,'2013-06-07 18:09:00',47,51,-2.5,1,'nc',1,193,1,1,0,1), ( NULL,4.59,2,'2013-06-07 12:10:00',5,'2013-06-07 18:10:00',47,51,-2.5,1,'nc',1,193,1,1,0,1);;&quot;">
        </property>
        <property name="table" class="ptolemy.actor.parameters.PortParameter" value="dbtable">
        </property>
        <property name="autoIncColumnName" class="ptolemy.actor.parameters.PortParameter" value="">
        </property>
<property name="KeplerDocumentation" class="ptolemy.vergil.basic.KeplerDocumentationAttribute">
<property name="description" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>null</configure></property>
<property name="author" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>Yang Zhao, Daniel Crawl</configure></property>
<property name="version" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>null</configure></property>
<property name="userLevelDocumentation" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>&lt;p&gt;The DatabaseWriter actor performs database updates against an open database and outputs the number of rows inserted.&lt;/p&gt;&#10;&#10;&lt;p&gt;Use the OpenDatabaseConnection actor to establish a database connection and generate a reference to that connection. The reference is passed to the DatabaseWriter actor via the dbcon port.&lt;/p&gt;&#10;&#10;&lt;p&gt;An update is passed to the actor via the update port or parameter.&lt;/p&gt;&#10;&#10;</configure></property>
<property name="port:result" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>An output port that broadcasts how many rows were sucessfully updated.</configure></property>
<property name="port:dbcon" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>An input port that accepts a reference to an established database connection. The OpenDatabaseConnection actor can be used to generate this reference.</configure></property>
<property name="prop:query" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>An input update string. Updates can be specified via the query port or query parameter.</configure></property>
</property>        <property name="class" class="ptolemy.kernel.util.StringAttribute" value="org.sdm.spa.DatabaseWriter">
            <property name="id" class="ptolemy.kernel.util.StringAttribute" value="urn:lsid:kepler-project.org:class:998:1">
            </property>
        </property>
        <property name="semanticType00" class="org.kepler.sms.SemanticType" value="urn:lsid:localhost:onto:1:1#DatabaseExternalInputActor">
        </property>
        <property name="semanticType11" class="org.kepler.sms.SemanticType" value="urn:lsid:localhost:onto:2:1#DatabaseInputFunction">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="{1546.4374999999989, 1067.6015624999993}">
        </property>
        <port name="dbcon" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="tokenConsumptionRate" class="ptolemy.data.expr.Parameter" value="1">
            </property>
        </port>
    </entity>
    <entity name="Database Writer6" class="org.sdm.spa.DatabaseWriter">
        <property name="dbParams" class="ptolemy.actor.parameters.PortParameter" value="{driver = &quot;com.mysql.jdbc.Driver&quot;, password = dbpass, url = dbaddress, user = dbuser}">
        </property>
        <property name="input" class="ptolemy.actor.parameters.PortParameter" value="&quot; INSERT IGNORE INTO `datavalues` VALUES  ( NULL,10.9,2,'2013-05-10',5,'2013-05-10 06:00:00',117,32,-0.5,1,'nc',1,391,1,1,0,1), ( NULL,10.9,2,'2013-05-10 00:01:00',5,'2013-05-10 06:01:00',117,32,-0.5,1,'nc',1,391,1,1,0,1), ( NULL,11.3,2,'2013-05-10 00:02:00',5,'2013-05-10 06:02:00',117,32,-0.5,1,'nc',1,391,1,1,0,1), ( NULL,11,2,'2013-05-10 00:03:00',5,'2013-05-10 06:03:00',117,32,-0.5,1,'nc',1,391,1,1,0,1), ( NULL,10.9,2,'2013-05-10 00:04:00',5,'2013-05-10 06:04:00',117,32,-0.5,1,'nc',1,391,1,1,0,1), ( NULL,10.9,2,'2013-05-10 00:05:00',5,'2013-05-10 06:05:00',117,32,-0.5,1,'nc',1,391,1,1,0,1), ( NULL,11.2,2,'2013-05-10 00:06:00',5,'2013-05-10 06:06:00',118,32,-1.5,1,'nc',1,393,1,1,0,1), ( NULL,11,2,'2013-05-10 00:07:00',5,'2013-05-10 06:07:00',118,32,-1.5,1,'nc',1,393,1,1,0,1), ( NULL,11,2,'2013-05-10 00:08:00',5,'2013-05-10 06:08:00',118,32,-1.5,1,'nc',1,393,1,1,0,1), ( NULL,11,2,'2013-05-10 00:09:00',5,'2013-05-10 06:09:00',118,32,-1.5,1,'nc',1,393,1,1,0,1), ( NULL,10.9,2,'2013-05-10 00:10:00',5,'2013-05-10 06:10:00',118,32,-1.5,1,'nc',1,393,1,1,0,1), ( NULL,10.9,2,'2013-05-10 00:11:00',5,'2013-05-10 06:11:00',118,32,-1.5,1,'nc',1,393,1,1,0,1), ( NULL,10.9,2,'2013-05-10 00:12:00',5,'2013-05-10 06:12:00',118,32,-1.5,1,'nc',1,393,1,1,0,1), ( NULL,11.2,2,'2013-05-10 00:13:00',5,'2013-05-10 06:13:00',119,32,-2.5,1,'nc',1,395,1,1,0,1), ( NULL,11.2,2,'2013-05-10 00:14:00',5,'2013-05-10 06:14:00',119,32,-2.5,1,'nc',1,395,1,1,0,1), ( NULL,11.2,2,'2013-05-10 00:15:00',5,'2013-05-10 06:15:00',119,32,-2.5,1,'nc',1,395,1,1,0,1), ( NULL,11.2,2,'2013-05-10 00:16:00',5,'2013-05-10 06:16:00',119,32,-2.5,1,'nc',1,395,1,1,0,1), ( NULL,11.4,2,'2013-05-10 00:17:00',5,'2013-05-10 06:17:00',119,32,-2.5,1,'nc',1,395,1,1,0,1), ( NULL,11.5,2,'2013-05-10 00:18:00',5,'2013-05-10 06:18:00',119,32,-2.5,1,'nc',1,395,1,1,0,1), ( NULL,11,2,'2013-05-10 00:19:00',5,'2013-05-10 06:19:00',119,32,-2.5,1,'nc',1,395,1,1,0,1), ( NULL,11.2,2,'2013-05-10 00:20:00',5,'2013-05-10 06:20:00',120,32,-3.5,1,'nc',1,397,1,1,0,1), ( NULL,11.2,2,'2013-05-10 00:21:00',5,'2013-05-10 06:21:00',120,32,-3.5,1,'nc',1,397,1,1,0,1), ( NULL,11.5,2,'2013-05-10 00:22:00',5,'2013-05-10 06:22:00',120,32,-3.5,1,'nc',1,397,1,1,0,1), ( NULL,11.1,2,'2013-05-10 00:23:00',5,'2013-05-10 06:23:00',120,32,-3.5,1,'nc',1,397,1,1,0,1), ( NULL,10.9,2,'2013-05-10 00:24:00',5,'2013-05-10 06:24:00',120,32,-3.5,1,'nc',1,397,1,1,0,1), ( NULL,11.2,2,'2013-05-10 00:25:00',5,'2013-05-10 06:25:00',120,32,-3.5,1,'nc',1,397,1,1,0,1), ( NULL,11.2,2,'2013-05-10 00:26:00',5,'2013-05-10 06:26:00',120,32,-3.5,1,'nc',1,397,1,1,0,1), ( NULL,11.4,2,'2013-05-10 00:27:00',5,'2013-05-10 06:27:00',121,32,-4.5,1,'nc',1,399,1,1,0,1), ( NULL,11.3,2,'2013-05-10 00:28:00',5,'2013-05-10 06:28:00',121,32,-4.5,1,'nc',1,399,1,1,0,1), ( NULL,11.4,2,'2013-05-10 00:29:00',5,'2013-05-10 06:29:00',121,32,-4.5,1,'nc',1,399,1,1,0,1), ( NULL,11.6,2,'2013-05-10 00:30:00',5,'2013-05-10 06:30:00',121,32,-4.5,1,'nc',1,399,1,1,0,1), ( NULL,11.4,2,'2013-05-10 00:31:00',5,'2013-05-10 06:31:00',121,32,-4.5,1,'nc',1,399,1,1,0,1), ( NULL,11.2,2,'2013-05-10 00:33:00',5,'2013-05-10 06:33:00',121,32,-4.5,1,'nc',1,399,1,1,0,1), ( NULL,11.8,2,'2013-05-10 00:34:00',5,'2013-05-10 06:34:00',122,32,-5.5,1,'nc',1,401,1,1,0,1), ( NULL,11.6,2,'2013-05-10 00:35:00',5,'2013-05-10 06:35:00',122,32,-5.5,1,'nc',1,401,1,1,0,1), ( NULL,11.6,2,'2013-05-10 00:36:00',5,'2013-05-10 06:36:00',122,32,-5.5,1,'nc',1,401,1,1,0,1), ( NULL,11.6,2,'2013-05-10 00:37:00',5,'2013-05-10 06:37:00',122,32,-5.5,1,'nc',1,401,1,1,0,1), ( NULL,11.5,2,'2013-05-10 00:38:00',5,'2013-05-10 06:38:00',122,32,-5.5,1,'nc',1,401,1,1,0,1), ( NULL,11.5,2,'2013-05-10 00:39:00',5,'2013-05-10 06:39:00',122,32,-5.5,1,'nc',1,401,1,1,0,1), ( NULL,11.7,2,'2013-05-10 00:40:00',5,'2013-05-10 06:40:00',122,32,-5.5,1,'nc',1,401,1,1,0,1), ( NULL,11.8,2,'2013-05-10 00:41:00',5,'2013-05-10 06:41:00',123,32,-6.5,1,'nc',1,403,1,1,0,1), ( NULL,11.9,2,'2013-05-10 00:42:00',5,'2013-05-10 06:42:00',123,32,-6.5,1,'nc',1,403,1,1,0,1), ( NULL,12.2,2,'2013-05-10 00:43:00',5,'2013-05-10 06:43:00',123,32,-6.5,1,'nc',1,403,1,1,0,1), ( NULL,11.9,2,'2013-05-10 00:44:00',5,'2013-05-10 06:44:00',123,32,-6.5,1,'nc',1,403,1,1,0,1), ( NULL,12.2,2,'2013-05-10 00:45:00',5,'2013-05-10 06:45:00',123,32,-6.5,1,'nc',1,403,1,1,0,1), ( NULL,11.8,2,'2013-05-10 00:46:00',5,'2013-05-10 06:46:00',123,32,-6.5,1,'nc',1,403,1,1,0,1), ( NULL,11.8,2,'2013-05-10 00:47:00',5,'2013-05-10 06:47:00',123,32,-6.5,1,'nc',1,403,1,1,0,1), ( NULL,11.8,2,'2013-05-10 00:48:00',5,'2013-05-10 06:48:00',124,32,-7.5,1,'nc',1,405,1,1,0,1), ( NULL,11.8,2,'2013-05-10 00:49:00',5,'2013-05-10 06:49:00',124,32,-7.5,1,'nc',1,405,1,1,0,1), ( NULL,11.8,2,'2013-05-10 00:50:00',5,'2013-05-10 06:50:00',124,32,-7.5,1,'nc',1,405,1,1,0,1), ( NULL,11.9,2,'2013-05-10 00:51:00',5,'2013-05-10 06:51:00',124,32,-7.5,1,'nc',1,405,1,1,0,1), ( NULL,11.8,2,'2013-05-10 00:52:00',5,'2013-05-10 06:52:00',124,32,-7.5,1,'nc',1,405,1,1,0,1), ( NULL,11.9,2,'2013-05-10 00:53:00',5,'2013-05-10 06:53:00',124,32,-7.5,1,'nc',1,405,1,1,0,1), ( NULL,11.9,2,'2013-05-10 00:54:00',5,'2013-05-10 06:54:00',124,32,-7.5,1,'nc',1,405,1,1,0,1), ( NULL,11.8,2,'2013-05-10 00:55:00',5,'2013-05-10 06:55:00',125,32,-8.5,1,'nc',1,407,1,1,0,1), ( NULL,12.5,2,'2013-05-10 00:56:00',5,'2013-05-10 06:56:00',125,32,-8.5,1,'nc',1,407,1,1,0,1), ( NULL,11.9,2,'2013-05-10 00:57:00',5,'2013-05-10 06:57:00',125,32,-8.5,1,'nc',1,407,1,1,0,1), ( NULL,11.8,2,'2013-05-10 00:58:00',5,'2013-05-10 06:58:00',125,32,-8.5,1,'nc',1,407,1,1,0,1), ( NULL,11.8,2,'2013-05-10 00:59:00',5,'2013-05-10 06:59:00',125,32,-8.5,1,'nc',1,407,1,1,0,1), ( NULL,11.8,2,'2013-05-10 01:00:00',5,'2013-05-10 07:00:00',125,32,-8.5,1,'nc',1,407,1,1,0,1);&quot;">
        </property>
        <property name="table" class="ptolemy.actor.parameters.PortParameter" value="dbtable">
        </property>
        <property name="autoIncColumnName" class="ptolemy.actor.parameters.PortParameter" value="">
        </property>
<property name="KeplerDocumentation" class="ptolemy.vergil.basic.KeplerDocumentationAttribute">
<property name="description" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>null</configure></property>
<property name="author" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>Yang Zhao, Daniel Crawl</configure></property>
<property name="version" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>null</configure></property>
<property name="userLevelDocumentation" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>&lt;p&gt;The DatabaseWriter actor performs database updates against an open database and outputs the number of rows inserted.&lt;/p&gt;&#10;&#10;&lt;p&gt;Use the OpenDatabaseConnection actor to establish a database connection and generate a reference to that connection. The reference is passed to the DatabaseWriter actor via the dbcon port.&lt;/p&gt;&#10;&#10;&lt;p&gt;An update is passed to the actor via the update port or parameter.&lt;/p&gt;&#10;&#10;</configure></property>
<property name="port:result" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>An output port that broadcasts how many rows were sucessfully updated.</configure></property>
<property name="port:dbcon" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>An input port that accepts a reference to an established database connection. The OpenDatabaseConnection actor can be used to generate this reference.</configure></property>
<property name="prop:query" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>An input update string. Updates can be specified via the query port or query parameter.</configure></property>
</property>        <property name="class" class="ptolemy.kernel.util.StringAttribute" value="org.sdm.spa.DatabaseWriter">
            <property name="id" class="ptolemy.kernel.util.StringAttribute" value="urn:lsid:kepler-project.org:class:998:1">
            </property>
        </property>
        <property name="semanticType00" class="org.kepler.sms.SemanticType" value="urn:lsid:localhost:onto:1:1#DatabaseExternalInputActor">
        </property>
        <property name="semanticType11" class="org.kepler.sms.SemanticType" value="urn:lsid:localhost:onto:2:1#DatabaseInputFunction">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="{1546.4374999999989, 1067.6015624999993}">
        </property>
        <port name="dbcon" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="tokenConsumptionRate" class="ptolemy.data.expr.Parameter" value="1">
            </property>
        </port>
    </entity>
    <entity name="Database Writer7" class="org.sdm.spa.DatabaseWriter">
        <property name="dbParams" class="ptolemy.actor.parameters.PortParameter" value="{driver = &quot;com.mysql.jdbc.Driver&quot;, password = dbpass, url = dbaddress, user = dbuser}">
        </property>
        <property name="input" class="ptolemy.actor.parameters.PortParameter" value="&quot; INSERT IGNORE INTO `datavalues` VALUES  ( NULL,5.64,2,'2013-05-10',5,'2013-05-10 06:00:00',27,8,-0.5,1,'nc',1,43,1,1,0,1), ( NULL,5.63,2,'2013-05-10 00:01:00',5,'2013-05-10 06:01:00',27,8,-0.5,1,'nc',1,43,1,1,0,1), ( NULL,5.61,2,'2013-05-10 00:02:00',5,'2013-05-10 06:02:00',27,8,-0.5,1,'nc',1,43,1,1,0,1), ( NULL,5.61,2,'2013-05-10 00:03:00',5,'2013-05-10 06:03:00',27,8,-0.5,1,'nc',1,43,1,1,0,1), ( NULL,5.64,2,'2013-05-10 00:04:00',5,'2013-05-10 06:04:00',27,8,-0.5,1,'nc',1,43,1,1,0,1), ( NULL,5.62,2,'2013-05-10 00:05:00',5,'2013-05-10 06:05:00',27,8,-0.5,1,'nc',1,43,1,1,0,1), ( NULL,5.61,2,'2013-05-10 00:06:00',5,'2013-05-10 06:06:00',28,8,-1.5,1,'nc',1,47,1,1,0,1), ( NULL,5.58,2,'2013-05-10 00:07:00',5,'2013-05-10 06:07:00',28,8,-1.5,1,'nc',1,47,1,1,0,1), ( NULL,5.6,2,'2013-05-10 00:08:00',5,'2013-05-10 06:08:00',28,8,-1.5,1,'nc',1,47,1,1,0,1), ( NULL,5.6,2,'2013-05-10 00:09:00',5,'2013-05-10 06:09:00',28,8,-1.5,1,'nc',1,47,1,1,0,1), ( NULL,5.62,2,'2013-05-10 00:10:00',5,'2013-05-10 06:10:00',28,8,-1.5,1,'nc',1,47,1,1,0,1), ( NULL,5.62,2,'2013-05-10 00:11:00',5,'2013-05-10 06:11:00',28,8,-1.5,1,'nc',1,47,1,1,0,1), ( NULL,5.59,2,'2013-05-10 00:12:00',5,'2013-05-10 06:12:00',28,8,-1.5,1,'nc',1,47,1,1,0,1), ( NULL,5.55,2,'2013-05-10 00:13:00',5,'2013-05-10 06:13:00',29,8,-2.5,1,'nc',1,51,1,1,0,1), ( NULL,5.6,2,'2013-05-10 00:14:00',5,'2013-05-10 06:14:00',29,8,-2.5,1,'nc',1,51,1,1,0,1), ( NULL,5.6,2,'2013-05-10 00:15:00',5,'2013-05-10 06:15:00',29,8,-2.5,1,'nc',1,51,1,1,0,1), ( NULL,5.58,2,'2013-05-10 00:16:00',5,'2013-05-10 06:16:00',29,8,-2.5,1,'nc',1,51,1,1,0,1), ( NULL,5.57,2,'2013-05-10 00:17:00',5,'2013-05-10 06:17:00',29,8,-2.5,1,'nc',1,51,1,1,0,1), ( NULL,5.55,2,'2013-05-10 00:18:00',5,'2013-05-10 06:18:00',29,8,-2.5,1,'nc',1,51,1,1,0,1), ( NULL,5.48,2,'2013-05-10 00:19:00',5,'2013-05-10 06:19:00',29,8,-2.5,1,'nc',1,51,1,1,0,1), ( NULL,5.39,2,'2013-05-10 00:20:00',5,'2013-05-10 06:20:00',30,8,-3.5,1,'nc',1,55,1,1,0,1), ( NULL,5.36,2,'2013-05-10 00:21:00',5,'2013-05-10 06:21:00',30,8,-3.5,1,'nc',1,55,1,1,0,1), ( NULL,5.35,2,'2013-05-10 00:22:00',5,'2013-05-10 06:22:00',30,8,-3.5,1,'nc',1,55,1,1,0,1), ( NULL,5.39,2,'2013-05-10 00:23:00',5,'2013-05-10 06:23:00',30,8,-3.5,1,'nc',1,55,1,1,0,1), ( NULL,5.41,2,'2013-05-10 00:24:00',5,'2013-05-10 06:24:00',30,8,-3.5,1,'nc',1,55,1,1,0,1), ( NULL,5.42,2,'2013-05-10 00:25:00',5,'2013-05-10 06:25:00',30,8,-3.5,1,'nc',1,55,1,1,0,1), ( NULL,5.41,2,'2013-05-10 00:26:00',5,'2013-05-10 06:26:00',30,8,-3.5,1,'nc',1,55,1,1,0,1), ( NULL,5.07,2,'2013-05-10 00:27:00',5,'2013-05-10 06:27:00',31,8,-4.5,1,'nc',1,59,1,1,0,1), ( NULL,5.28,2,'2013-05-10 00:28:00',5,'2013-05-10 06:28:00',31,8,-4.5,1,'nc',1,59,1,1,0,1), ( NULL,5.07,2,'2013-05-10 00:29:00',5,'2013-05-10 06:29:00',31,8,-4.5,1,'nc',1,59,1,1,0,1), ( NULL,5.19,2,'2013-05-10 00:30:00',5,'2013-05-10 06:30:00',31,8,-4.5,1,'nc',1,59,1,1,0,1), ( NULL,5.15,2,'2013-05-10 00:31:00',5,'2013-05-10 06:31:00',31,8,-4.5,1,'nc',1,59,1,1,0,1), ( NULL,5.08,2,'2013-05-10 00:33:00',5,'2013-05-10 06:33:00',31,8,-4.5,1,'nc',1,59,1,1,0,1), ( NULL,4.95,2,'2013-05-10 00:34:00',5,'2013-05-10 06:34:00',32,8,-5.5,1,'nc',1,63,1,1,0,1), ( NULL,4.95,2,'2013-05-10 00:35:00',5,'2013-05-10 06:35:00',32,8,-5.5,1,'nc',1,63,1,1,0,1), ( NULL,4.94,2,'2013-05-10 00:36:00',5,'2013-05-10 06:36:00',32,8,-5.5,1,'nc',1,63,1,1,0,1), ( NULL,4.96,2,'2013-05-10 00:37:00',5,'2013-05-10 06:37:00',32,8,-5.5,1,'nc',1,63,1,1,0,1), ( NULL,4.96,2,'2013-05-10 00:38:00',5,'2013-05-10 06:38:00',32,8,-5.5,1,'nc',1,63,1,1,0,1), ( NULL,4.95,2,'2013-05-10 00:39:00',5,'2013-05-10 06:39:00',32,8,-5.5,1,'nc',1,63,1,1,0,1), ( NULL,4.92,2,'2013-05-10 00:40:00',5,'2013-05-10 06:40:00',32,8,-5.5,1,'nc',1,63,1,1,0,1), ( NULL,4.88,2,'2013-05-10 00:41:00',5,'2013-05-10 06:41:00',33,8,-6.5,1,'nc',1,67,1,1,0,1), ( NULL,4.88,2,'2013-05-10 00:42:00',5,'2013-05-10 06:42:00',33,8,-6.5,1,'nc',1,67,1,1,0,1), ( NULL,4.88,2,'2013-05-10 00:43:00',5,'2013-05-10 06:43:00',33,8,-6.5,1,'nc',1,67,1,1,0,1), ( NULL,4.87,2,'2013-05-10 00:44:00',5,'2013-05-10 06:44:00',33,8,-6.5,1,'nc',1,67,1,1,0,1), ( NULL,4.86,2,'2013-05-10 00:45:00',5,'2013-05-10 06:45:00',33,8,-6.5,1,'nc',1,67,1,1,0,1), ( NULL,4.86,2,'2013-05-10 00:46:00',5,'2013-05-10 06:46:00',33,8,-6.5,1,'nc',1,67,1,1,0,1), ( NULL,4.86,2,'2013-05-10 00:47:00',5,'2013-05-10 06:47:00',33,8,-6.5,1,'nc',1,67,1,1,0,1), ( NULL,4.81,2,'2013-05-10 00:48:00',5,'2013-05-10 06:48:00',34,8,-7.5,1,'nc',1,71,1,1,0,1), ( NULL,4.83,2,'2013-05-10 00:49:00',5,'2013-05-10 06:49:00',34,8,-7.5,1,'nc',1,71,1,1,0,1), ( NULL,4.84,2,'2013-05-10 00:50:00',5,'2013-05-10 06:50:00',34,8,-7.5,1,'nc',1,71,1,1,0,1), ( NULL,4.84,2,'2013-05-10 00:51:00',5,'2013-05-10 06:51:00',34,8,-7.5,1,'nc',1,71,1,1,0,1), ( NULL,4.85,2,'2013-05-10 00:52:00',5,'2013-05-10 06:52:00',34,8,-7.5,1,'nc',1,71,1,1,0,1), ( NULL,4.84,2,'2013-05-10 00:53:00',5,'2013-05-10 06:53:00',34,8,-7.5,1,'nc',1,71,1,1,0,1), ( NULL,4.85,2,'2013-05-10 00:54:00',5,'2013-05-10 06:54:00',34,8,-7.5,1,'nc',1,71,1,1,0,1), ( NULL,4.77,2,'2013-05-10 00:55:00',5,'2013-05-10 06:55:00',35,8,-8.5,1,'nc',1,74,1,1,0,1), ( NULL,4.76,2,'2013-05-10 00:56:00',5,'2013-05-10 06:56:00',35,8,-8.5,1,'nc',1,74,1,1,0,1), ( NULL,4.74,2,'2013-05-10 00:57:00',5,'2013-05-10 06:57:00',35,8,-8.5,1,'nc',1,74,1,1,0,1), ( NULL,4.74,2,'2013-05-10 00:58:00',5,'2013-05-10 06:58:00',35,8,-8.5,1,'nc',1,74,1,1,0,1), ( NULL,4.74,2,'2013-05-10 00:59:00',5,'2013-05-10 06:59:00',35,8,-8.5,1,'nc',1,74,1,1,0,1), ( NULL,4.74,2,'2013-05-10 01:00:00',5,'2013-05-10 07:00:00',35,8,-8.5,1,'nc',1,74,1,1,0,1);&quot;">
        </property>
        <property name="table" class="ptolemy.actor.parameters.PortParameter" value="dbtable">
        </property>
        <property name="autoIncColumnName" class="ptolemy.actor.parameters.PortParameter" value="">
        </property>
<property name="KeplerDocumentation" class="ptolemy.vergil.basic.KeplerDocumentationAttribute">
<property name="description" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>null</configure></property>
<property name="author" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>Yang Zhao, Daniel Crawl</configure></property>
<property name="version" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>null</configure></property>
<property name="userLevelDocumentation" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>&lt;p&gt;The DatabaseWriter actor performs database updates against an open database and outputs the number of rows inserted.&lt;/p&gt;&#10;&#10;&lt;p&gt;Use the OpenDatabaseConnection actor to establish a database connection and generate a reference to that connection. The reference is passed to the DatabaseWriter actor via the dbcon port.&lt;/p&gt;&#10;&#10;&lt;p&gt;An update is passed to the actor via the update port or parameter.&lt;/p&gt;&#10;&#10;</configure></property>
<property name="port:result" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>An output port that broadcasts how many rows were sucessfully updated.</configure></property>
<property name="port:dbcon" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>An input port that accepts a reference to an established database connection. The OpenDatabaseConnection actor can be used to generate this reference.</configure></property>
<property name="prop:query" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>An input update string. Updates can be specified via the query port or query parameter.</configure></property>
</property>        <property name="class" class="ptolemy.kernel.util.StringAttribute" value="org.sdm.spa.DatabaseWriter">
            <property name="id" class="ptolemy.kernel.util.StringAttribute" value="urn:lsid:kepler-project.org:class:998:1">
            </property>
        </property>
        <property name="semanticType00" class="org.kepler.sms.SemanticType" value="urn:lsid:localhost:onto:1:1#DatabaseExternalInputActor">
        </property>
        <property name="semanticType11" class="org.kepler.sms.SemanticType" value="urn:lsid:localhost:onto:2:1#DatabaseInputFunction">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="{1554.2499999999989, 876.9765624999995}">
        </property>
        <port name="dbcon" class="ptolemy.actor.TypedIOPort">
            <property name="input"/>
            <property name="tokenConsumptionRate" class="ptolemy.data.expr.Parameter" value="1">
            </property>
        </port>
    </entity>
    <entity name="Data File Name6" class="ptolemy.actor.lib.Expression">
        <property name="expression" class="ptolemy.kernel.util.StringAttribute" value="log">
            <property name="_hide" class="ptolemy.data.expr.Parameter" value="true">
            </property>
        </property>
        <property name="entityId" class="org.kepler.moml.NamedObjId" value="urn:lsid:kepler-project.org/ns/:49505:37:50">
        </property>
        <property name="class" class="ptolemy.kernel.util.StringAttribute" value="ptolemy.actor.lib.Expression">
            <property name="id" class="ptolemy.kernel.util.StringAttribute" value="urn:lsid:kepler-project.org:class:950:1">
            </property>
        </property>
        <property name="semanticType00" class="org.kepler.sms.SemanticType" value="urn:lsid:localhost:onto:1:1#MathOperationActor">
        </property>
        <property name="semanticType11" class="org.kepler.sms.SemanticType" value="urn:lsid:localhost:onto:2:1#GeneralPurpose">
        </property>
        <property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon">
            <property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="expression">
            </property>
            <property name="displayWidth" class="ptolemy.data.expr.Parameter" value="60">
            </property>
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[635.0, 1355.0]">
        </property>
<property name="KeplerDocumentation" class="ptolemy.vergil.basic.KeplerDocumentationAttribute">
<property name="description" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>null</configure></property>
<property name="author" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>Xiaojun Liu, Edward A. Lee, Steve Neuendorffer</configure></property>
<property name="version" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>null</configure></property>
<property name="userLevelDocumentation" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>&#10;&lt;p&gt;The Expression actor evaluates a specified expression (e.g., an addition or multiplication operation), which may reference the values of user-specified input ports, the current time, or the actor's iteration count. The actor outputs the value of the evaluated expression. &lt;/p&gt;&#10;&#10;&lt;p&gt;Expressions are specified in the Ptolemy expression language via the expression parameter. For more information about the expression language, see http://ptolemy.eecs.berkeley.edu/papers/05/ptIIdesign1-intro/ptIIdesign1-intro.pdf. &lt;/p&gt;&#10;&#10;&lt;p&gt;By default, the expression parameter is empty, and attempting to execute the actor without first specifying an expression generates an error. Expressions can refer to the values of inputs by the port name; to the current time by the identifier &quot;time&quot;; and to the current iteration count by the identifier &quot;iteration.&quot; &lt;/p&gt;&#10;&#10;&lt;p&gt;Input ports are created by the user and correspond to variables used in the specified expression. Currently, the Expression actor does not support input multiports. The actor requires all of its inputs to be present. If inputs are not all present, then the actor will generate an error. &lt;/p&gt;&#10;&#10;&lt;p&gt;Note: the Expression actor can be used instead of many of the arithmetic actors, such as AddSubtract, MultiplyDivide, and TrigFunction. However, those actors will be usually be more efficient, and sometimes more convenient to use.&lt;/p&gt;&#10;</configure></property>
<property name="port:output" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>An output port that broadcasts the value of the evaluated expression. The actor automatically determines the type based on the type of the input.</configure></property>
<property name="prop:expression" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>An expression to evaluate. Expressions are specified in the Ptolemy expression language. For more information about the expression language, see http://ptolemy.eecs.berkeley.edu/papers/05/ptIIdesign1-intro/ptIIdesign1-intro.pdf. By default, the parameter is empty, and attempting to execute the actor without first specifying an expression generates an error. Expressions can refer to the values of inputs by the port name; to the current time by the identifier &quot;time&quot;; and to the current iteration count by the identifier &quot;iteration.&quot;</configure></property>
</property>        <property name="derivedFrom" class="org.kepler.moml.NamedObjIdReferralList" value="urn:lsid:kepler-project.org:actor:75:1:urn:lsid:kepler-project.org/ns/:1361:31:1:urn:lsid:kepler-project.org/ns/:2538:2:1:urn:lsid:kepler-project.org/ns/:49463:19:2">
        </property>
    </entity>
    <entity name="Text File Writer7" class="org.resurgence.actor.TextFileWriter">
        <property name="Change existing" class="ptolemy.data.expr.StringParameter" value="Append">
        </property>
<property name="KeplerDocumentation" class="ptolemy.vergil.basic.KeplerDocumentationAttribute">
<property name="description" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>null</configure></property>
<property name="author" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>Wibke Sudholt</configure></property>
<property name="version" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>null</configure></property>
<property name="userLevelDocumentation" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>&lt;p&gt;The TextFileWriter actor reads a string token and writes it, without any enclosing quotation marks, to a file. The actor outputs the file path of the generated file.&lt;/p&gt; &#10;&#10;&lt;p&gt;The path and name of the output file are specified via input ports. Specify whether the input is appended to the specified file (if it exists), or if an existing file is overwritten via the changeExisting parameter. &lt;/p&gt;&#10;&#10;&lt;p&gt;The TextFileWriter is similar to the FileWriter actor, except that the TextFileWriter actor does not add line breaks to its output, while the FileWriter actor does.&lt;/p&gt;</configure></property>
<property name="port:fileToWrite" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>An input port that accepts the file path of the file to which to write. See FileParameter for more information about specifying file names.</configure></property>
<property name="port:string" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>An input port that receives a string token to write-one line at a time--to a file.</configure></property>
<property name="port:fileWritten" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>An output port that broadcasts the name and path of the output file.</configure></property>
<property name="prop:Change existing" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>Specify whether the input is appended to the specified file (if it exists), or if an existing file is overwritten.</configure></property>
</property>        <property name="entityId" class="org.kepler.moml.NamedObjId" value="urn:lsid:kepler-project.org/ns/:49505:246:1">
        </property>
        <property name="class" class="ptolemy.kernel.util.StringAttribute" value="org.resurgence.actor.TextFileWriter">
            <property name="id" class="ptolemy.kernel.util.StringAttribute" value="urn:lsid:kepler-project.org:class:1120:1">
            </property>
        </property>
        <property name="semanticType00" class="org.kepler.sms.SemanticType" value="urn:lsid:localhost:onto:1:1#WriterOutputActor">
        </property>
        <property name="semanticType11" class="org.kepler.sms.SemanticType" value="urn:lsid:localhost:onto:2:1#LocalOutput">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="{2003.9999999999982, 1420.312499999999}">
        </property>
        <property name="derivedFrom" class="org.kepler.moml.NamedObjIdReferralList" value="urn:lsid:kepler-project.org:actor:295:1">
        </property>
    </entity>
    <entity name="String Accumulator" class="org.resurgence.actor.StringAccumulator">
        <property name="Substring separator" class="ptolemy.data.expr.Parameter" value="&quot;&quot;">
        </property>
<property name="KeplerDocumentation" class="ptolemy.vergil.basic.KeplerDocumentationAttribute">
<property name="description" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>null</configure></property>
<property name="author" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>Wibke Sudholt</configure></property>
<property name="version" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>null</configure></property>
<property name="userLevelDocumentation" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>&lt;p&gt;&#10;The StringAccumulator actor reads multiple strings via its input port and outputs a string containing all of the input values. The characters separating the substrings in the output string can be specified with the substringSeparator parameter.&lt;/p&gt;</configure></property>
<property name="port:whole" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>An output port that broadcasts the full string.</configure></property>
<property name="port:parts" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>A multiport that accepts substrings.</configure></property>
<property name="prop:Substring separator" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>The characters used to separate the elements in the output string. By default, the value is &quot;&quot;.</configure></property>
</property>        <property name="entityId" class="org.kepler.moml.NamedObjId" value="urn:lsid:kepler-project.org:actor:292:1">
        </property>
        <property name="class" class="ptolemy.kernel.util.StringAttribute" value="org.resurgence.actor.StringAccumulator">
            <property name="id" class="ptolemy.kernel.util.StringAttribute" value="urn:lsid:kepler-project.org:class:1117:1">
            </property>
        </property>
        <property name="semanticType00" class="org.kepler.sms.SemanticType" value="urn:lsid:localhost:onto:1:1#StringFunctionActor">
        </property>
        <property name="semanticType11" class="org.kepler.sms.SemanticType" value="urn:lsid:localhost:onto:2:1#IterativeOperation">
        </property>
        <property name="_location" class="ptolemy.kernel.util.Location" value="[1360.0, 1280.0]">
        </property>
    </entity>
    <relation name="relation10" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation2" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation3" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation17" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation8" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation9" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation16" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation5" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation6" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation12" class="ptolemy.actor.TypedIORelation">
        <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
        </property>
        <vertex name="vertex1" value="[970.0, 375.0]">
        </vertex>
    </relation>
    <relation name="relation4" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation21" class="ptolemy.actor.TypedIORelation">
        <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
        </property>
        <vertex name="vertex1" value="[635.0, 725.0]">
        </vertex>
    </relation>
    <relation name="relation7" class="ptolemy.actor.TypedIORelation">
        <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
        </property>
        <vertex name="vertex1" value="[650.0, 770.0]">
        </vertex>
    </relation>
    <relation name="relation18" class="ptolemy.actor.TypedIORelation">
        <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
        </property>
        <vertex name="vertex1" value="[715.0, 835.0]">
        </vertex>
    </relation>
    <relation name="relation11" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation13" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation14" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation15" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation19" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation20" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation22" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation23" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation24" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation25" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation26" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation29" class="ptolemy.actor.TypedIORelation">
        <property name="width" class="ptolemy.data.expr.Parameter" value="-1">
        </property>
        <vertex name="vertex1" value="[1025.0, 1385.0]">
        </vertex>
    </relation>
    <relation name="relation27" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation28" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation30" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation31" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation32" class="ptolemy.actor.TypedIORelation">
    </relation>
    <relation name="relation33" class="ptolemy.actor.TypedIORelation">
    </relation>
    <link port="Data File Name.output" relation="relation3"/>
    <link port="Data File Name2.output" relation="relation"/>
    <link port="Data File Name3.output" relation="relation2"/>
    <link port="File Reader.output" relation="relation5"/>
    <link port="File Reader.fileOrURL" relation="relation10"/>
    <link port="Expression.output" relation="relation10"/>
    <link port="DataTurbine.DataTurbine Address" relation="relation"/>
    <link port="DataTurbine.Specific Source Name" relation="relation2"/>
    <link port="DataTurbine.Start Time (for Request or Subscribe modes)" relation="relation5"/>
    <link port="DataTurbine.Duration (for Request or Subscribe modes)" relation="relation3"/>
    <link port="DataTurbine.CrystalLakeSonde/Chla" relation="relation4"/>
    <link port="DataTurbine.CrystalLakeSonde/DO2" relation="relation13"/>
    <link port="DataTurbine.CrystalLakeSonde/DOSat" relation="relation14"/>
    <link port="DataTurbine.CrystalLakeSonde/Depth" relation="relation12"/>
    <link port="DataTurbine.CrystalLakeSonde/WTemp" relation="relation15"/>
    <link port="DataTurbine.CrystalLakeSonde/pH" relation="relation19"/>
    <link port="DataTurbine.CrystalLakeSonde/sCond" relation="relation20"/>
    <link port="RExpression.output" relation="relation11"/>
    <link port="RExpression.input" relation="relation4"/>
    <link port="RExpression.Depth" relation="relation12"/>
    <link port="RExpression.last_date_input" relation="relation21"/>
    <link port="RExpression.last_date" relation="relation8"/>
    <link port="RExpression.odm_mappings_in" relation="relation7"/>
    <link port="RExpression.range_checks_in" relation="relation18"/>
    <link port="RExpression.query" relation="relation6"/>
    <link port="File Reader2.output" relation="relation21"/>
    <link port="File Reader2.fileOrURL" relation="relation17"/>
    <link port="Data File Name5.output" relation="relation17"/>
    <link port="Expression2.output" relation="relation7"/>
    <link port="Expression3.output" relation="relation18"/>
    <link port="Token To String Converter.input" relation="relation8"/>
    <link port="Token To String Converter.output" relation="relation9"/>
    <link port="Text File Writer.string" relation="relation9"/>
    <link port="Text File Writer.fileToWrite" relation="relation16"/>
    <link port="Data File Name4.output" relation="relation16"/>
    <link port="Database Writer.input" relation="relation6"/>
    <link port="Display.input" relation="relation11"/>
    <link port="RExpression2.input" relation="relation13"/>
    <link port="RExpression2.Depth" relation="relation12"/>
    <link port="RExpression2.last_date_input" relation="relation21"/>
    <link port="RExpression2.odm_mappings_in" relation="relation7"/>
    <link port="RExpression2.range_checks_in" relation="relation18"/>
    <link port="RExpression2.query" relation="relation22"/>
    <link port="RExpression2.log_file_text" relation="relation27"/>
    <link port="RExpression3.input" relation="relation14"/>
    <link port="RExpression3.Depth" relation="relation12"/>
    <link port="RExpression3.last_date_input" relation="relation21"/>
    <link port="RExpression3.odm_mappings_in" relation="relation7"/>
    <link port="RExpression3.range_checks_in" relation="relation18"/>
    <link port="RExpression3.query" relation="relation23"/>
    <link port="RExpression3.log_file_text" relation="relation28"/>
    <link port="RExpression4.input" relation="relation15"/>
    <link port="RExpression4.Depth" relation="relation12"/>
    <link port="RExpression4.last_date_input" relation="relation21"/>
    <link port="RExpression4.odm_mappings_in" relation="relation7"/>
    <link port="RExpression4.range_checks_in" relation="relation18"/>
    <link port="RExpression4.query" relation="relation24"/>
    <link port="RExpression4.log_file_text" relation="relation30"/>
    <link port="RExpression5.input" relation="relation19"/>
    <link port="RExpression5.Depth" relation="relation12"/>
    <link port="RExpression5.last_date_input" relation="relation21"/>
    <link port="RExpression5.odm_mappings_in" relation="relation7"/>
    <link port="RExpression5.range_checks_in" relation="relation18"/>
    <link port="RExpression5.query" relation="relation25"/>
    <link port="RExpression5.log_file_text" relation="relation31"/>
    <link port="RExpression6.input" relation="relation20"/>
    <link port="RExpression6.Depth" relation="relation12"/>
    <link port="RExpression6.last_date_input" relation="relation21"/>
    <link port="RExpression6.odm_mappings_in" relation="relation7"/>
    <link port="RExpression6.range_checks_in" relation="relation18"/>
    <link port="RExpression6.query" relation="relation26"/>
    <link port="RExpression6.log_file_text" relation="relation32"/>
    <link port="Database Writer2.input" relation="relation22"/>
    <link port="Database Writer3.input" relation="relation23"/>
    <link port="Database Writer4.input" relation="relation25"/>
    <link port="Database Writer6.input" relation="relation26"/>
    <link port="Database Writer7.input" relation="relation24"/>
    <link port="Data File Name6.output" relation="relation29"/>
    <link port="Text File Writer7.string" relation="relation33"/>
    <link port="Text File Writer7.fileToWrite" relation="relation29"/>
    <link port="String Accumulator.parts" relation="relation27"/>
    <link port="String Accumulator.parts" relation="relation28"/>
    <link port="String Accumulator.parts" relation="relation30"/>
    <link port="String Accumulator.parts" relation="relation31"/>
    <link port="String Accumulator.parts" relation="relation32"/>
    <link port="String Accumulator.whole" relation="relation33"/>
</entity>
